---
title: "Представление типов среды выполнения Windows в JavaScript | Документы Майкрософт"
ms.custom: 
ms.date: 01/18/2017
ms.prod: windows-client-threshold
ms.reviewer: 
ms.suite: 
ms.technology: javascript
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Windows Runtime types [JavaScript]
- JavaScript, Windows Runtime types
ms.assetid: f4851802-8b40-4afa-ba6c-8a162a9a43cc
caps.latest.revision: "9"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 8e4c21675d26bf857391d92b99b4a94637a761ca
ms.sourcegitcommit: aadb9588877418b8b55a5612c1d3842d4520ca4c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2017
---
# <a name="javascript-representation-of-windows-runtime-types"></a>Представление типов среды выполнения Windows в JavaScript
В следующей таблице описано представление типов среды выполнения Windows в JavaScript.  
  
> [!IMPORTANT]
>  Компоненты среды выполнения Windows недоступны тем приложениям, которые выполняются в Internet Explorer.  
  
## <a name="windows-runtime-types-in-javascript"></a>Типы среды выполнения Windows в JavaScript  
  
|Тип среды выполнения Windows|Представление в JavaScript|Описание|  
|--------------------------|-------------------------------|-----------------|  
|`UInt8`|`Number`|Тип `Uint8` среды выполнения Windows — это 8-разрядное целое число без знака, представленное в виде числа JavaScript. Значение JavaScript сначала преобразуется в число JavaScript, а затем выполняется процесс `ToUint32`. Если числовое значение JavaScript находится вне диапазона значений типа Uint8, к результату будет применено деление с остатком на 2 в 8-й степени.|  
|`Int32`|`Number`|Тип `Int32` среды выполнения Windows — это 32-разрядное целое число со знаком, представленное в виде числа JavaScript. Значение JavaScript сначала преобразуется в число JavaScript, а затем выполняется процесс `ToInt32`. Если числовое значение JavaScript находится вне диапазона значений типа `Int32`, к результату будет применено деление с остатком на 2 в 16-й степени.|  
|`Int64`|`Number`|Тип `Int64` среды выполнения Windows — это 64-разрядное целое число со знаком, представленное в виде стандартного числа, если оно входит в диапазон от –2 в 53-й степени до 2 в 53-й степени. Если число находится за пределами этого диапазона, то оно представляется в качестве числового значения с особым резервным хранилищем, в котором содержатся все 64 разряда данных целого числа. При выполнении любых математических операций над этими особыми числовыми значениями типа Int64 значение преобразуется в стандартное число в диапазоне от –2 в 53-й степени до 2 в 53-й степени. Если значение находится за пределами этого диапазона, возникает ошибка типа. Это преобразование не применяется к операциям `==`, `===`, `SameValue` и `RelationalComparison`, которые при передаче им этих двух аргументов, представляющих 64-разрядные значения, сравнивают эти значения по всем 64 разрядам. Если любой из аргументов является стандартным числом JavaScript, эти операции также преобразуют аргумент в число JavaScript перед сравнением. Если значение JavaScript имеет тип Int64, оно присваивается напрямую. В противном случае в среду выполнения Windows передается результат выполненного над значением преобразования `ToInteger`. Если приведение типов выполнить не удается, возвращается исключение.|  
|`Uint64`|`Number`|Тип `Uint64` среды выполнения Windows — это 64-разрядное целое число без знака, представленное в виде стандартного числа, входящего в диапазон от 0 до 2 в 53-й степени. Если число находится за пределами этого диапазона, то оно представляется в качестве числового значения с особым резервным хранилищем, в котором содержатся все 64 разряда данных целого числа без знака. При выполнении любых математических операций над этими особыми числовыми значениями типа Uint64 значение преобразуется в стандартное число в диапазоне от 0 до 2 в 53-й степени. Если значение находится за пределами этого диапазона, возникает ошибка типа. Это преобразование не применяется к операциям `==`, `===`, `SameValue` и `RelationalComparison`, которые при передаче им двух 64-разрядных значений сравнивают эти значения по всем 64 разрядам. Если любой из аргументов является стандартным числом JavaScript, эти операции также преобразуют аргумент в число JavaScript перед сравнением. Если значение JavaScript имеет тип Uint64, оно присваивается напрямую. В противном случае в среду выполнения Windows передается значение, к которому применено преобразование `ToInteger`, а затем применено деление с остатком на 2 в 52-й степени. Если приведение типов выполнить не удается, возвращается исключение.|  
|`Single`|`Number`|Тип `Single` среды выполнения Windows — это 32-разрядное число с плавающей запятой, представленное в виде числа JavaScript путем выбора значения с двойной точностью, которое является ближайшим к значению с одиночной точностью. Значение JavaScript преобразуется в число JavaScript, после чего выполняется проверка диапазона, чтобы установить, что значение может быть представлено в виде 32-разрядного числа с плавающей запятой одиночной точности по спецификации IEEE 754. Если преобразование или проверку диапазона выполнить не удается, возвращается ошибка маршалинга.|  
|`Double`|`Number`|Тип `Double` среды выполнения Windows — это 64-разрядное число с плавающей запятой. Для преобразования типа `Double` среды выполнения Windows в число JavaScript используется `ToNumber`. Если выполнить преобразование не удается, возвращается ошибка маршалинга.|  
|`Boolean`|`Boolean`|Тип `Boolean` среды выполнения Windows — это 8-разрядное число, которое определяется следующим образом: нулевому значению соответствует `false`, а ненулевым значениям — `true`. Число представлено в виде типа JavaScript `Boolean`. Значение JavaScript сначала преобразуется в тип JavaScript `Boolean` с помощью `ToBoolean`. Таким образом, функцию среды выполнения Windows, объявленную как `void func(BOOL);`, в JavaScript можно записать как `obj.func("test");`. Функция среды выполнения Windows вызывается со значением `TRUE` параметра `BOOL`. Если выполнить преобразование не удается, возвращается ошибка маршалинга.|  
|`Char16`|`String`|Тип `Char16` среды выполнения Windows — это 16-разрядный символ Юникода, представленный в виде строки JavaScript, содержащей один символ. Значение JavaScript преобразуется в строку JavaScript с помощью `ToString`, после чего проверяется, что строка имеет только один символ. После этого один символ передается в качестве значения `Char16`. Если преобразование или проверка длины строки не срабатывают, возвращается ошибка маршалинга.|  
|`String`|`String`|Тип `String` среды выполнения Windows — это неизменяемая последовательность объектов `Char16`. Строки представляются в виде объектов JavaScript `String`. Для строк среды выполнения Windows значение `null` и пустая строка ("") идентичны. Значение `null` и пустые значения строк преобразуются в пустые строки JavaScript. Примечание: если в качестве параметра среды выполнения Windows, для которого ожидается строковое значение, передается аргумент JavaScript типа `null`, аргумент преобразуется в строковое значение "null", а не в `null` или пустую строку (""). Строки, которые передаются в среду выполнения Windows, следует всегда инициализировать с помощью пустых строк.|  
|`Enumeration`|`Object`|Тип `Enumeration` среды выполнения Windows — это 32-разрядное целое число (со знаком или без знака), с которым связан набор именованных констант. В языке JavaScript перечисление представляется в виде объекта, содержащего поля только для чтения для каждого именованного значения. Значения перечисления преобразуются в числовые значения JavaScript, как было описано ранее для типов `Int32` и `UInt32`. Когда значение JavaScript преобразуется в перечисление среды выполнения Windows, для этого значения выполняются преобразование, усечение и проверка диапазона, как было описано выше. Однако результирующее значение не проверяется на соответствие заданным именованным значениям, которые указаны в перечислении.|  
|`Structure`|`Object`|Тип `Structure` среды выполнения Windows — это разнородная коллекция именованных полей данных. В JavaScript структура представляется как объект JavaScript, содержащий именованное свойство для каждого поля структуры. Если для какого-то значения структуры выполнить преобразование не удается, возвращается ошибка маршалинга. Поля объекта JavaScript, не имеющие эквивалентов в структуре среды выполнения Windows, игнорируются. Примечание: для создания экземпляра структуры среды выполнения Windows в JavaScript не может использоваться ключевое слово `new`.|  
|`Array`|`Array`|Тип `Array` среды выполнения Windows преобразуется в массив JavaScript. Однако изменение размера массивов в среде выполнения Windows не допускается, поэтому некоторые операции с массивами JavaScript работать не будут. Внутреннее свойство [[Class]] преобразованного массива не устанавливается в значение "Array", так как это не допускается в соответствии со спецификацией ECMAScript 5. Это означает, что `Array.isArray(v)` возвращает `false`. Значение JavaScript преобразуется в массив среды выполнения Windows следующим образом: значения `null` или `undefined` преобразуются в собственное значение `null` среды. Если внутреннее свойство [[Class]] этого массива равно "Array", то массив копируется в собственный массив среды, и на этот массив передается ссылка. Если это массив, преобразованный, как описано выше, передается собственный массив среды. Примечание: при передаче значения массива JavaScript в метод среды выполнения Windows происходит полное копирование массива.|  
|Делегат (функция обратного вызова)|`Function`|Делегат среды выполнения Windows — это ссылка на одиночный метод. Делегат среды выполнения Windows представлен в JavaScript в виде функции JavaScript `Function`, которая гарантированно вызывается в нужном потоке. При вызове функции `Function` аргументы преобразуются в эквивалентные типы параметров среды выполнения Windows. Если количество аргументов JavaScript меньше количества параметров `in` делегата, вызов делегата не срабатывает. Если количество аргументов JavaScript больше количества параметров `in` делегата, лишние аргументы JavaScript игнорируются. После вызова делегата параметры `out` преобразуются в типы JavaScript и возвращаются. Если объект собственной функции JavaScript преобразуется в делегат среды выполнения Windows, он упаковывается в делегат соответствующего типа среды выполнения Windows. При вызове делегата параметры `in` преобразуются в типы JavaScript. После вызова делегата возвращаемое значение преобразуется в параметры `out` делегата.|  
|Интерфейс|`Object`|Интерфейсы и группы интерфейсов не представляются в JavaScript напрямую в виде объектов. Однако интерфейсы представляются как типы параметров и возвращаемые типы методов среды выполнения Windows. Экземпляр интерфейса среды выполнения Windows преобразуется следующим образом:<br /><br /> 1.  Если имеется допустимый класс среды выполнения, объект представляется как экземпляр этого класса.<br />2.  Если допустимый класс среды выполнения отсутствует, объект представляется как экземпляр безымянного класса среды выполнения, который реализует именно тот интерфейс, который был реализован в экземпляре, а также требуемые интерфейсы экземпляра.<br /><br /> Значение JavaScript проверяется, чтобы определить, является ли оно экземпляром класса среды выполнения или интерфейса. Если является, а исходное значение среды выполнения Windows реализует интерфейс, объект передается в среду выполнения Windows.|  
|Классы среды выполнения|`Object`|Объекты в среде выполнения Windows могут представлять собой экземпляры классов среды выполнения, каждый из которых реализует один или несколько интерфейсов. Объекты среды выполнения Windows представляются в JavaScript как объекты. Объединение методов, свойств и событий, определенных для всех реализованных интерфейсов класса, представляет именованные свойства в прототипе объекта JavaScript. Объекты-получатели JavaScript могут напрямую обращаться к любому элементу класса. Объекты среды выполнения Windows имеют прототип, который содержит все элементы из всех реализованных интерфейсов класса среды выполнения.|  
  
## <a name="see-also"></a>См. также  
 [Использование среды выполнения Windows в JavaScript](../jswinrt/using-the-windows-runtime-in-javascript.md)
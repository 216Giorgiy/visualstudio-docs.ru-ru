---
title: "Проекты в инструментах R для Visual Studio | Документация Майкрософт"
ms.custom: 
ms.date: 4/26/2017
ms.prod: visual-studio-dev15
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-r
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 732b73cf-2014-4f98-838e-4141ef9dedac
caps.latest.revision: 1
author: kraigb
ms.author: kraigb
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
ms.translationtype: Human Translation
ms.sourcegitcommit: 7a873df77756e5a957d327049566c8e0db1f3a8a
ms.openlocfilehash: b2e331fe3a538150845ede2534b2164393d6c5e6
ms.contentlocale: ru-ru
ms.lasthandoff: 05/12/2017

---


# <a name="creating-r-projects-in-visual-studio"></a>Создание проектов R в Visual Studio

Проект R (файл `.rxproj`) определяет все исходные файлы и файлы содержимого, связанные с проектом, содержит сведения о сборке каждого файла, хранит информацию для интеграции с системами управления версиями и помогает упорядочить приложение в виде логических компонентов. Обратите внимание, что сведения, относящиеся к рабочей области, такие как список установленных пакетов, хранятся отдельно в самой рабочей области.

Для управления проектами всегда используется *решение* Visual Studio, которое может содержать любое число проектов с возможностью ссылаться друг на друга. См. подраздел [Использование проектов различных типов в Visual Studio](#use-multiple-project-types-in-visual-studio).

## <a name="creating-a-new-r-project"></a>Создание проекта R

1. Запустите Visual Studio.
1. Выберите **Файл > Создать > Проект...** (CTRL+SHIFT+N)
1. В разделе **Шаблоны > R** выберите "Проект R" и присвойте имя проекту, укажите его расположение, а затем нажмите **ОК**.

    ![Диалоговое окно создания проекта R в Visual Studio (RTVS в VS2017)](~/rtvs/media/getting-started-01-new-project.png)

Будет создан проект с пустым файлом `script.R`, который будет открыт в редакторе. Обратите внимание также на то, что в **обозревателе решений** находятся два других файла проекта.

![Содержимое проекта R, созданного на основе шаблона](~/rtvs/media/projects-template-results.png)

В файле `.Rhistory` фиксируются все команды, введенные в [интерактивном окне R](interactive-repl.md). Чтобы открыть журнал в отдельном окне, выберите команду **Инструменты R > Окна > Журнал**; в этом окне имеются кнопка панели инструментов и элементы контекстного меню для очистки содержимого журнала.

В файле `rproject.rproj` хранятся параметры проекта R, которые не управляются Visual Studio иным способом.

| Свойство | По умолчанию | Описание |
| --- | --- | --- |
| Версия | 1,0 | Версия инструментов R для Visual Studio, которая использовалась для создания проекта. |
| RestoreWorkspace | По умолчанию | Автоматическая загрузка переменных предыдущей рабочей области из файла `.RData` в каталоге проекта. |
| SaveWorkspace | По умолчанию | Сохранение переменных текущей рабочей области в файле `.RData` в каталоге проекта при закрытии проекта. |
| AlwaysSaveHistory | По умолчанию | Сохранение журнала интерактивного окна в файле `.RHistory` в каталоге проекта при закрытии проекта. |
| EnableCodeIndexing | Да | Определяет необходимость запуска фоновой задачи индексирования для ускорения поиска кода. |
| UseSpacesForTab | Да | Определяет, следует ли вставлять пробелы (Да) или символ табуляции (Нет) при нажатии клавиши TAB в редакторе. |
| NumSpacesForTab | 2 | Число пробелов для вставки, если для параметра UseSpacesForTab выбрано значение "Да". |
| кодировка | UTF-8 | Кодировка по умолчанию для файлов `.R`. |
| RnwWeave | Sweave | Пакет для использования при встраивании файла Rnw. |
| LaTeX | pdfLaTeX | Библиотека для использования при преобразовании RMarkdwon в PDF. |

### <a name="converting-a-folder-of-files-to-an-r-project"></a>Преобразование папки с файлами в проект R

Если имеется папка с файлами `.R`, которую необходимо преобразовать в проект, выполните следующие действия.

1. Создайте новый проект в Visual Studio, как описано в предыдущем разделе.
1. Скопируйте файлы в папку проекта.
1. В обозревателе решений Visual Studio щелкните правой кнопкой мыши проект, выберите **Добавить > Существующий элемент** и перейдите к файлам, которые нужно добавить. После нажатия кнопки **ОК** они появятся в дереве проекта.
1. Чтобы упорядочить код по вложенным папкам, сначала щелкните правой кнопкой мыши проект, выберите **Добавить > Новая папка**, а затем скопируйте файлы и все эти существующие элементы в эту папку , как описано выше.

## <a name="project-properties"></a>Свойства проекта

Для просмотра страниц свойств проекта, щелкните правой кнопкой мыши проект в **обозревателе решений** и выберите **Свойства** или выберите пункт меню * *Проект > Свойства (название проекта)*. Откроется окно со следующими свойствами.

| Вкладка | Свойство | Описание |
| --- | --- | --- |
| Выполнить | Файл запуска | Имя файла, который выполняется с помощью команды **Исходный файл запуска**, клавиши F5, команды **Отладка > Начать отладку** или команды **Отладка > Запуск без отладки**. Для этого также можно щелкнуть правой кнопкой мыши файл в проекте и выбрать **Назначить запускаемым скриптом R**. |
| | Сбросить интерактивное окно R при запуске | Сброс всех переменных в рабочей области интерактивного окна при запуске проекта. Это гарантирует отсутствие в рабочей области остаточного содержимого предыдущих запусков. |
| | Путь к удаленному проекту | Путь к удаленной рабочей области. |
| | Передать файлы при запуске | Указание того, следует ли при каждом запуске копировать файлы проекта, к которым применен фильтр в разделе **Файлы для передачи**, в удаленную рабочую область. |
| | Файлы для передачи | Имена файлов и подстановочные знаки, указывающие определенные файлы для копирования в удаленную рабочую область, если выбран параметр **Передать файлы при запуске**. |
| Параметры | (Файл Settings.R) | Параметры проекта R берутся из файлов `Settings.R` или `*.Settings.R`, которые находятся внутри проекта. Если файл параметров отсутствует, можно добавить переменные и сохранить страницу, после чего автоматически будет создан файл `Settings.R` по умолчанию. Файл параметров также можно добавить в проект с помощью команды * *Файл > Добавить новый элемент*. <br/> Параметры хранятся в виде кода R, и файл можно выполнить перед выполнением других модулей, предварительно заполнив при этом среду с помощью предварительно определенных параметров. |

## <a name="r-specific-project-commands"></a>Команды для проекта R

Проекты Visual Studio поддерживают ряд общих команд, которые представлены в контекстном меню и в меню **Проект**. Дополнительные сведения об этих общих возможностях см. в разделе [Решения и проекты в Visual Studio](../ide/solutions-and-projects-in-visual-studio.md). Однако следует помнить, что 

инструменты R для Visual Studio добавляют ряд собственных команд в контекстное меню для проекта R, а также собственные файлы и папки в проект.

| Команда | Описание |
| --- | --- |
| Задать текущий каталог в качестве рабочего | Задание рабочего каталога интерактивного окна R в качестве папки проекта. Также можно использовать любую вложенную папку в проекте. |
| Открыть содержащую папку | Открытие проводника в папке выбранного файла. | 
| Добавить скрипт R | Создание и открытие нового файла `.R` с именем по умолчанию. Можно также воспользоваться командой **Добавить > Новый элемент**, чтобы создать файлы `.R`, а также ряд файлов других типов. См. подраздел [Шаблоны элементов R](#r-specific-item-templates) ниже. |
| Добавить разметку R Markdown | Создание и открытие нового документа `.rmd` с именем по умолчанию. Можно также воспользоваться командой **Добавить > Новый элемент**, чтобы создать файлы `.rmd`, а также ряд файлов других типов. См. подраздел [Шаблоны элементов R](#r-specific-item-templates) ниже.  | 
| Публикация хранимых процедур | Запуск процесса публикации всех хранимых процедур, содержащихся в скриптах R. См. раздел [Работа с хранимыми процедурами SQL Server](sql-server.md#working-with-sql-server-stored-procedures). | 

## <a name="r-specific-item-templates"></a>Шаблоны элементов R

В состав инструментов R для Visual Studio входит несколько шаблонов для определенных типов файлов. Для доступа к ним щелкните правой кнопкой мыши проект R и выберите команду **Добавить > Новый элемент** или **Проект > Добавить новый элемент** либо выберите команду **Файл > Создать > Файл**, а затем выберите вкладку **R**. Лучший способ просмотра шаблонов — создайте новый проект и вставьте файлы каждого типа.

> [!Note]
> Команды **Добавить > Новый элемент** также позволяют отобразить общие типы файлов, которые отсутствуют в списке ниже; в меню **Файл > Создать > Файл** эти типы находятся на вкладке **Общие**.

| Тип файла | Описание |
| --- | --- |
| Скрипт R | Текстовый файл, содержащий те же команды, которые можно ввести в командной строке R. |
| Разметка R | Файл, содержащий документ с [разметкой R](rmarkdown.md). |
| Параметры R | Файл, содержащий параметры приложения R. | 
| Документация по R | Универсальный файл документации по R, содержащий только поля имени псевдонима и заголовка. |
| Документация по R (функция) | Файл документации по R, содержащий множество полей с комментариями для описания функции. |
| Документация по R (набор данных) | Файл документации по R, содержащий множество полей с комментариями для описания набора данных. |
| SQL-запрос | Пустой файл `.sql`. См. раздел [Интеграция с SQL Server](sql-server.md). |
| Хранимые процедуры с R | Файл R с дочерним SQL-запросом и дочерним файлом шаблона хранимой процедуры. См. раздел [Интеграция с SQL Server](sql-server.md). |


## <a name="use-multiple-project-types-in-visual-studio"></a>Использование проектов различных типов в Visual Studio

Решения Visual Studio являются удобным местом для сбора проектов и управления связанными проектами в одном логичном месте. Это помогает обеспечить упорядочение кода и облегчает взаимодействие команд.

В примере ниже решение содержит проект R с моделью, созданной с использованием R и машинного обучения Azure, проект обучения Python/scikit, проект C++, содержащий модули для выполнения ресурсоемких вычислительных операций, проект SQL для управления данными и проект Python/Bottle для веб-сайта, который публикует результат.

![Visual Studio в обозревателе решений с несколькими проектами, объединенными в одном решении](~/rtvs/media/projects-polyglot.png)

Проект, выделенный полужирным шрифтом, является "запускаемым" проектом для решения; чтобы изменить его, щелкните правой кнопкой мыши другой проект и выберите **Назначить запускаемым проектом**.

> [!Note]
> В настоящее время не существует явной интеграции языков R и C#/C++ (такой, которая имеется для Python, см. раздел [Создание расширения C++ для Python](../python/cpp-and-python.md)).  Тем не менее есть библиотеки, содержащие мосты C# и C++ для R.

Дополнительные сведения об управлении проектами и решениями см. в разделе [Решения и проекты в Visual Studio](../ide/solutions-and-projects-in-visual-studio.md).


---
title: "Устранение неполадок при установке | Документация Майкрософт"
description: "Иногда возникают проблемы. Если происходит сбой установки или обновления Visual Studio, эта страница может помочь решить проблему."
ms.date: 08/28/2017
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-ide-install
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- '{{PLACEHOLDER}}'
- '{{PLACEHOLDER}}'
ms.assetid: 556EDD3F-E365-43EE-B3DD-03AA4353F75B
author: timsneath
ms.author: tims
manager: ghogen
ms.translationtype: HT
ms.sourcegitcommit: 6f0fe07b55ae0eeb57c0cc11fed047f31966cb6e
ms.openlocfilehash: 15e3b7cf051d26b6784df13f57794f6057e4c91c
ms.contentlocale: ru-ru
ms.lasthandoff: 09/06/2017

---
# <a name="troubleshooting-visual-studio-2017-installation-and-upgrade-issues"></a>Устранение неполадок при установке и обновлении Visual Studio 2017

## <a name="symptoms"></a>Симптомы
Операция установки или обновления Visual Studio 2017 завершается ошибкой.

## <a name="workaround"></a>Обходной путь
Чтобы обойти эту проблему, выполните следующие действия.

### <a name="step-1---check-whether-this-problem-is-a-known-issue"></a>Шаг 1. Проверьте, не связана ли эта ошибка с известными проблемами
Существуют несколько известных проблем с установщиком Visual Studio, и корпорация Майкрософт работает над их устранением. Проверьте [раздел известных проблем в заметках о выпуске](https://www.visualstudio.com/news/releasenotes/vs2017-knownissues), чтобы найти способ обойти эту проблему.

### <a name="step-2---check-with-the-developer-community"></a>Шаг 2. Обратитесь к сообществу разработчиков
Попробуйте найти полученное сообщение об ошибке в [сообществе разработчиков Visual Studio](https://developercommunity.visualstudio.com/spaces/8/index.html). Возможно, другие члены сообщества уже описали решение для вашей проблемы.

### <a name="step-3---delete-the-visual-studio-installer-directory-to-fix-upgrade-problems"></a>Шаг 3. Удалите каталог с установщиком Visual Studio, чтобы устранить проблемы, связанные с обновлением
Загрузчик установщика Visual Studio представляет собой минимально необходимый исполняемый файл небольшого размера, который устанавливает остальную часть установщика Visual Studio. Если вы удалите файлы установщика Visual Studio и повторно запустите загрузчик, это может решить некоторые ошибки, связанные с обновлением.

**Примечание.** С помощью следующей процедуры можно переустановить файлы Visual Studio Installer и сбросить метаданные установки.

1. Закройте установщик Visual Studio.
2. Удалите каталог установщика Visual Studio. Обычно он располагается по адресу C:\Program Files (x86)\Microsoft Visual Studio\Installer.
3. Запустите загрузчик установщика Visual Studio. Файл загрузчика вы можете найти в папке загрузок. Его имя будет соответствовать формату ```vs_[Visual Studio edition]__*.exe```. Если вы не найдете это приложение, можно заново скачать загрузчик со [страницы загрузки Visual Studio](https://www.visualstudio.com/downloads/), нажав кнопку **Скачать** для нужного выпуска Visual Studio. Запустите этот исполняемый файл, чтобы сбросить метаданные установки.
4. Снова попробуйте установить или обновить Visual Studio. Если запуск установщика снова завершится ошибкой, переходите к следующему шагу.

### <a name="step-4---report-a-problem"></a>Шаг 4. Сообщите о проблеме
В некоторых ситуациях, например при повреждении файлов, может потребоваться рассмотреть конкретную ситуацию.

1. Соберите файлы журналов установки. Инструкции см. в разделе [Как получить журналы установки Visual Studio](#how-to-get-the-visual-studio-installation-logs).
2. Откройте установщик Visual Studio и нажмите кнопку **Сообщить о проблеме**, чтобы открыть средство обратной связи Visual Studio.
![Чтобы открыть средство обратной связи, можно перейти к кнопе "Предоставление отзыва" с помощью клавиши табуляции](media/report-a-problem.png)
3. Присвойте заголовок вашему отчету об ошибке и опишите все важные сведения. Щелкните **Далее**, чтобы перейти к разделу **Вложения**, и присоединить созданный файл журналов (обычно этот файл находится по адресу %TEMP%\vslogs.zip).
![Перейдите к кнопке "Сообщить о новой ошибке" и выполните все предложенные шаги](media/problem-report-details.png)
4. Щелкните **Далее**, чтобы просмотреть свой отчет об ошибках, а затем нажмите кнопку **Отправить**.

### <a name="step-5---run-installcleanupexe-to-clean-up-installation-files"></a>Шаг 5. Выполнение программы InstallCleanup.exe для очистки файлов установки
В качестве последнего средства можно запустить InstallCleanup.exe. Средство InstallCleanup.exe поставляется в комплекте с установщиком Visual Studio. Оно предназначено для очистки файлов установки. Это средство не выполняет полную повторную установку. Оно удаляет данные кэша и экземпляра Visual Studio 2017.

1. Закройте установщик Visual Studio.
2. Откройте командную строку от имени учетной записи администратора. Для этого выполните следующие действия.
   * В меню **Пуск** выберите пункт **Выполнить** (Пуск + R).
   * Наберите команду **cmd**.
   * Щелкните правой кнопкой мыши пункт **Командная строка** и выберите команду **Запуск от имени администратора**.
3. Введите полный путь к программе InstallCleanup.exe и передайте ей параметр командной строки -f. По умолчанию эта программа расположена по следующему адресу:
   ```
   C:\Program Files (x86)\Microsoft Visual Studio\Installer\resources\app\layout\InstallCleanup.exe
   ```
4. Повторно запустите загрузчик, описанный в разделе [Шаг 3. Удалите каталог с установщиком Visual Studio, чтобы устранить проблемы, связанные с обновлением](#step-3--delete-the-visual-studio-installer-directory-to-fix-upgrade-problems).
5. Снова попробуйте установить или обновить Visual Studio.

## <a name="how-to-troubleshoot-an-offline-installer"></a>Устранение неполадок с автономным установщиком
Здесь мы приводим список известных проблем при установке из локального макета и варианты обходных действий, которые могут оказаться полезными.

| Проблеми       | Элемент                   | Решение |
| ----------- | ---------------------- | -------- |
| У пользователей отсутствуют права доступа к файлам. | Разрешения (ACL) | *Прежде* чем открывать общий доступ к автономной установке, необходимо настроить разрешения (ACL) и предоставить пользователям права на чтение. |
| Не удается установить новые рабочие нагрузки, компоненты или языки.  | `--layout`  | Если вы производите установку из частичного макета и выбираете рабочие нагрузки, компоненты или языки, которые не скачаны в этот макет, вам потребуется доступ в Интернет. |

## <a name="how-to-get-the-visual-studio-installation-logs"></a>Как получить журналы установки Visual Studio
Для устранения большинства неполадок при установке необходимы журналы установки. При отправке проблемы с помощью средства [сообщения о проблеме](../ide/how-to-report-a-problem-with-visual-studio-2017.md) в Visual Studio Installer эти журналы автоматически включаются в отчет.

Если вы обращаетесь в службу поддержки Майкрософт, для отправки этих журналов установки может понадобиться [средство сбора журналов для Microsoft Visual Studio и .NET Framework](https://aka.ms/vscollect). Средство сбора журналов собирает журналы установки для всех компонентов, устанавливаемых программой Visual Studio 2017, включая .NET Framework, пакет SDK для Windows и SQL Server. Оно также собирает сведения о компьютере, данные инвентаризации установщика Windows и сведения журнала событий Windows для Visual Studio Installer, установщика Windows и восстановления системы.

Сбор журналов

1. [Скачайте средство](https://aka.ms/vscollect).
2. Откройте командную строку от имени администратора.
3. Запустите файл Collect.exe из каталога, в котором сохранено средство.
4. Найдите полученный файл Vslogs.zip в каталоге TEMP, например: C:\Users\YourName\AppData\Local\Temp\vslogs.zip.

> [!NOTE]
> Запускайте средство с помощью той же учетной записи пользователя, с помощью которой запускалась завершившаяся сбоем установка. Если вы запускаете средство с помощью другой учетной записи, задайте параметр –user:\<name\>, чтобы указать учетную запись пользователя, с помощью которой запускалась завершившаяся сбоем установка. Чтобы просмотреть дополнительные параметры и сведения об использовании, запустите `Collect.exe -?` из командной строки администратора.


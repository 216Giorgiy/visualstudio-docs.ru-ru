---
title: "Иерархическое обновление | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "aspx"
helpviewer_keywords: 
  - "данные [Visual Basic], иерархическое обновление"
  - "наборы данных [Visual Basic], иерархическое обновление"
  - "иерархическое обновление"
  - "сохранение измененных данных"
  - "связанные таблицы, сохранение"
  - "сохранение данных, изменяющиеся данные"
  - "сохранение данных, иерархическое обновление"
  - "сохранение обновленных данных"
  - "сохранение обновленных данных"
ms.assetid: 68bae3f6-ec9b-45ee-a33a-69395029f54c
caps.latest.revision: 26
caps.handback.revision: 17
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Иерархическое обновление
*Иерархическое обновление* — это процесс сохранения обновленных данных \(из набора данных двух или более связанных таблиц\) обратно в базу данных, сохраняя ограничения ссылочной целостности.  *Целостность данных* — это правила согласованности условий, заданные с помощью ограничений в базе данных и управляющие поведением вставки, обновления и удаления связанных записей.  Например, именно целостность данных обеспечивает создание записи клиента перед тем, как будет разрешено создавать заказы для этого клиента.  
  
 Сохранение измененных данных из связанных таблиц несколько сложнее, чем сохранение данных из одной таблицы.  Это происходит потому, что команды UPDATE, INSERT и DELETE для каждой связанной таблицы должны быть выполнены в определенном порядке, во избежание нарушения ограничений целостности данных.  В качестве примера рассмотрим приложение для ввода заказа, при помощи которого можно управлять как новыми, так и существующими клиентами и заказами.  Если нужно удалить существующего клиента, необходимо сначала удалить все заказы этого клиента перед удалением записи клиента.  При добавлении нового клиента \(с заказом\) сначала следует вставить новую запись клиента перед вставкой заказов этого клиента из\-за существующих в таблице ограничений внешнего ключа.  Как видно из этих примеров, необходимо извлекать определенные подмножества данных и отправлять обновления \(вставки, обновления и удаления\) в правильном порядке для поддержания целостности данных.  
  
 Средства иерархического обновления используют `TableAdapterManager` для управления `TableAdapter` в типизированном наборе данных.  Компонент `TableAdapterManager` является компонентом, сгенерированным [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)], поэтому он не является частью [!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)].  Подробные сведения о классе `TableAdapterManager` см. в разделе "Ссылка TableAdapterManager" в [Общие сведения о компоненте TableAdapterManager](../Topic/TableAdapterManager%20Overview.md).  
  
 Если приложение использует типизированные наборы данных и дает пользователям возможность изменения данных в связанных таблицах данных \(таблицы данных в отношении "один ко многим", например Customers и Orders\), возможно, потребуется использовать иерархическое обновление.  
  
## В этом подразделе  
 [Общие сведения об иерархическом обновлении](../Topic/Hierarchical%20Update%20Overview.md)  
 Пояснения относительно того, что такое иерархическое обновление, и сведения о том, как оно реализуется.  
  
 [Общие сведения о компоненте TableAdapterManager](../Topic/TableAdapterManager%20Overview.md)  
 Пояснения относительно того, что такое `TableAdapterManager`, и описание кода `TableAdapterManager`, создаваемого конструктором наборов данных.  
  
 [Практическое руководство. Разрешение и запрет иерархического обновления](../Topic/How%20to:%20Enable%20and%20Disable%20Hierarchical%20Update.md)  
 Описание способов задания свойства `Hierarchical Update` типизированного набора данных для генерации кода сохранения связанных таблиц.  
  
 [Практическое руководство. Настройка ограничений внешнего ключа в наборе данных](../Topic/How%20to:%20Configure%20Foreign-Key%20Constraints%20in%20a%20Dataset.md)  
 Описание способов настройки ограничений в наборе данных.  
  
 [Практическое руководство. Фиксация внутрипроцессных изменений в элементах управления с привязкой к данным до сохранения данных](../data-tools/commit-in-process-edits-on-data-bound-controls-before-saving-data.md)  
 Описание способов остановки всех производимых изменений в элементах управления с привязкой к данным в форме для подготовки источника данных к сохранению.  
  
 [Практическое руководство. Установка порядка выполнения иерархического обновления](../Topic/How%20to:%20Set%20the%20Order%20When%20Performing%20a%20Hierarchical%20Update.md)  
 Описание способов задания свойства `UpdateOrder` объекта `TableAdapterManager` для управления порядком выполнения вставки, обновления и удаления.  
  
 [Практическое руководство. Реализация иерархического обновления в существующих проектах Visual Studio](../Topic/How%20to:%20Implement%20Hierarchical%20Update%20in%20Existing%20Visual%20Studio%20Projects.md)  
 Описание способов обновления приложения, имеющего связанные таблицы данных, для сохранения данных с помощью `TableAdapterManager`.  
  
 [Пошаговое руководство. Сохранение данных связанных таблиц данных \(иерархическое обновление\)](../Topic/Walkthrough:%20Saving%20Data%20from%20Related%20Data%20Tables%20\(Hierarchical%20Update\).md)  
 Пошаговые инструкции по созданию приложения, имеющего связанные таблицы данных, и сохранению данных с помощью `TableAdapterManager`.  
  
## Ссылка  
 <xref:System.Data.DataSet>  
  
 <xref:System.Data.DataTable>  
  
## Связанные подразделы  
 [Работа с наборами данных в N\-уровневых приложениях](../data-tools/work-with-datasets-in-n-tier-applications.md)  
  
 [Сохранение данных](../data-tools/saving-data.md)  
  
 [Создание и изменение типизированных наборов данных](../data-tools/creating-and-editing-typed-datasets.md)  
  
 [адаптеры таблиц TableAdapter](../Topic/TableAdapters.md)  
  
 [Объекты DataSet, DataTable и DataView](../Topic/DataSets,%20DataTables,%20and%20DataViews.md)  
  
 [DataTables](../Topic/DataTables.md)  
  
 [Доступ к данным в Visual Studio](../data-tools/accessing-data-in-visual-studio.md)
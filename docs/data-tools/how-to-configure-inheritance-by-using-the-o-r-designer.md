---
title: 'Практическое: Настройка наследования с помощью реляционный конструктор объектов'
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: e594af12-e777-434a-bc08-7dd2dac84cdc
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.technology: vs-data-tools
ms.workload:
- data-storage
ms.openlocfilehash: bb0be89627f5e7e95d7d45ebfb938bca3e4a982b
ms.sourcegitcommit: e9d1018a01af62c3dc5aeb6b325faba7e20bd496
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2018
ms.locfileid: "37089268"
---
# <a name="how-to-configure-inheritance-by-using-the-or-designer"></a>Практическое: Настройка наследования с помощью реляционного конструктора объектов
**Реляционный конструктор объектов** (**реляционный конструктор объектов**) поддерживает концепцию наследования одиночных таблиц, так как она обычно осуществляется в реляционных системах. При однотабличном наследовании имеется единственная таблица базы данных, которая содержит поля как для родительских данных, так и для дочерних. Для реляционных данных столбец дискриминатора содержит значение, которое определяет, какому классу принадлежит каждая запись.

Например, рассмотрим `Persons` таблицу, которая включает в себя всех сотрудников компании. Некоторые лица являются служащими, а некоторые - менеджерами. `Persons` Таблица содержит столбец с именем `EmployeeType` , имеет значение 1 для менеджеров и значение 2 для служащих; это столбец дискриминатора. В этом случае можно создать подкласс служащих и заполнить класс только записями, которые имеют в столбце `EmployeeType` значение 2. Кроме того, можно удалить из каждого класса неприменимые столбцы.

Создание модели объекта, который использует наследование (и соответствует реляционным данным), может быть несколько запутанным. Ниже описаны шаги по настройке наследования с использованием **реляционный конструктор объектов**. Выполнение этих универсальных действий без обращения к существующей таблице и столбцам может оказаться затруднительным, поэтому предоставляется пошаговое руководство, которое использует данные. Подробные пошаговые инструкции по настройке наследования с помощью **реляционный конструктор объектов**, см. в разделе [Пошаговое руководство: Создание LINQ to SQL классы с помощью однотабличного наследования (реляционный конструктор объектов)](../data-tools/walkthrough-creating-linq-to-sql-classes-by-using-single-table-inheritance-o-r-designer.md).

## <a name="to-create-inherited-data-classes"></a>Чтобы создать наследуемые классы данных

1.  Откройте **реляционный конструктор объектов** , добавив **LINQ to SQL Classes** элемента в существующий проект Visual Basic или C#.

2.  Перетащите таблицу, необходимо использовать в качестве базового класса на **реляционный конструктор объектов**.

3.  Перетащите вторую копию таблицы на **реляционный конструктор объектов** и переименуйте его. Это производный класс или подкласс.

4.  Нажмите кнопку **наследования** в **реляционный конструктор объектов** вкладке **элементов**, а затем щелкните по подклассу (таблица, вы переименовали) и подключите его к базовому классу.

    > [!NOTE]
    >  Нажмите кнопку **наследования** элемент **элементов** и отпустите кнопку мыши, щелкните второй экземпляр класса, созданного на шаге 3 и затем щелкните первый класс, созданный на шаге 2. Стрелка на линии наследования указывает на первый класс.

5.  Удалите в каждом классе свойства объектов, которые не должны выводиться и не используются для ассоциаций. Произошла ошибка при попытке удалить свойства объекта, используемые для ассоциаций: [свойство \<имя свойства > невозможно удалить, так как оно участвует в ассоциации \<имя ассоциации >](../data-tools/the-property-property-name-cannot-be-deleted-because-it-is-participating-in-the-association-association-name.md).

    > [!NOTE]
    >  Поскольку производный класс наследует свойства, определенные в своем базовом классе, нельзя определить в каждом классе одинаковые столбцы. (Столбцы внедряются как свойства.) Вы можете включить создание столбцов в производном классе, устанавливая модификатор наследования на свойство в базовом классе. Дополнительные сведения см. в разделе [Основы наследования (Visual Basic)](/dotnet/visual-basic/programming-guide/language-features/objects-and-classes/inheritance-basics).

6.  Выберите линию наследования в **реляционный конструктор объектов**.

7.  В **свойства** окне **Свойство дискриминатора** имя столбца, который отличает записей в классах.

8.  Задайте **производного класса дискриминатора** в соответствии с значением в базе данных, которое обозначает запись в качестве наследуемого типа. (Это значение, которое хранится в столбце дискриминатора и используется для обозначения наследуемого класса.)

9. Задайте **Дискриминатор базового класса** присваивается значение, которое обозначает запись в качестве базового типа. (Это значение, которое хранится в столбце дискриминатора и используется для обозначения базового класса).

10. При необходимости можно также задать **наследование по умолчанию** свойство, чтобы обозначить тип в иерархии наследования, который используется при загрузке строк, которые не соответствует ни одному определенному коду наследования. Другими словами, если запись имеет значение в столбце дискриминатора, не соответствует значению ни **производного класса дискриминатора** или **Дискриминатор базового класса** свойства, запись Загружает в тип, обозначенный как **наследование по умолчанию**.

## <a name="see-also"></a>См. также

- [Средства LINQ to SQL в Visual Studio](../data-tools/linq-to-sql-tools-in-visual-studio2.md)
- [Пошаговое руководство: Создание LINQ для классов SQL (реляционный конструктор объектов)](how-to-create-linq-to-sql-classes-mapped-to-tables-and-views-o-r-designer.md)
- [Доступ к данным в Visual Studio](../data-tools/accessing-data-in-visual-studio.md)
- [LINQ to SQL](/dotnet/framework/data/adonet/sql/linq/index)
- [Пошаговое руководство: Создание LINQ для классов SQL с помощью однотабличного наследования (реляционный конструктор объектов)](../data-tools/walkthrough-creating-linq-to-sql-classes-by-using-single-table-inheritance-o-r-designer.md)
- [Основы наследования (Visual Basic)](/dotnet/visual-basic/programming-guide/language-features/objects-and-classes/inheritance-basics)
- [Наследование](/dotnet/csharp/programming-guide/classes-and-structs/inheritance)
---
title: Общие сведения о Visual Studio реляционный конструктор объектов
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 45e477c0-5c6b-41f9-b2d0-2808fb4f6537
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.technology: vs-data-tools
ms.workload:
- data-storage
ms.openlocfilehash: acb279780db1291d62cde8202268e0990a56ea64
ms.sourcegitcommit: e13e61ddea6032a8282abe16131d9e136a927984
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
---
# <a name="linq-to-sql-tools-in-visual-studio"></a>Средства LINQ to SQL в Visual Studio

LINQ to SQL была первой технологии объектно реляционного сопоставления, выпускаемых корпорацией Майкрософт. Он хорошо работает в основных сценариях и продолжает поддерживаться в Visual Studio, но он больше не находится в активной разработке. Использование LINQ SQL при обслуживании с устаревшим приложением, оно уже используется, или в простых приложений, использующих SQL Server и не требуют сопоставление нескольких таблиц. Как правило новые приложения должны использовать Entity Framework, при необходимости к слою объектно реляционного сопоставления.

В Visual Studio создать LINQ to SQL classes, представляющих таблиц SQL с помощью реляционный конструктор объектов (O/R-конструктор).

Реляционный конструктор объектов имеет две различные области в области конструктора: область сущностей слева и область методов справа. Область сущностей является основной областью конструктора, отображающей классы сущностей, ассоциации и иерархии наследования. Область методов-это область конструктора, которая отображает <xref:System.Data.Linq.DataContext> методы, которые сопоставлены с хранимыми процедурами и функциями.

Реляционный конструктор объектов предоставляет визуальную поверхность проектирования для создания [LINQ to SQL](/dotnet/framework/data/adonet/sql/linq/index) классов сущностей и ассоциаций (связей), основанных на объектах в базе данных. Другими словами O/R-конструктор используется для создания модели объекта в приложении, которое сопоставляется с объектами в базе данных. Модель также генерирует <xref:System.Data.Linq.DataContext> со строгим контролем ввода, который используется для отправки и получения данных между классами сущностей и базой данных. Реляционный конструктор объектов также предоставляет функциональные возможности сопоставления сохраненных процедур и функций <xref:System.Data.Linq.DataContext> методы для возврата данных и заполнения классов сущностей. Наконец реляционный конструктор объектов предоставляет возможность проектировать отношения наследования между классами сущностей.

## <a name="open-the-or-designer"></a>Откройте конструктор O/R

Для добавления LINQ to SQL сущностной модели в проект, выберите **проекта** > **Добавление нового элемента**и выберите **LINQ to SQL Classes** из списка элементов проекта:

![Классы LINQ to SQL](../data-tools/media/raddata-linq-to-sql-classes.png)

Visual Studio создает DBML-файла и добавляет его в решение. Это XML-файл сопоставления и файлы связанного кода.

![Классы LINQ to SQL в обозревателе решений](../data-tools/media/raddata-linq-to-sql-classes-in-solution-explorer.png)

При выборе DBML-файла Visual Studio отображает область конструктора O/R, который позволяет визуально создавать модели. На следующем рисунке показан конструктор после перетащили таблицам Northwind Customers и Orders из обозревателя серверов. Обратите внимание, связи между таблицами.

![Конструктор LINQ to SQL](../data-tools/media/raddata-linq-to-sql-designer.png)

> [!IMPORTANT]
> Реляционный конструктор объектов является простой объект реляционный модуль сопоставления, так как он поддерживает только сопоставляющие отношения 1:1. Другими словами, класс объекта может иметь сопоставляющее отношение только 1:1 с таблицей базы данных или представлением. Сложные сопоставления, например сопоставление класса сущностей с соединяемой таблицей, не поддерживается; Сложные сопоставления, использующие платформу Entity Framework. Кроме того, конструктор является односторонним генератором объектного кода. Это означает, что только изменения, которые вы осуществляете на области конструктора, отражаются в файле кода. Ручное внесение изменений в файл кода, не отражаются в реляционный конструктор объектов. Любые изменения, которые вы вручную осуществляете в файле кода принимаются, когда конструктор сохраняется и генерируется код. Сведения о том, как добавить пользовательский код и распространить классы, создаваемые в конструкторе O/R см. в разделе [как: расширить код, созданный конструктором O/R](../data-tools/how-to-extend-code-generated-by-the-o-r-designer.md).

## <a name="create-and-configure-the-datacontext"></a>Создание и настройка DataContext

После добавления **LINQ to SQL Classes** в проект и откройте конструктор O/R, пустая область конструктора представляет пустой <xref:System.Data.Linq.DataContext> готовая к настройке. <xref:System.Data.Linq.DataContext> настроен со сведениями о подключении, предоставляемые первым перемещенного в область конструктора... Таким образом <xref:System.Data.Linq.DataContext> настраивается с использованием информации о подключении из первого элемента перетащить в область конструктора. Дополнительные сведения о <xref:System.Data.Linq.DataContext> см. класс, [методы DataContext (O/R-конструктор)](../data-tools/datacontext-methods-o-r-designer.md).

## <a name="create-entity-classes-that-map-to-database-tables-and-views"></a>Создание классов сущностей, которые сопоставляются таблицам БД или представлениям

Можно создавать классы сущностей, сопоставленный с таблицами и представлениями, путем перетаскивания таблиц базы данных и представления из **обозревателя серверов**/**обозреватель баз данных** в конструктор O/R. Как указывалось в предыдущем разделе, <xref:System.Data.Linq.DataContext> конфигурируется с информацией о подключении, предоставленной первым элементом, который перемещен в область конструктора. Если в конструктор O/R добавляется элемент, который использует другое подключение, можно изменить подключение для <xref:System.Data.Linq.DataContext>. Дополнительные сведения см. в разделе [как: создание классов LINQ to SQL сопоставлен с таблицами и представлениями (конструктор O/R)](../data-tools/how-to-create-linq-to-sql-classes-mapped-to-tables-and-views-o-r-designer.md).

## <a name="create-datacontext-methods-that-call-stored-procedures-and-functions"></a>Создание методов DataContext, которые вызывают сохраненные процедуры и функции

Можно создать <xref:System.Data.Linq.DataContext> методы, которые вызывают (сопоставляются) сохраненные процедуры и функции путем перетаскивания их из **обозревателя серверов**/**обозреватель баз данных** в конструктор O/R. Хранимые процедуры и функции добавляются в конструктор O/R методы <xref:System.Data.Linq.DataContext>.

> [!NOTE]
> Когда хранимые процедуры и функции перетаскиваются из **обозревателя серверов**/**обозреватель баз данных** в конструктор O/R, тип возвращаемого значения для создаваемого <xref:System.Data.Linq.DataContext> метод отличается в зависимости от того, куда вы сбросили элемент. Дополнительные сведения см. в разделе [методы DataContext (O/R-конструктор)](../data-tools/datacontext-methods-o-r-designer.md).

## <a name="configure-a-datacontext-to-use-stored-procedures-to-save-data-between-entity-classes-and-a-database"></a>Настройка DataContext, чтобы использовать хранимые процедуры для сохранения данных между классами сущностей и базой данных

Как утверждалось ранее, можно создавать методы <xref:System.Data.Linq.DataContext>, которые вызывают сохраненные процедуры и функции. Кроме того можно также назначить хранимые процедуры, которые могут использоваться для LINQ по умолчанию для поведения среды выполнения SQL, которая выполняет вставки, обновления и удаления. Дополнительные сведения см. в разделе [как: назначение хранимых процедур для выполнения обновления, вставки и удаления (конструктор O/R)](../data-tools/how-to-assign-stored-procedures-to-perform-updates-inserts-and-deletes-o-r-designer.md).

## <a name="inheritance-and-the-or-designer"></a>Наследование и реляционный конструктор объектов

Как и другие объекты классы LINQ to SQL можно использовать наследование и выводиться из других классов. В базе данных, отношения наследования создаются несколькими способами. Реляционный конструктор объектов поддерживает концепцию наследования одиночных таблиц, как она обычно осуществляется в реляционных системах. Дополнительные сведения см. в разделе [как: Настройка наследования с помощью реляционного конструктора объектов](../data-tools/how-to-configure-inheritance-by-using-the-o-r-designer.md).

## <a name="linq-to-sql-queries"></a>Запросы LINQ to SQL

Классы сущностей, созданные в конструкторе O/R предназначены для использования с [встроенных в язык запросы (LINQ)](/dotnet/csharp/linq/). Дополнительные сведения см. в разделе [как: запрашивать информацию](/dotnet/framework/data/adonet/sql/linq/how-to-query-for-information).

## <a name="separate-the-generated-datacontext-and-entity-class-code-into-different-namespaces"></a>Разделения автоматически созданного кода класса DataContext и сущности в разных пространствах имен

Предоставляет конструктор O/R **контекстное пространство имен** и **пространство имен сущностей** свойства <xref:System.Data.Linq.DataContext>. Эти свойства определяют, какое пространство имен <xref:System.Data.Linq.DataContext> и кода классов сущностей генерируется в нем. По умолчанию эти свойства пустые и <xref:System.Data.Linq.DataContext> классы сущностей генерируются в пространстве имен приложения. Чтобы сгенерировать код в пространство имен, отличное от пространства имен приложения, введите значение в **контекстное пространство имен** и/или **пространство имен сущностей** свойства.

## <a name="reference-content"></a>Справочные материалы

- <xref:System.Linq>
- <xref:System.Data.Linq>

## <a name="see-also"></a>См. также

- [LINQ to SQL (.NET Framework)](/dotnet/framework/data/adonet/sql/linq/index)
- [Часто задаваемые вопросы (.NET Framework)](/dotnet/framework/data/adonet/sql/linq/frequently-asked-questions)
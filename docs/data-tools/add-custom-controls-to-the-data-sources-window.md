---
title: Добавление пользовательских элементов управления в окно "Источники данных"
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.datasource.howtoaddcustomcontrol
helpviewer_keywords:
- Data Sources Window, adding controls
- controls [Visual Studio], adding to Data Sources Window
- DefaultBindingPropertyAttribute class, using
- LookupBindingPropertiesAttribute class, using
- ComplexBindingPropertiesAttribute class, using
- Data Sources Window, selecting controls
ms.assetid: 8c43e7d2-ba94-4d9b-96de-3aa971955afd
author: gewarren
ms.author: gewarren
manager: douge
ms.technology: vs-data-tools
ms.workload:
- data-storage
ms.openlocfilehash: 5961498518d8f2a1137134f88f7961f1c9395937
ms.sourcegitcommit: 42ea834b446ac65c679fa1043f853bea5f1c9c95
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/19/2018
---
# <a name="add-custom-controls-to-the-data-sources-window"></a>Добавление пользовательских элементов управления в окно "Источники данных"
При перетаскивании элемента из **источники данных** окна в рабочую область конструирования для создания элемента управления с привязкой к данным, можно выбрать тип элемента управления, который вы создаете. Каждый элемент в окне имеет отображает элементы управления, которые можно выбрать в списке. Набор элементов управления, связанных с каждым элементом, определяется тип данных элемента. Если элемент управления, который требуется создать не отображается в списке, необходимо выполнить инструкции этого раздела, чтобы добавить элемент управления в список.

 Дополнительные сведения о выборе элементов управления с привязкой к данным следует создавать для объектов в **источники данных** окна, в разделе [задать элемент управления, создаваемого при перетаскивании из окна источников данных](../data-tools/set-the-control-to-be-created-when-dragging-from-the-data-sources-window.md).

> [!NOTE]
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от действующих параметров или выпуска среды. Чтобы изменить параметры, на **средства** последовательно выберите пункты **Импорт и экспорт параметров**. Дополнительные сведения см. в разделе [Персонализация интегрированной среды разработки Visual Studio](../ide/personalizing-the-visual-studio-ide.md).

##  <a name="customizinglist"></a> Настроить список привязываемых элементов управления для типа данных
 Чтобы добавить или удалить элементы управления из списка доступных элементов управления для элементов в **источники данных** окно, которое имеет определенный тип данных, выполните следующие действия.

#### <a name="to-select-the-controls-to-be-listed-for-a-data-type"></a>Выбор элементов управления будет отображаться для типа данных

1.  Убедитесь, что открыт конструктор WPF или конструктор Windows Forms.

2.  В **источники данных** окно, щелкните элемент, который является частью источника данных добавляется в окно, затем щелкните раскрывающееся меню для элемента.

3.  В раскрывающемся меню щелкните **Настройка**. Одно из следующих диалоговых откроется:

    -   Если открыт конструктор Windows Forms, **Настройка данных интерфейса пользователя** страница **параметры** откроется диалоговое окно.

    -   Если открыт конструктор WPF, **Настройка привязки элементов управления** откроется диалоговое окно.

4.  В диалоговом окне выберите тип данных из **тип данных** раскрывающегося списка.

    -   Чтобы настроить список элементов управления для таблицы или объекта, выберите **[список]**.

    -   Чтобы настроить список элементов управления для столбца таблицы или свойства объекта, выберите тип данных столбца или свойства в базовом хранилище данных.

    -   Чтобы настроить список элементов управления для отображения объектов данных, содержащих пользовательские фигуры, выберите **[другие]**. Например, выберите **[другие]** Если приложение имеет пользовательский элемент управления, отображающий данные из нескольких свойств определенного объекта.

5.  В **связанные элементы управления** выберите каждый элемент управления, должен быть доступен для выбранного типа данных или отмените выбор всех элементов управления, которые требуется удалить из списка.

    > [!NOTE]
    >  Если элемент управления, который вы хотите выбрать не отображается в **связанные элементы управления** поле, необходимо добавить элемент управления в список. Дополнительные сведения см. в разделе [Добавление элементов управления в список связанных элементов управления для типа данных](#addingcontrols).

6.  Нажмите кнопку **ОК**.

7.  В **источники данных** щелкните элемент данных типа, сопоставленный с одного или нескольких элементов управления, затем щелкните раскрывающееся меню для элемента.

     Элементы управления, выбранные в **связанные элементы управления** поле теперь отображаются в раскрывающемся меню для элемента.

##  <a name="addingcontrols"></a> Добавление элементов управления в список связанных элементов для типа данных
 Если требуется связать элемент управления с типом данных, но элемент управления не отображается в **связанные элементы управления** поле, необходимо добавить элемент управления в список. Элемент управления должен быть размещен в текущем решении или в связанной сборке. Он также должен быть доступен в **элементов**, и иметь атрибут, определяющий поведение привязки данных элемента управления.

#### <a name="to-add-controls-to-the-list-of-associated-controls"></a>Добавление элементов управления в список связанных элементов

1.  Добавьте нужный элемент управления для **элементов** щелкните правой кнопкой мыши **элементов** и выбрав **Выбор элементов**.

     Элемент управления должен иметь одно из следующих атрибутов.

    |Атрибут|Описание|
    |---------------|-----------------|
    |<xref:System.ComponentModel.DefaultBindingPropertyAttribute>|Реализуйте этот атрибут для простого элемента управления, которые отображают отдельный столбец (или свойство) данных, например <xref:System.Windows.Forms.TextBox>.|
    |<xref:System.ComponentModel.ComplexBindingPropertiesAttribute>|Реализуйте этот атрибут в элементе управления, которые отображают списки (или таблицы) данных, например <xref:System.Windows.Forms.DataGridView>.|
    |<xref:System.ComponentModel.LookupBindingPropertiesAttribute>|Реализуйте этот атрибут в элементе управления, которые отображают списки (или таблицы) данных, но также требующем представления одного столбца или свойства, такие как <xref:System.Windows.Forms.ComboBox>.|

2.  Для Windows Forms на **параметры** открытия диалогового окна, **Настройка данных интерфейса пользователя** страницы. Или WPF, откройте **Настройка привязки элементов управления** диалоговое окно. Дополнительные сведения см. в разделе [Настройка список привязываемых элементов управления для типа данных](#customizinglist).

3.  В **связанные элементы управления** поле, элемент управления, который только что добавленные **элементов** должен появиться.

    > [!NOTE]
    >  Только элементы управления, которые находятся в текущем решении или в сборке, на которую указывает ссылка, можно добавить в список связанных элементов. (Элементы управления также должен реализовывать один из атрибутов привязки к данным в таблице выше.) Привязка данных к пользовательскому элементу управления, который недоступен в **источники данных** окно, перетащите элемент управления из **элементов** на область конструктора, а затем перетащите элемент для привязки из **данных Источники** окна на элемент управления.

## <a name="see-also"></a>См. также

- [Привязка элементов управления к данным в Visual Studio](../data-tools/bind-controls-to-data-in-visual-studio.md)
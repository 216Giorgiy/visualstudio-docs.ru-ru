---
title: "Обновление MDF-файлы | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- SQL Server Express
- SQL Server LocalDB
- LocalDB
- SQLEXPRESS
- upgrading SQLExpress to SQLExpress
- upgrading to LocalDB
author: gewarren
ms.author: gewarren
manager: ghogen
ms.technology: vs-data-tools
ms.workload: data-storage
ms.openlocfilehash: b0e12b716d98920ea2d358a43116042ca54ffd2f
ms.sourcegitcommit: 32f1a690fc445f9586d53698fc82c7debd784eeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="upgrade-mdf-files"></a>Обновление MDF-файлы

В этом разделе описываются варианты обновления файл базы данных (MDF) после установки более новой версии Visual Studio. Он включает инструкции для выполнения следующих задач:

- Обновить файл базы данных для использования более новой версии SQL Server Express LocalDB

- Обновить файл базы данных для использования новой версии SQL Server, экспресс-выпуск

- Работать с файлом базы данных в Visual Studio, но сохранить совместимость с более старой версии SQL Server Express или LocalDB

- Сделать экспресс-выпуска SQL Server database engine по умолчанию

Visual Studio можно использовать, чтобы открыть проект, который содержит файл базы данных (MDF-файл), который был создан с помощью более старой версии SQL Server Express или LocalDB. Тем не менее чтобы продолжить разработку проекта в Visual Studio, необходимо иметь этой версии SQL Server Express или LocalDB установлена на том же компьютере, что и Visual Studio, или необходимо обновить файл базы данных. При обновлении файла базы данных, его нельзя получить к ним доступ с помощью более ранних версий SQL Server Express или LocalDB.

Вы может также быть предложено обновить файл базы данных, которая была создана с помощью более ранней версии SQL Server Express или LocalDB Если версия файла не совместима с экземпляром SQL Server Express или LocalDB, установленный в данный момент. Чтобы устранить проблему, Visual Studio предложит обновления файла.

> [!IMPORTANT]
> Рекомендуется создать резервную копию файла базы данных перед его обновлением.

> [!WARNING]
> При обновлении MDF-файл, который был создан в 2014 LocalDB (V12) в 32-разрядных до 2016 LocalDB (V13) или более поздней версии, вы не сможете снова откройте файл в 32-разрядной версии LocalDB.

Перед обновлением базы данных следует учитывать следующие критерии:
  
-   Не обновление, если требуется работать над проектом в более старой версии и более новой версии Visual Studio.  
  
-   Не обновления, если ваше приложение будет использоваться в средах, использующих SQL Server Express, а не LocalDB.  
  
-   Не обновление, если приложение использует удаленные соединения, поскольку LocalDB не согласны с условиями.  
  
-   Не обновления, если приложение использует в Internet Information Services (IIS).  
  
-   Если для тестирования приложений баз данных в среде "песочницы", но не требуется Администрирование базы данных, рассмотрите возможность обновления.  
  
### <a name="to-upgrade-a-database-file-to-use-the-localdb-version"></a>Чтобы обновить файл базы данных для использования версии LocalDB
  
1.  В **обозревателя серверов**выберите **подключение к базе данных** кнопки.  
  
2.  В **добавить подключение** диалоговом окне укажите следующие сведения:  
  
    -   **Источник данных**:`Microsoft SQL Server (SqlClient)`  
  
    -   **Имя сервера**:  
  
        -   Чтобы использовать версию по умолчанию: `(localdb)\MSSQLLocalDB`.  Этот параметр указывает ProjectV12 или ProjectV13, в зависимости от установленной версии Visual Studio, и при создании первого экземпляра LocalDB. **MSSQLLocalDB** узел в **обозреватель объектов SQL Server** показывает, какая версия указывает.  
  
        -   Чтобы использовать конкретную версию: `(localdb)\ProjectsV12` или `(localdb)\ProjectsV13`, где LocalDB 2014 — версии 12, а V13 — LocalDB 2016.  
  
    -   **Добавить файл базы данных**: физический путь первичного MDF-файла.  
  
    -   **Логическое имя**: имя, которое вы хотите использовать с файлом.  
  
3.  Нажмите кнопку **OK**.  
  
4.  Когда появится запрос, выберите **Да** кнопку, чтобы обновить файл.  
  
    База данных обновляется, присоединен к компоненту database engine LocalDB больше не совместима с более старой версии LocalDB.  
  
Также можно изменить подключение экспресс-выпуска SQL Server для использования LocalDB, открыв контекстное меню для соединения, а затем выбрав **Изменение подключения**. В **Изменение подключения** диалоговом окне измените имя сервера, чтобы `(LocalDB)\MSSQLLocalDB`. В **дополнительные свойства** диалогового окна поле, убедитесь, что **пользовательский экземпляр** равно **False**.

### <a name="to-upgrade-a-database-file-to-use-the-sql-server-express-version"></a>Чтобы обновить файл базы данных для использования версии SQL Server Express  
  
1.  В контекстном меню для подключения к базе данных, выберите **Изменение подключения**.  
  
2.  В **Изменение подключения** выберите **Дополнительно** кнопки.  
  
3.  В **дополнительные свойства** выберите **ОК** кнопки без изменения имени сервера.  
  
    Файл базы данных обновляется в соответствии с текущей версией SQL Server, экспресс-выпуск.  
  
### <a name="to-work-with-the-database-in-visual-studio-but-retain-compatibility-with-sql-server-express"></a>Чтобы работать с базой данных в Visual Studio, но сохранить совместимость с SQL Server Express  
  
-   Откройте проект в Visual Studio без обновления его.  
  
    -   Чтобы запустить проект, выберите **F5** ключа.  
  
    -   Чтобы изменить базу данных, откройте MDF-файл в **обозревателе решений**и разверните узел в **обозревателя серверов** для работы с базой данных.  
  
### <a name="to-make-sql-server-express-the-default-database-engine"></a>Чтобы сделать экспресс-выпуска SQL Server database engine по умолчанию  
  
1.  В строке меню выберите **средства**, **параметры**.  
  
2.  В **параметры** диалогового окна разверните **инструменты для баз данных** параметры, а затем выберите **подключения к данным**.  
  
3.  В **имя экземпляра SQL Server** текстовое поле, укажите имя экземпляра SQL Server Express или LocalDB, который вы хотите использовать. Если экземпляр не имеет имени, укажите `.\SQLEXPRESS or (LocalDB)\MSSQLLocalDB`.  
  
4.  Нажмите кнопку **OK**.  
  
    SQL Server Express будет ядро базы данных по умолчанию для ваших приложений.

## <a name="see-also"></a>См. также

[Доступ к данным в Visual Studio](accessing-data-in-visual-studio.md)

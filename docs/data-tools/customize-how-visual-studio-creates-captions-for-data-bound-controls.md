---
title: "Практическое руководство. Настройка способа создания подписи для элемента управления с привязкой к данным в Visual Studio | Microsoft Docs"
ms.custom: ""
ms.date: "12/14/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "aspx"
helpviewer_keywords: 
  - "надписи, привязка к данным"
  - "окно "Источники данных", заголовки метки"
  - "Заголовки метки, Источники данных - окно"
  - "smart-заголовки"
ms.assetid: 6d4d15f8-4d78-42fd-af64-779ae98d62c8
caps.latest.revision: 12
caps.handback.revision: 9
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Практическое руководство. Настройка способа создания подписи для элемента управления с привязкой к данным в Visual Studio
При перетаскивании элементов из окна [окно "Источники данных"](../Topic/Data%20Sources%20Window.md) в конструктор Windows Forms необходимо учесть следующую особенность: если два слова или более оказываются объединенными последовательно, имена столбцов в названиях переформатируются в строку, более удобную для чтения.  Можно настроить способ создания этих меток, установив значения **SmartCaptionExpression**, **SmartCaptionReplacement** и **SmartCaptionSuffix** в разделе реестра **HKEY\_CURRENT\_USER\\Software\\Microsoft\\VisualStudio\\10.0\\Data Designers**.  
  
> [!NOTE]
>  Этот раздел реестра не существует, пока не будет создан.  
  
 Интеллектуальное создание подписей управляется регулярным выражением, вводимым в качестве значения **SmartCaptionExpression**.  Добавление раздела реестра **Data Designers** переопределяет регулярное выражение по умолчанию, которое управляет названиями элементов управления.  Дополнительные сведения о регулярных выражениях см. в разделе [Использование регулярных выражений в Visual Studio](../ide/using-regular-expressions-in-visual-studio.md).  
  
 В следующей таблице описываются значения реестра, которые управляют названиями элементов управления.  
  
|Элемент реестра|Описание|  
|---------------------|--------------|  
|SmartCaptionExpression|Регулярное выражение, используемое для формирования шаблонов.|  
|SmartCaptionReplacement|Формат отображения всех групп, определенных в **SmartCaptionExpression**.|  
|SmartCaptionSuffix|Необязательная строка, добавляемая в конец заголовка.|  
  
 В следующих таблицах приведены внутренние параметры по умолчанию для этих значений реестра.  
  
|Элемент|Значение по умолчанию|Объяснение|  
|-------------|---------------------------|----------------|  
|**SmartCaptionExpression**|\(\\\\p{Ll}\)\(\\\\p{Lu}\)&#124;\_\+|Соответствует символу нижнего регистра, за которым следует символ верхнего регистра или символ подчеркивания.|  
|**SmartCaptionReplacement**|$1 $2|$1 представляет любой символ, соответствующий выражению в первых скобках, а $2 — любой символ, соответствующий выражению во вторых скобках.  Замена — первое совпадение, пробел и затем второе совпадение.|  
|**SmartCaptionSuffix**|:|Представляет собой знак, добавляемый к возвращаемой строке.  Например, если используется подпись `Company Name`, суффикс превращает ее в `Company Name:`|  
  
> [!CAUTION]
>  Следует быть очень осторожным при выполнении действий в редакторе реестра.  Создайте резервную копию реестра перед его редактированием.  Неправильная работа с редактором реестра может привести к серьезным проблемам, которые могут потребовать переустановки операционной системы.  Microsoft не гарантирует возможности решения проблем, которые могут быть вызваны неправильным использованием редактора реестра.  Ответственность за использование редактора реестра лежит на пользователе.  
>   
>  Эта статья из базы знаний содержит инструкции по резервному копированию, редактированию и восстановлению реестра: [Описание системного реестра Microsoft Windows](http://support.microsoft.com/default.aspx?scid=kb;en-us;256986).  
  
### Чтобы изменить режим работы интеллектуального создания подписей окна "Источники данных"  
  
1.  Откройте окно командной строки, нажав **Пуск** и затем **Выполнить**.  
  
2.  Наберите `regedit` в диалоговом окне **Запуск программы** и нажмите кнопку **OK**.  
  
3.  Разверните узел **HKEY\_CURRENT\_USER**.  
  
4.  Разверните узел **Software**.  
  
5.  Разверните узел **Microsoft**.  
  
6.  Разверните узел **VisualStudio**.  
  
7.  Щелкните правой кнопкой мыши узел **10.0** и создайте новый **Раздел** с именем `Data Designers`.  
  
8.  Щелкните правой кнопкой мыши узел **Data Designers** и создайте новый **Строковый параметр** с именем `SmartCaptionExpression`.  
  
9. Щелкните правой кнопкой мыши узел **Data Designers** и создайте новый **Строковый параметр** с именем `SmartCaptionReplacement`.  
  
10. Щелкните правой кнопкой мыши узел **Data Designers** и создайте новый **Строковый параметр** с именем `SmartCaptionSuffix`.  
  
11. Щелкните правой кнопкой мыши элемент **SmartCaptionExpression** и выберите команду **Изменить**.  
  
12. Введите регулярное выражение, которое должно использовать окно **Источники данных**.  
  
13. Щелкните правой кнопкой мыши элемент **SmartCaptionReplacement** и выберите команду **Изменить**.  
  
14. Введите строку для замены, отформатированную так, как должны отображаться шаблоны, соответствующие заданному регулярному выражению.  
  
15. Щелкните правой кнопкой мыши элемент **SmartCaptionSuffix** и выберите команду **Изменить**.  
  
16. Введите любые символы, которые должны появиться в конце заголовка.  
  
     В следующий раз при перетаскивании элементов из окна **Источники данных** названия создадутся с использованием новых значений реестра.  
  
### Чтобы отключить функцию интеллектуального создания подписей  
  
1.  Откройте окно командной строки, нажав **Пуск** и затем **Выполнить**.  
  
2.  Наберите `regedit` в диалоговом окне **Запуск программы** и нажмите кнопку **OK**.  
  
3.  Разверните узел **HKEY\_CURRENT\_USER**.  
  
4.  Разверните узел **Software**.  
  
5.  Разверните узел **Microsoft**.  
  
6.  Разверните узел **VisualStudio**.  
  
7.  Щелкните правой кнопкой мыши узел **10.0** и создайте новый **Раздел** с именем `Data Designers`.  
  
8.  Щелкните правой кнопкой мыши узел **Data Designers** и создайте новый **Строковый параметр** с именем `SmartCaptionExpression`.  
  
9. Щелкните правой кнопкой мыши узел **Data Designers** и создайте новый **Строковый параметр** с именем `SmartCaptionReplacement`.  
  
10. Щелкните правой кнопкой мыши узел **Data Designers** и создайте новый **Строковый параметр** с именем `SmartCaptionSuffix`.  
  
11. Щелкните правой кнопкой мыши элемент **SmartCaptionExpression** и выберите команду **Изменить**.  
  
12. Введите `(.*)` в качестве значения.  Это будет соответствовать всей строке.  
  
13. Щелкните правой кнопкой мыши элемент **SmartCaptionReplacement** и выберите команду **Изменить**.  
  
14. Введите `$1` в качестве значения.  Это заменит строку соответствующим значением, являющимся всей строкой; таким образом, она останется неизменной.  
  
     В следующий раз при перетаскивании элементов из окна **Источники данных** названия будут создаваться с немодифицированными подписями.  
  
## См. также  
 [Регулярные выражения в .NET Framework](../Topic/.NET%20Framework%20Regular%20Expressions.md)   
 [Привязка элементов управления Windows Forms к данным в Visual Studio](../data-tools/bind-windows-forms-controls-to-data-in-visual-studio.md)   
 [Подготовка приложения к получению данных](../Topic/Preparing%20Your%20Application%20to%20Receive%20Data.md)   
 [Выборка данных в приложение](../data-tools/fetching-data-into-your-application.md)   
 [Привязка элементов управления к данным в Visual Studio](../data-tools/bind-controls-to-data-in-visual-studio.md)   
 [Редактирование данных в приложении](../data-tools/editing-data-in-your-application.md)   
 [Проверка данных](../Topic/Validating%20Data.md)   
 [Сохранение данных](../data-tools/saving-data.md)
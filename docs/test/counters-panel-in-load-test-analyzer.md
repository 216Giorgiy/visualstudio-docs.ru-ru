---
title: Панель счетчиков для анализа нагрузочных тестов в Visual Studio | Документы Майкрософт
ms.date: 10/19/2016
ms.topic: article
helpviewer_keywords:
- load tests, counters panel
ms.assetid: e1a388d7-5d33-4631-931a-5653ac4aefdc
author: gewarren
ms.author: gewarren
manager: ghogen
ms.technology: vs-ide-test
ms.openlocfilehash: 9e693872784519f5cdcacbd0691b6f69334af22e
ms.sourcegitcommit: 900ed1e299cd5bba56249cef8f5cf3981b10cb1c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2018
---
# <a name="use-the-counters-panel-in-graphs-view-and-tables-view"></a>Использование панели счетчиков в представлении диаграмм и представлении таблиц

Панель счетчиков отображается в анализаторе тестовой нагрузки в представлениях диаграмм и таблиц во время выполнения нагрузочного теста и во время анализа результатов нагрузочного тестирования. Дополнительные сведения см. в статьях [Анализ результатов нагрузочного тестирования в представлении диаграмм](../test/analyze-load-test-results-in-the-graphs-view.md), [Анализ результатов нагрузочного тестирования и ошибок в представлении таблиц](../test/analyze-load-test-results-and-errors-in-the-tables-view.md) и [Практическое руководство. Обращение к результатам нагрузочного теста для их анализа](../test/how-to-access-load-test-results-for-analysis.md).

Панель счетчиков включает структурированное представление всех счетчиков производительности, показания которых собирались в ходе нагрузочного теста. Панель счетчиков можно отобразить или скрыть, выбрав команду **Показать панель счетчиков** на панели инструментов анализатора тестовой нагрузки.

Счетчики упорядочены в древовидную структуру. Листовыми узлами этой структуры являются счетчики производительности, которые можно отобразить на диаграмме.

Панель счетчиков предоставляет следующие возможности.

-   Передача сведений о нарушении пороговых значений.

-   Выбор счетчиков для отображения на диаграммах.

-   Структурированное представление в виде дерева всех счетчиков производительности, показания которых собирались в ходе выполнения нагрузочного теста со следующими основными ветвями.

    -   **Всего**. Содержит сводку данных, полученных от счетчиков производительности, для каждого агента тестирования и для всего нагрузочного теста.

    -   **Имя сценария**. Ветви, помеченные именами сценариев тестовой нагрузки в дереве счетчиков производительности, содержат все экземпляры счетчиков нагрузочного теста, связанные с определенным сценарием тестовой нагрузки. Большинство счетчиков нагрузочного теста вложены в ветвь сценария.

         Ветвь сценария содержит узлы веб-тестов производительности. Узлы веб-тестов производительности содержат узлы страниц, запросов и транзакций. Любой листовой узел этой структуры представляет собой счетчик, который можно добавить на диаграмму.

    -   **Компьютеры**. Содержит все экземпляры счетчиков, не связанные с нагрузочным тестом, сгруппированные по компьютерам. Ветвь "Компьютеры" содержит по узлу для каждого компьютера, связанного с контроллером нагрузочного теста, заданным в разделе "Роли" параметров выбранного теста. Дополнительные сведения см. в статье [Контроллеры и агенты тестирования](configure-test-agents-and-controllers-for-load-tests.md).

         Каждый узел компьютера содержит набор категорий счетчиков производительности, собираемых с этого компьютера. Категории содержат счетчики, а счетчики содержат имена экземпляров счетчиков производительности.

    -   **Ошибки**. Содержит все ошибки, обнаруженные в ходе выполнения нагрузочного теста. Узел "Ошибки" включает несколько узлов подкатегорий ошибок. Подкатегории относятся к различным типам ошибок, таким как исключения и ошибки HTTP.

### <a name="scenario-name-node-in-counters-panel"></a>Узел с именем сценария на панели счетчиков

|||
|-|-|
|![Узел имени скрипта панели счетчиков](../test/media/ltest__namenode.png)|1. Этот узел содержит все счетчики производительности, связанные со сценарием Scenario1 нагрузочного теста.<br />2. В узел сценария входят все тесты сценария. Меткой обозначается имя теста.<br />3. Листовые узлы внутри узла теста представляют собой счетчики тестовых случаев нагрузочного теста, где имя экземпляра счетчика совпадает с именем теста.<br />4. Все экземпляры счетчика страниц нагрузочного теста, связанные с ветвью веб-теста производительности. Этот узел содержит все экземпляры счетчика страниц нагрузочного теста, связанные со страницей Login GET (отчетное имя) веб-теста производительности IBuyBrowse в сценарии Scenario1.<br />5. Листовыми узлами узла страниц являются счетчики страниц нагрузочного теста.<br />6. Ветвь веб-теста производительности содержит все экземпляры счетчика запросов нагрузочного теста, связанные с этим веб-тестом производительности. Этот узел содержит все экземпляры счетчика запросов, связанные с запросом Login GET (отчетное имя) веб-теста производительности IBuyBrowse сценария Scenario1.<br />7. Листовыми узлами узла запросов являются счетчики запросов нагрузочного теста.<br />8. Ветвь веб-теста производительности содержит все экземпляры счетчика транзакций нагрузочного теста, связанные с этим веб-тестом производительности. Этот узел содержит все экземпляры счетчика транзакций, связанные с транзакцией Transaction1 веб-теста производительности IBuyBrowse в сценарии Scenario1.<br />9. Листовыми узлами узла транзакций являются счетчики транзакций нагрузочного теста.<br />10. Узел модульного теста.|

## <a name="tasks"></a>Задачи

|Задачи|Связанные разделы|
|-----------|-----------------------|
|**Добавление дополнительных счетчиков производительности на диаграмму в представлении диаграмм**. Используя панель счетчиков, можно добавлять данные различных типов на диаграмму нагрузочного теста путем добавления на нее дополнительных счетчиков производительности.|-   [Практическое руководство. Добавление и удаление счетчиков на диаграммах](../test/how-to-add-and-delete-counters-on-graphs-in-load-test-results.md)|
|**Анализ нарушений порогов, указанных в нагрузочном тесте**. На панели счетчиков отображаются значки, представляющие нарушения порогов, которые можно добавить в таблицы и диаграммы для дальнейшего анализа.|-   [Практическое руководство. Анализ нарушений пороговых значений с помощью панели счетчиков](../test/analyze-threshold-rule-violations-in-load-tests.md)|
|**Анализ всех ошибок, обнаруженных в ходе выполнения нагрузочного теста**. Панель счетчиков включает узел ошибок, который содержит категории и подкатегории ошибок, такие как ошибки HTTP, которые можно использовать для добавления ошибок на диаграммы для дальнейшего анализа.|-   [Практическое руководство. Анализ ошибок с помощью панели счетчиков](../test/how-to-analyze-errors-using-the-counters-panel.md)|

## <a name="performance-counter-sampling-interval-considerations"></a>Особенности определения интервала выборки счетчика производительности

Выберите значение свойства **Частота выборки** в параметрах запуска нагрузочного теста в соответствии с длительностью нагрузочного теста. Для более низкой частоты выборки, например для значения по умолчанию, равного 5 секундам, требуется больше места в базе данных результатов нагрузочного тестирования. Для более длинных нагрузочных тестов увеличение частоты выборки приводит к уменьшению объема собираемых данных. Дополнительные сведения см. в статье [Практическое руководство. Задание частоты выборки](../test/how-to-specify-the-sample-rate-for-a-load-test.md).

Вот несколько рекомендаций по выбору частоты выборки.

|Длительность нагрузочного теста|Рекомендуемая частота выборки|
|------------------------|-----------------------------|
|\< 1 ч|5 секунд|
|1–8 часов|15 секунд|
|8–24 часа|30 секунд|
|> 24 часов|60 секунд|

## <a name="considerations-for-including-timing-details-to-collect-percentile-data"></a>Особенности добавления сведений о времени для сбора данных процентилей

В параметрах запуска в редакторе тестовой нагрузки имеется свойство **Хранилище сведений о синхронизации**. Если свойство **Хранилище сведений о синхронизации** включено, то в репозитории результатов нагрузочного теста будет записываться время выполнения каждого отдельного теста, транзакции и страницы. Это обеспечивает отображение данных процентилей 90 и 95 в анализаторе тестовой нагрузки в таблицах "Тесты", "Транзакции" и "Страницы".

Для свойства **Хранилище сведений о синхронизации** в параметрах запуска можно задать одно из двух значений: **StatisticsOnly** и **AllIndividualDetails**. В обоих случаях измеряется время всех тестов, страниц и транзакций, а на основе сведений о времени вычисляются данные перцентилей. Отличие состоит в том, что при выборе значения **StatisticsOnly** после вычисления данных процентилей из репозитория будут удалены сведения о времени для всех отдельных объектов. Это позволит уменьшить место, необходимое для хранения данных при использовании сведений о времени. Однако более опытные пользователи могут предпочесть обрабатывать данные о времени другими способами, с использованием средств SQL. В этом случае следует использовать значение **AllIndividualDetails**, чтобы сведения о времени были доступны для обработки. Кроме того, если задать для свойства значение **AllIndividualDetails**, можно анализировать действия виртуальных пользователей с помощью диаграммы активности виртуальных пользователей в анализаторе тестовой нагрузки после завершения нагрузочного теста. Дополнительные сведения см. в статье [Анализ действий виртуальных пользователей в представлении сведений](../test/analyze-load-test-virtual-user-activity-in-the-details-view.md).

Объем места, необходимый для хранения сведений о времени в репозитории результатов нагрузочного тестирования, может быть большим, особенно для длительных тестов. Кроме того, сохранение этих данных в хранилище результатов нагрузочного теста после завершения теста может занять очень много времени, поскольку эти данные хранятся на агентах до завершения тестирования. После завершения нагрузочного теста данные сохраняются в репозитории. По умолчанию свойство **Хранилище сведений о синхронизации** включено. Если это важно для тестовой среды, можно указать для параметра **Хранилище сведений о синхронизации** значение **Нет**.

Дополнительные сведения см. в статье [Практическое руководство. Указание свойства хранилища сведений о синхронизации](../test/how-to-specify-the-timing-details-storage-property-for-a-load-test.md).

## <a name="see-also"></a>См. также

- [Анализ результатов нагрузочных тестов](../test/analyze-load-test-results-using-the-load-test-analyzer.md)
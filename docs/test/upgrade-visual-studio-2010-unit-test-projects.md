---
title: "Обновление проектов модульных тестов Visual Studio 2010 | Документы Майкрософт"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-devops-test
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f1502b51-d6db-4894-9fbf-4a5723e4bb1a
caps.latest.revision: 8
ms.author: mlearned
manager: douge
translation.priority.ht:
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- ru-ru
- zh-cn
- zh-tw
translation.priority.mt:
- cs-cz
- pl-pl
- pt-br
- tr-tr
translationtype: Human Translation
ms.sourcegitcommit: 5658ecf52637a38bc3c2a5ad9e85b2edebf7d445
ms.openlocfilehash: c5b99a1f1661e412ae097660298942ebb89b15b1
ms.lasthandoff: 02/22/2017

---
# <a name="upgrade-visual-studio-2010-unit-test-projects"></a>Обновление проектов модульных тестов Visual Studio 2010
[!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] обеспечивает совместимость тестовых проектов с тестовыми проектами [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] с пакетом обновления 1 (SP1). Например, тестовые проекты, которые были созданы в [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] с пакетом обновления 1 (SP1) можно открыть с помощью [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] без какого-либо обновления. Следовательно ваш коллектив может использовать и [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] с пакетом обновления 1 (SP1), и [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] для работы с одним и тем же тестовым проектом. Дополнительные сведения см. в разделе [Обновление тестов из Visual Studio 2010](http://msdn.microsoft.com/en-us/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52).  
  
 В [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] представлено несколько изменений в модульном тестировании. Вследствие этих изменений важно понимать проблемы совместимости между предыдущими версиями Visual Studio и [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)]. Из всех изменений, относящихся к модульному тестированию, значительным изменением является то, что [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] содержит в себе больше, чем один шаблон тестового проекта, в том числе и шаблон проекта модульного теста. Новые модульные тесты добавляются к новому шаблону проекта модульного теста. Модульные тесты можно также включать в другом новом шаблоне, называющемся "Проект закодированных тестов пользовательского интерфейса". Дополнительные сведения о новых шаблонах тестовых проектов см. в разделе [Обновление тестов из более ранних версий Visual Studio](http://msdn.microsoft.com/en-us/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52). Новые проекты модульных тестов больше не содержат в себе по умолчанию файл параметров тестирования. За счет исключения файла с параметрами тестирования улучшается производительность модульных тестов. Для обеспечения совместимости по-прежнему можно использовать существующие тестовые проекты, созданные с помощью Visual Studio 2010. Однако для повышения производительности рекомендуется удалить файл с параметрами тестирования, связанный с данным тестовым проектом, если в нем нет особой необходимости. Например, можно оставить файл с параметрами тестирования, если модульные тесты запускаются в распределенной среде или если требуется собирать конкретные диагностические данные. Если имеются схожие потребности при использовании нового шаблона проекта модульных тестов или проекта с закодированными тестами пользовательского интерфейса, то для них можно добавить файл с параметрами тестирования вручную.  
  
> [!NOTE]
>  Существующие модульные тесты в тестовых проектах [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] с пакетом обновления 1 (SP1) будут легко работать с [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] с пакетом обновления 1 (SP1) и [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)]. В файлы тестовых проектов не вносятся никакие изменения, если тестовый проект Visual Studio 2010, содержащий модульные тесты, открывается в [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] или наоборот.  
  
> [!CAUTION]
>  Visual Studio 2010 не может открыть проект C++/CLI, который нацелен на набор инструментов 11.0, то есть проект, созданный в Visual Studio 2012. Это ограничение применяется ко всем проектам C++/CLI, а не только к проектам модульных тестов C++/CLI.  
  
> [!NOTE]
>  Новые модульные тесты можно выполнять с помощью программы vstest.console.exe из командной строки. Дополнительные сведения об использовании vstest.console.exe см. в разделе [Параметры командной строки для VSTest.Console.exe](/devops-test-docs/test/vstest-console-exe-command-line-options) или выполните команду с параметром вывода справки: **vstest.console.exe /?**. Вы можете продолжать запускать существующие модульные тесты с помощью команды MStest.exe. Дополнительные сведения см. в разделах [Запуск автоматических тестов из командной строки с помощью MSTest](/devops-test-docs/test/run-automated-tests-from-the-command-line-using-mstest) и [Параметры командной строки программы MSTest.exe](/devops-test-docs/test/mstest-exe-command-line-options).  
  
 Другое значительное изменение — это новый обозреватель тестов. В [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] некоторые окна тестирования, с которыми вы можете быть знакомы с предыдущих версий Visual Studio, объявлены нерекомендуемыми, как например, окно представления теста. Обозреватель тестов предназначен для лучшей поддержки разработчиков и коллективов, применяющих модульное тестирование на практике при разработке программного обеспечения. Дополнительные сведения см. в разделе [Выполнение модульных тестов с помощью обозревателя тестов](../test/run-unit-tests-with-test-explorer.md).  
  
## <a name="compatibility-issues-between-visual-studio-2010-sp1-and-visual-studio-2012"></a>Проблемы совместимости между Visual Studio 2010 с пакетом обновления 1 (SP1) и Visual Studio 2012  
 Ниже перечислены некоторые проблемы, которые следует учитывать при переносе модульных тестов между Visual Studio 2010 с пакетом обновления 1 (SP1) и [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)].  
  
|Функциональность модульного теста|Проблеми|Решение|  
|-----------------------------|-----------|--------------|  
|Списки тестов (файлы VSMDI) в [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] нерекомендуемы.|В Visual Studio вы больше не можете создавать списки тестов (файлы VSMDI) или списки выполнения тестов. **Совет**. Категории тестов обеспечивают более высокий уровень гибкости по сравнению с функцией списков Microsoft Visual Studio тестов, использовавшейся в предыдущих версиях Microsoft Visual Studio. Для одновременного запуска тестов из нескольких категорий или ограничения выполняемых тестов только тестами из определенных категорий можно использовать категории тестов вместе с логическими операторами. Кроме того, категории тестов легко добавлять при создании методов тестов, и после создания этих методов не требуется вести списки тестов. Благодаря использованию категорий устраняется необходимость в извлечении и возврате файла **\<имя решения>.vsmdi**, содержащего списки тестов. Дополнительные сведения см. в разделе [Определение категорий тестов для группировки тестов](/devops-test-docs/test/defining-test-categories-to-group-your-tests).|— Для сохранения совместимости с существующими тестовыми проектами, которые используют списки тестов, с помощью Visual Studio можно по-прежнему редактировать файлы VSMDI.<br />— Хотя перенесенные списки тестов нельзя запустить в Visual Studio, их по-прежнему можно запускать с помощью команды mstest.exe из командной строки. Дополнительные сведения см. в разделе [Запуск автоматических тестов из командной строки с помощью MSTest](/devops-test-docs/test/run-automated-tests-from-the-command-line-using-mstest).<br />— Если вы использовали список тестов в определении сборки, можно продолжать его использование. Дополнительные сведения см. в разделах [Практическое руководство. Настройка и запуск запланированных тестов после построения приложения](http://msdn.microsoft.com/en-us/32acfeb1-b1aa-4afb-8cfe-cc209e6183fd) и [Выполнение тестов в процессе сборки](http://msdn.microsoft.com/Library/d05743a1-c5cf-447e-bed9-bed3cb595e38).|  
|Закрытые методы доступа в [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] не рекомендованы.<br /><br /> В предыдущих версиях Visual Studio, можно было использовать Publicize для определения внутренних программных интерфейсов (API) и создания аналогичного открытого API, который можно вызывать в тестах, которые, в свою очередь, вызывают внутренние API продукта. Затем можно было использовать создание кода для создания тестовых заглушек и создания фрагмента кода внутри заглушки.|Вы больше не можете создавать закрытые методы доступа.|<ul><li>Тестовые проекты Visual Studio 2010 компилируются и работают в [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)]. Сборка будет включать в себя предупреждения вывода.</li><li>Если все же требуется протестировать внутренние API, то существуют следующие варианты:<br /><br /> <ul><li>Используйте класс <xref:Microsoft.VisualStudio.TestTools.UnitTesting.PrivateObject> для облегчения доступа к внутренним и закрытым интерфейсам API в коде. Он находится в сборке Microsoft.VisualStudio.QualityTools.UnitTestFramework.dll.</li><li>Создайте платформу отражения, которая может отражать ваш код для доступа к внутренним или закрытым API.</li><li>Если код, к которому осуществляется доступ, является внутренним, то получить доступ к интерфейсам API можно с помощью <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute>, поэтому код теста может иметь доступ к внутренним API.</li></ul></li></ul>|  
|Влияние на тест было удалено.|||  
|Совместное использование результатов выполнения с помощью журналов TRX из обозревателя тестов.||Можно по-прежнему получать журналы TRX и из командной строки, и из меню "Командная сборка".|  
  
## <a name="see-also"></a>См. также  
 [Перенос, миграция и обновление проектов Visual Studio](../porting/porting-migrating-and-upgrading-visual-studio-projects.md)   
 [Модульное тестирование кода](../test/unit-test-your-code.md)   
 [Обновление тестов из более ранних версий Visual Studio](http://msdn.microsoft.com/en-us/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52)   
 [Обновление закодированных тестов пользовательского интерфейса с версии Visual Studio 2010](../test/upgrading-coded-ui-tests-from-visual-studio-2010.md)

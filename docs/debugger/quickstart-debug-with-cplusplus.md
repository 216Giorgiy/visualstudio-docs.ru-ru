---
title: Отладка C++
description: Отладка машинного кода, с помощью отладчика Visual Studio
ms.custom: mvc
ms.date: 08/06/2018
ms.technology: vs-ide-debug
ms.topic: quickstart
helpviewer_keywords:
- debugger
ms.assetid: 639e430b-6d2d-46bd-b738-8c60dfb384f1
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- cplusplus
ms.openlocfilehash: 036774134f705d95fbc526a9e6a336ac43005820
ms.sourcegitcommit: 06db1892fff22572f0b0a11994dc547c2b7e2a48
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/08/2018
ms.locfileid: "39639780"
---
# <a name="quickstart-debug-with-c-using-the-visual-studio-debugger"></a>Краткое руководство: Отладка на C++ с использованием отладчика Visual Studio

Отладчик Visual Studio предоставляет множество эффективных возможностей для отладки приложений. В этой статье вы ознакомитесь с некоторыми основными возможностями.

## <a name="create-a-new-project"></a>Создание нового проекта 

1. В Visual Studio последовательно выберите **Файл > Создать проект**.

2. В разделе **Visual C++** выберите **Рабочий стол Windows**, а затем в средней области выберите **Консольное приложение Windows**.

    Если вы не видите **консольное приложение Windows** шаблон проекта, щелкните **открыть установщик Visual Studio** ссылку в левой части **новый проект** диалоговое окно. Запускается Visual Studio Installer. Выберите **разработка классических приложений C++** рабочей нагрузки, затем выберите **изменить**.

3. Введите имя, например **MyDbgApp** и нажмите кнопку **ОК**.

    Visual Studio создаст проект.

4. В файле MyDbgApp.cpp замените код

    ```c++
    int main()
    {
        return 0;
    }
    ```

    следующим кодом (не удаляйте `#include "stdafx.h"`):

    ```c++
    #include <list>  
    #include <iostream>

    using namespace std;

    void doWork()
    {
        list <int> c1;

        c1.push_back(10);
        c1.push_back(20);

        const list <int> c2 = c1;
        const int &i = c2.front();
        const int &j = c2.front();
        cout << "The first element is " << i << endl;
        cout << "The second element is " << j << endl;

    }

    int main()
    {
        doWork();
    }
    ```

## <a name="set-a-breakpoint"></a>Задание точки останова

Объект *точки останова* является маркер, указывающий, где Visual Studio следует приостановить открытом кода, поэтому вы можете взгляните на значения переменных или поведение памяти или ли начало выполнения ветви кода. Это основная функция при отладке.

1. Чтобы задать точку останова, щелкните в области слева от `doWork` вызов функции (или выберите строку кода и нажмите клавишу **F9**).

    ![Установите точку останова](../debugger/media/dbg-qs-set-breakpoint.png "установите точку останова")

2. Теперь нажмите клавишу **F5** (или выберите **Отладка > Начать отладку**).

    ![Точки останова,](../debugger/media/dbg-qs-hit-breakpoint.png "точки останова")

    Отладчик приостанавливает, где вы задали точку останова. Инструкции, где приостановлено выполнение отладчик и приложение обозначается желтой стрелкой. Строка с `doWork` вызов функции еще не выполнена.

    > [!TIP]
    > Если вы установили точку останова в цикле или рекурсии или если у вас есть много точек останова, которые вы часто пошагово, [условную точку останова](../debugger/using-breakpoints.md#BKMK_Specify_a_breakpoint_condition_using_a_code_expression) чтобы убедиться в том, что позволяет приостанавливать код только в том случае, если соблюдаются определенные условия. Условную точку останова экономит время и можно также упростить его для отладки проблем, которые трудно воспроизвести.

    При попытке отладки ошибок, связанных с памятью, в C++, можно также использовать точки останова для проверки значения адреса (ищите значение NULL) и ссылаться на счетчики. 

## <a name="navigate-code"></a>Навигация по коду

Существуют разные команды, чтобы отладчика для возобновления выполнения. Мы покажем команды перехода полезный код, который впервые появился в Visual Studio 2017.

Пока выполнение приостановлено в точке останова, наведите указатель мыши инструкцию `c1.push_back(20)` до зеленую **выполнение до щелкнутого** кнопку ![выполнение до щелкнутого](../debugger/media/dbg-tour-run-to-click.png "RunToClick") и нажмите клавишу **Выполнение до щелкнутого** кнопки.

![Выполнение до щелкнутого](../debugger/media/dbg-qs-run-to-click.png "выполнение до щелкнутого")

Приложение продолжает выполнение, вызвав `doWork`, а приостанавливается на строке кода, где была нажата кнопка.

Общие команды клавиатуры, используемый для пошагового выполнения кода включают **F10** и **F11**. Более подробные инструкции см. в разделе [руководство для начинающих](../debugger/getting-started-with-the-debugger.md).

## <a name="inspect-variables-in-a-datatip"></a>Проверить значения переменных в подсказке по данным

1. В текущей строке кода (обозначен указатель желтый выполнения), наведите указатель мыши `c1` объекта с помощью мыши для отображения подсказки данных.

    ![Просмотреть подсказку](../debugger/media/dbg-qs-data-tip.png "просматривать подсказки данных")

    Подсказка показывает текущее значение `c1` переменной и позволяет просмотреть его свойства. При отладке, если вы видите значение, которое вряд ли будет возможно имеется ошибка в предыдущей или вызывающей строке кода. 

2. Разверните подсказки данных, чтобы просмотреть текущие значения свойств `c1` объекта.

3. Чтобы прикрепить подсказку данных, таким образом, вы можете увидеть значение `c1` при выполнении кода, щелкните значок небольших ПИН-код. (Закрепленная подсказка данных будет можно переместить в удобном расположении.)

## <a name="edit-code-and-continue-debugging"></a>Изменение кода и продолжение отладки

Если обнаруживается изменение, которое вы хотите протестировать в коде в ходе сеанса отладки, это можно сделать, слишком.

1. Щелкните второй экземпляр `c2.front()` и измените `c2.front()` для `c2.back()`.

2. Нажмите клавишу **F10** (или **Отладка > шаг с обходом**) несколько раз, чтобы переместить отладчик и выполнить измененный код.

    ![Изменить и продолжить](../debugger/media/dbg-qs-edit-and-continue.gif "изменить и продолжить")

    **F10** перемещает отладчиком по одному оператору во время, но действия функции вместо шаг с заходом в их (код, который вы пропускаете по-прежнему выполняется).

Дополнительные сведения об использовании изменить и продолжить и ограничениях см. в разделе [изменить и продолжить](../debugger/edit-and-continue.md).

## <a name="next-steps"></a>Следующие шаги

В этом руководстве вы узнали, как запустить отладчик, пошаговое выполнение кода и проверять значения переменных. Вы можете получить подробный обзор функций отладчика, а также ссылки на дополнительные сведения.

> [!div class="nextstepaction"]
> [Обзор функций отладчика](../debugger/debugger-feature-tour.md)

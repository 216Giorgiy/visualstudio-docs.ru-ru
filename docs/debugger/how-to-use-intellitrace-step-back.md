---
title: "Просмотр моментального снимка с помощью IntelliTrace шаг обратной - Visual Studio | Документы Microsoft"
ms.custom: 
ms.date: 11/08/2017
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 7c60d929-d993-49dc-9db3-43b30be9912b
caps.latest.revision: "5"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 2e8da202cf8ae5680bede1ec4b2f2c8984624e4e
ms.sourcegitcommit: 5f5587a1bcf4aae995c80d54a67b4b461f8695f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/29/2017
---
# <a name="view-snapshots-using-intellitrace-step-back"></a>Просмотр моментальных снимков, с помощью обратной шаг IntelliTrace
Шаг обратной IntelliTrace автоматически создается снимок приложения во все точки останова и отладчик шаг события. Записанные моментальные снимки позволяют вернуться к предыдущей точки останова или действия и просматривать состояние приложения, как это было в прошлом. IntelliTrace шаг назад поможет сэкономить время при вы хотите просмотреть предыдущее состояние приложения, но не хотите перезапустить отладку или повторно создать состояния нужного приложения.

Шаг обратной IntelliTrace доступна, начиная с Visual Studio Enterprise 2017 г. версия 15,5 и более поздних версий и требует Юбилейного обновления Windows 10 или более поздней версии. Эта функция в настоящее время поддерживается для отладки ASP.NET, WinForms, WPF, управляемый консольные приложения и библиотеки управляемых классов. Отладка приложений ASP.NET Core, .NET Core или UWP в настоящее время не поддерживается. 
  
## <a name="enable-intellitrace-events-and-snapshots-mode"></a>Включить режим события и моментальные снимки IntelliTrace 
Чтобы включить эту функцию, перейдите на **Сервис > Параметры > IntelliTrace** и выберите параметр **IntelliTrace события и моментальные снимки**. 

![Включить режим события IntelliTrace и моментальные снимки](../debugger/media/intellitrace-enable-snapshots.png "режим включить события IntelliTrace и моментальные снимки")

IntelliTrace создается снимок процесс приложения на каждом отладчик событий шаг и точки останова. Эти события записываются в **событий** вкладке **средства диагностики** окно вместе с другими событиями IntelliTrace. Чтобы открыть это окно, выберите **отладка / Windows / Показать средства диагностики**.

Значок камеры появляется рядом с событиями, для которых доступны моментальные снимки. 

![События вкладку с моментальными снимками](../debugger/media/intellitrace-events-tab-with-snapshots.png "вкладку события с моментальными снимками точки останова и действия")

По соображениям производительности моментальные снимки не применяются при выполнении шага с очень быстро. Если значок не камеры появится рядом с действием, повторите шаг с заходом медленнее.

## <a name="navigate-and-view-snapshots"></a>Перейдите и Просмотр моментальных снимков

Можно перемещаться между событий с помощью **шаг назад (Alt + [)** и **шаг вперед (Alt +])** кнопок на панели инструментов отладки. Эти кнопки перехода события, которые появляются в **событий** вкладке **окно средств диагностики**. Шаг с заходом вперед или назад на событие автоматически активирует отладка с ведением журнала с выбранным событием.

![Перемещайтесь вперед или назад кнопками](../debugger/media/intellitrace-step-back-icons-description.png "кнопки шаг назад и вперед шаг")

При импорте шаг назад и выполните шаг вперед, Visual Studio переходит в режим журнала отладки. В этом режиме при записи выбранного события время переключений контекста отладчика. Также Visual Studio перемещает указатель мыши к соответствующей строке кода в окне исходного кода. 

В этом представлении можно было проверить значения в **стек вызовов**, **локальные**, **видимые**, и **Контрольные значения** windows. Также можно навести на переменные, чтобы просмотреть подсказки данных и выполнить вычисление выражений в **Интерпретация** окна. Данные, которые вы видите, из моментального снимка процесса приложения, сделанный в этот момент времени.

Таким образом, например, если после установки точки останова и шагом на пути (**F10**), **шаг назад** кнопки переводит Visual Studio в исторических режим на строке кода, соответствующий точке останова. 

![Активация журнала режим на событие с помощью моментального снимка](../debugger/media/intellitrace-historical-mode-with-snapshot.png "исторических режим Активация события с помощью моментального снимка")

Чтобы вернуться в режиме реального времени выполнения, выберите **продолжить (F5)** или нажмите кнопку **вернуться к динамической отладке** ссылку на информационной панели. 

Вы также можете просмотреть моментальный снимок из **события** вкладки. Выберите событие с помощью моментального снимка и нажмите кнопку **Активировать отладку с ведением журнала**. Также можно щелкнуть значок камеры, чтобы активировать отладку с ведением журнала.

![Активировать отладку с ведением журнала о событии](../debugger/media/intellitrace-activate-historical-debugging.png "Активировать отладку с ведением журнала о событии")

В отличие от **задать следующий оператор** команду, Просмотр моментального снимка не повторного выполнения кода; он дает статическое представление состояния приложения в момент времени, возникшего в прошлом.

![Общие сведения о шаге обратной IntelliTrace](../debugger/media/intellitrace-step-back-overview.png "Обзор из IntelliTrace шаг обратной")

## <a name="next-steps"></a>Следующие шаги  
 Узнайте, как проверять значения переменных в Visual Studio, см. [отладчика Обзор возможностей](../debugger/debugger-feature-tour.md)  
 Общие сведения об отладке с ведением журнала см. в разделе [отладка с ведением журнала](../debugger/historical-debugging.md).  

## <a name="frequently-asked-questions"></a>Вопросы и ответы

#### <a name="how-is-intellitrace-step-back-different-from-intellitrace-events-only-mode"></a>Как шаг обратной IntelliTrace отличается от режима только события IntelliTrace?

IntelliTrace в режиме только для событий позволяют активировать отладку с ведением журнала на отладчик заходит и точки останова. Тем не менее IntelliTrace только собирает данные в **локальные** и **видимые** windows, если windows открыты, и оно только перехватывает данных, который расширяется и в представлении. В режиме только для событий часто у вас получить полное представление о переменных и сложных объектов. Кроме того, вычисление и просмотр данных выражения в **Контрольные значения** окна не поддерживается. 

В режиме событий и моментальные снимки IntelliTrace записывает всего моментального снимка процесс приложения, включая сложные объекты. В строке кода можно увидеть ту же информацию, как если бы было остановлено в точке останова (и не важно, развернута сведения). Вычисление выражений поддерживается также в том случае, если Просмотр моментального снимка.  

#### <a name="what-is-the-performance-impact-of-this-feature"></a>Что такое воздействие на производительность эту функцию? 

Влияние на общую производительность пошагового выполнения зависит от приложения. Дополнительную нагрузку, связанную с помощью снимка составляет около 30 мс. При создании моментального снимка, разделенными процесса приложения и разветвленного копирования приостанавливается. При просмотре моментальный снимок разветвленного копию процесс присоединения Visual Studio. Для каждого моментального снимка Visual Studio копирует только таблицы страниц и задает для копирования при записи страницы. Между шагами отладчика с связанные моментальные снимки изменения объектов в куче, соответствующую страницу таблицы копируется, что стоимость минимальный объем памяти. Если Visual Studio обнаружит, что имеется достаточно памяти, чтобы сделать снимок, он не принимает один.
 
## <a name="known-issues"></a>Известные проблемы  
* Если вы используете режим события и моментальные снимки IntelliTrace в версиях Windows, более ранней, чем создатели Осень обновления (RS3) для Windows 10 и целевую платформу отладки приложения имеет значение x86, IntelliTrace не принимает моментальные снимки.

    Инструкции по решению:
    * Установка или обновление до создатели Осень обновления (RS3) для Windows 10. 
    * Кроме того: 
        1. Установите набор инструментов VC++ 2015.3 версии 140 для классического компонента (x86, x64) из установщика Visual Studio.
        2. Выполните сборку целевого приложения.
        3. Из командной строки с помощью средства editbin настраивать `Largeaddressaware` флаг для целевой исполняемый файл. Например, можно использовать эту команду (после обновления пути): «C:\Program Files (x86) \Microsoft Visual Studio\Preview\Enterprise\VC\Tools\MSVC\14.12.25718\bin\Hostx86\x86\editbin.exe» параметр/LARGEADDRESSAWARE «C:\Path\To\Application\app.exe».
        4. Чтобы начать отладку, нажмите клавишу **F5**. Теперь моментальные снимки на отладчик заходит и точки останова.

        > [!Note]
        > `Largeaddressaware` Должен быть установлен флаг при каждом перестроении исполняемый объект с изменениями.

* Процесс приложения снимка на приложение, использующее сохраненных файлов сопоставления памяти, процесс с помощью моментального снимка удерживает монопольная блокировка файла размещенный в памяти (даже после родительский процесс был выпущен его блокировки). Другие процессы, по-прежнему могут читать, но не записывать в файл, размещенный в памяти.

    Инструкции по решению:
    * Завершение сеанса отладки, чтобы удалить все моментальные снимки. 

* При сохранении файла с **Отладка > IntelliTrace > сеанса IntelliTrace Сохранить** в режиме события и моментальные снимки, дополнительные данные, полученные моментальные снимки недоступна в ITRACE-файл. Для точки останова и пошагово событий увидеть ту же информацию как если бы сохранен файл в режиме только для событий IntelliTrace. 

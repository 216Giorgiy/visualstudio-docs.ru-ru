---
title: Начало работы с отладчиком
ms.description: Learn how to start the Visual Studio debugger, step through code, and inspect data.
ms.custom: mvc
ms.date: 03/16/2018
ms.technology: vs-ide-debug
ms.topic: tutorial
helpviewer_keywords:
- debugger
ms.assetid: 62734c0d-a75a-4576-8f73-0e97c19280e1
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 0f3d4c27f0aedf879137b3ef7a154fb7dd6f9164
ms.sourcegitcommit: 4cd4aef53e7035d23e7d1d0f66f51ac8480622a1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34766263"
---
# <a name="tutorial-learn-to-debug-using-visual-studio"></a>Учебник: Дополнительные сведения для отладки с помощью Visual Studio

Этот раздел знакомит с возможностями отладчика Visual Studio в пошаговое руководство. Если требуется полное представление о возможности отладчика, в разделе [Обзор возможностей отладчика](../debugger/debugger-feature-tour.md).

Либо вы найдете вдоль пользователям возможности этого отладчика, или можно загрузить полный образец, использованный в обзор возможностей и выполните действия, самостоятельно. Чтобы загрузить пример и дальнейшей работы, перейдите на [пример средства просмотра фотографий](https://code.msdn.microsoft.com/windowsdesktop/WPF-Photo-Viewer-Demo-be75662a).

|         |         |
|---------|---------|
|  ![значок кинокамеры для видео](../install/media/video-icon.png "Просмотреть видео")  |    [Посмотреть видео](https://mva.microsoft.com/en-US/training-courses-embed/getting-started-with-visual-studio-2017-17798/Debugger-Feature-tour-of-Visual-studio-2017-sqwiwLD6D_1111787171) по отладке, отображающий аналогичные действия. |

Хотя нашего примера приложения C#, функции, применимые к C++, Visual Basic, JavaScript и другие языки, поддерживаемые Visual Studio (за исключением иное).

В этом руководстве рассмотрены следующие задачи:

> [!div class="checklist"]
> * Запустите отладчик и задавать точки останова.
> * Узнать команды для пошагового выполнения кода в отладчике
> * Отслеживание значений переменных в подсказках по данным и окна отладчика
> * Проверить стек вызовов
> * Использование помощника по исправлению ошибок

## <a name="prerequisites"></a>Предварительные требования

* Необходимо иметь Visual Studio 2017 г. установлен и. **NET разработки настольных приложений** рабочей нагрузки.

    Установите Visual Studio бесплатно со страницы [скачиваемых материалов Visual Studio](https://www.visualstudio.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=button+cta&utm_content=download+vs2017), если еще не сделали этого.

    Если необходимо установить рабочую нагрузку, но уже установлено приложение Visual Studio, нажмите кнопку **откройте установщик Visual Studio** ссылку в левой области **новый проект** диалоговое окно (выберите **файл**  >  **Новый** > **проекта**). Запускается Visual Studio Installer. Выберите. **NET разработки настольных приложений** рабочей нагрузки, нажмите кнопку **изменить**.

## <a name="start-the-debugger"></a>Запустите отладчик.

1. Для выполнения этой процедуры следующим шагам в Visual Studio, загрузите пример [на этой странице](https://code.msdn.microsoft.com/windowsdesktop/WPF-Photo-Viewer-Demo-be75662a).

    > [!IMPORTANT]
    > Необходимо установить Visual Studio с рабочей нагрузкой для разработки классических приложений .NET для запуска приложения, используемого во время демонстрации.

2. Распакуйте проекта.

3. Откройте Visual Studio и выберите **файл > Открыть** меню команды, а затем выберите **решение или проект**и откройте папку, куда вы загрузили проект.

     ![Откройте образец проекта](../debugger/media/dbg-tour-open-project.png "Открытие проекта")

3. Откройте пример средства просмотра фотографий WPF > C#, выберите файл photoapp.sln и выберите **откройте**.

     Откроется проект в Visual Studio. В обозревателе решений на правой панели отображаются все файлы проекта.

    ![Файлы обозревателя решений](../debugger/media/dbg-tour-solution-explorer.png "обозревателе решений")

4. Нажмите клавишу F5 (**Отладка > Начать отладку** или **начать отладку** кнопку ![начать отладку](../debugger/media/dbg-tour-start-debugging.png "начать отладку") на панели инструментов отладки).

     ![Средства просмотра фотоприложение](../debugger/media/dbg-tour-wpf-app.png "фото просмотра приложения")

     F5 запускает приложение с прикрепленным процесса приложения, но справа, теперь мы еще не добавлено ни одной точки останова или сделать что-либо специальных действий для проверки кода отладчиком. Поэтому просто загружает приложение, и вы увидите фотографии.

     В этом учебнике мы более подробно рассмотреть этому приложению с помощью отладчика и познакомьтесь с отладчик функции.

5. Остановите отладчик, нажав клавишу красный Стоп ![остановить отладку](../debugger/media/dbg-tour-stop-debugging.png "остановить отладку") кнопки.

## <a name="set-a-breakpoint-and-start-the-debugger"></a>Установите точку останова и запустите отладчик

Для отладки, необходимо запустить приложение с прикрепленным процесс приложения отладчиком.

1. В `MainWindow` конструктор MainWindow.xaml.cs, установите точку останова, щелкнув в левом поле первой строки кода.

     ![Установите точку останова](../debugger/media/dbg-tour-set-a-breakpoint.gif "SetABreakPoint")

6. Нажмите клавишу F5 или **начать отладку** кнопку, запускается приложение, и отладчик переходит к строке кода, где установить точку останова.

    Желтая стрелка представляет инструкцию, на котором отладчик приостановил, который также приостанавливает выполнение приложения в той же точке (она еще не выполнена).

    F5 продолжает выполнение приложения до следующей точки останова. (Если приложение не запущено, F5 запускает отладчик и останавливается на первой точки останова.)

    Точки останова — полезная возможность, если известно, что строка кода или раздел кода, который вы хотите подробно рассмотреть.

## <a name="restart-your-app-quickly"></a>Перезапустите приложение быстро

Нажмите кнопку **перезапустите** ![перезапустить приложение](../debugger/media/dbg-tour-restart.png "RestartApp") на панели инструментов отладки (Ctrl + Shift + F5).

При нажатии клавиши **перезапустите**, он позволяет сэкономить время и остановки приложения и перезапуска отладчика. Отладчик останавливается на первой точки останова будет достигнута при выполнении кода.

Отладчик останавливается в точке останова, заданной, в `MainWindow` конструктора.

## <a name="navigate-code-in-the-debugger-using-step-commands"></a>Навигация по коду в отладчике, с помощью команд

В основном мы используем сочетания клавиш, так как это хороший способ получения быстрого, при выполнении приложения в отладчике (эквивалентные команды например меню команды отображаются в круглых скобках).

1. Нажмите клавишу F11 (**Отладка > шаг с заходом**) дважды, чтобы продолжить выполнение приложения в `InitializeComponent()` функции.

     ![Воспользуйтесь клавишей F11 коду шаг с заходом](../debugger/media/dbg-tour-f11.png "пошагово F11")

     — F11 **шаг с заходом** команды и перемещает приложения выполнения одной инструкции за раз. F11 является удобным способом для анализа потока выполнения большинства подробно. (Чтобы переместить быстрее через код, мы продемонстрируем некоторые другие параметры также.) По умолчанию, отладчик пропускает не написан пользователем (если для получения дополнительных сведений см. раздел [только мой код](../debugger/just-my-code.md)).

     >[!NOTE]
     > В управляемом коде вы увидите диалоговое окно с вопросом, следует получать уведомление об автоматически обход свойств и операторов (по умолчанию). Если вы хотите изменить параметр более поздней версии, отключите **обход свойств и операторов** в **Сервис > Параметры** меню в разделе **Отладка**.

2. Нажмите клавишу F10 (**Отладка > шаг с обходом**) несколько раз, пока отладчик останавливается на первой строке кода в `OnApplicationStartup` обработчика событий.

     ![Нажмите клавишу F10, чтобы шаг с обходом кода](../debugger/media/dbg-tour-f10-step-over.png "шаг F10 с обходом")

     Отладчик F10 без шаг с заходом в функции или методы в коде приложения (по-прежнему выполняется код). С помощью клавиши F10 `InitializeComponent` вызова метода (вместо F11), мы пропущен код реализации для `InitializeComponent` (например какие мы выполняется не нужны в данный момент).

## <a name="step-into-a-property"></a>Шаг с заходом в свойства

1. С помощью отладчика приостановлена на следующую строку кода:

    ````
    mainWindow.Photos.Path = Environment.CurrentDirectory + "\\images";
    ````

    Щелкните правой кнопкой мыши на строке кода и выберите **шаг с заходом в конкретное**, затем **SDKSamples.ImageSample.PhotoCollection.Path.set**

     ![Шаг в указанное средство](../debugger/media/dbg-tour-step-into-specific.png "Специальный шаг с заходом")

    Как упоминалось ранее, по умолчанию, отладчик пропускает управляемого свойства и поля, но **шаг с заходом в конкретное** команда позволяет переопределить это поведение. Теперь мы хотим просмотреть, что происходит при `Path.set` выполняется метод задания свойства. **Шаг с заходом в конкретное** возвращает нам `Path.set` здесь кода.

     ![результат шага с заходом в конкретное](../debugger/media/dbg-tour-step-into-specific-2.png "Специальный шаг с заходом")

     `Update` Метод в этот код выглядит, как это может быть интересно, поэтому позволяет использовать отладчик для проверки этого кода получше.

5. Наведите указатель мыши на `Update` метод до зеленая **запуска щелкните** кнопку ![запуска, щелкните](../debugger/media/dbg-tour-run-to-click.png "RunToClick") отображается слева.

     ![Запуск, щелкните использовать функцию](../debugger/media/dbg-tour-run-to-click-2.png "запуска, щелкните")

    >  [!NOTE] 
    > **Запуска щелкните** кнопку новые возможности [!include[vs_dev15](../misc/includes/vs_dev15_md.md)]. Если вы не видите кнопку с зеленой стрелкой, используйте F11 в этом примере для перехода в отладчике.

6. Нажмите кнопку **запуска щелкните** кнопку ![запуска щелкните](../debugger/media/dbg-tour-run-to-click.png "RunToClick").

    С помощью этой кнопки аналогично установке временную точку останова. **Запустите щелкните** удобен для быстрого решения проблем в видимой области кода приложения (можно щелкнуть в любом открытом файле).

    Отладчик перемещается на `Update` реализации метода.

7. Нажмите клавишу F11, чтобы войти в `Update` метод.

     ![Шаг с заходом в метод Update результат](../debugger/media/dbg-tour-update-method.png "шаг в метод обновления")

    Здесь мы найти код интересную; приложение получает все *.jpg файлы, находящиеся в определенном каталоге, а затем создав объект фотографии для каждого файла. Этот код позволяет выполнить запуск проверки (переменные) состояние приложения с помощью отладчика. Мы сделаем, в следующих разделах данного руководства.

    Функции, позволяющие проверять значения переменных являются одним из наиболее полезных функций отладчика, и существует разных способов. Часто при попытке выполнить отладку проблемы вы пытаетесь выяснить ли переменные хранятся значения, которые они должны иметь в конкретный момент времени.

## <a name="examine-the-call-stack"></a>Проверить стек вызовов

Во время паузы в `Update` метод, нажмите кнопку **стек вызовов** окна, который по умолчанию, откройте в нижней правой области.

![Проверить стек вызовов](../debugger/media/dbg-tour-call-stack.png "ExamineCallStack")

**Стек вызовов** окна показан порядок, в котором находятся вызван методы и функции. В верхней строке отображена текущая функция ( `Update` метода в приложении учебник). Вторая строка показывает, что `Update` был вызван с `Path.set` свойства и т. д.

>  [!NOTE]
> **Стек вызовов** окна аналогична отладочной перспективы в некоторых интегрированных средах разработки, таких как Eclipse.

Стек вызовов является удобным способом проверки и понимать ход выполнения приложения.

Можно дважды щелкнуть строку кода для перехода просмотрите исходного кода, а также изменяет текущую область, проверяемое отладчиком. Это действие не перемещает отладчик.

Можно также использовать контекстные меню из **стек вызовов** окна для выполнения других действий. Например, вставлять точки останова в указанной функции, перемещаться с помощью отладчика **выполнить до текущей позиции**и изучите исходный код. Дополнительные сведения см. в разделе [как: проверить стек вызовов](../debugger/how-to-use-the-call-stack-window.md).

## <a name="step-out"></a>Шаг с выходом

Предположим, что выполняются проверки `Update` метод Data.cs, и хотите получить выходит из функции, но оставить в отладчике. Это можно сделать с помощью **шаг с выходом** команды.

1. Нажмите клавиши Shift + F11 (или **Отладка > шаг с выходом**).

     Эта команда возобновляет выполнение приложения (и отладчик) до возврата текущей функции.

     Должен находиться в `Update` вызов метода в Data.cs.

2. Нажмите клавиши Shift + F11 еще раз и отладчик переход вверх по стеку вызовов обратно в `OnApplicationStartup` обработчика событий.

## <a name="run-to-cursor"></a>Выполнить до текущей позиции

1. Выберите **остановить отладку** красная кнопка ![остановить отладку](../debugger/media/dbg-tour-stop-debugging.png "остановить отладку") или Shift + F5.

2. В `Update` щелкните правой кнопкой мыши метод в Data.cs, `Add` вызова метода и выберите **выполнить до текущей позиции**. Эта команда запускает отладку и задает временную точку останова в текущей строке кода.

     ![Использовать выполнение до курсора функция](../debugger/media/dbg-tour-run-to-cursor.png "выполнить до курсора")

    Вы должны приостановлена в точке останова в `MainWindow` (так как это первой точки останова можно задать).

3. Нажмите клавишу F5, чтобы перейти к `Add` метод, если вы выбрали **выполнить до текущей позиции**.

    Эта команда полезна при редактировании кода и требуется быстро настроить временную точку останова и запустить отладчик.

## <a name="change-the-execution-flow"></a>Изменения хода выполнения

1. С помощью отладчика приостановлена на `Add` вызов метода с помощью мыши захватите желтая стрелка (указатель выполнения) в левой части экрана и переместить желтая стрелка вверх на одну строку для `foreach` цикла.

     ![Переместите указатель выполнения](../debugger/media/dbg-tour-move-the-execution-pointer.gif "переместить указатель выполнения")

    Изменяя ход выполнения, можно сделать, например, различные кодовые пути выполнения тестов или повторно выполнить код без перезапуска отладчика.

2. Теперь нажмите клавишу F5.

    Вы увидите образы, добавленные в окно приложения. Так как повторное выполнение кода в `foreach` цикла, некоторые изображения были добавлены два раза!
    
    > [!WARNING]
    > Часто необходимо внимательно отнестись к этой функции и появляется в подсказке. Вы можете увидеть слишком другие предупреждения. При перемещении указателя невозможно вернуть в предыдущее состояние приложения приложения.

## <a name="inspect-variables-with-data-tips"></a>Отслеживание значений переменных с помощью подсказки данных

1. Откройте Data.cs в приложении пример средства просмотра фотографий, щелкните правой кнопкой мыши `private void Update` объявление функции и выберите **выполнить до текущей позиции** (остановить приложение во-первых, если он уже запущен).

    Это будет приостановить приложение с подключенным отладчиком. Это позволяет изучать ее состояние.

2. Наведите указатель мыши на `Add` вызова метода и нажмите кнопку **запуска щелкните** кнопку ![запуска щелкните](../debugger/media/dbg-tour-run-to-click.png "RunToClick").

3. Теперь, наведите указатель мыши на объект файла (`f`) и посмотрите значение свойства по умолчанию, имя файла `market 031.jpg`.

     ![Просмотр подсказке](../debugger/media/dbg-tour-data-tips.gif "просмотра подсказки")

4. Разверните объект, чтобы просмотреть все свойства, такие как `FullPath` свойство.

    Часто при отладке, требуется быстрый способ проверить значения свойств для объектов, подсказки данных — это удобный способ сделать это.

    > [!TIP]
    > В наиболее поддерживаемых языков можно изменить код во время сеанса отладчика, если найти то, что вы хотите изменить. Дополнительные сведения см. в разделе [изменить и продолжить](../debugger/edit-and-continue.md). Чтобы использовать эту функцию в этом приложении, тем не менее, сначала необходимо обновить версию приложения для платформы .NET Framework.

## <a name="inspect-variables-with-the-autos-and-locals-windows"></a>Отслеживание значений переменных с помощью окна «Видимые» и «локальные переменные

1. Посмотрите на **видимые** окно в нижней части редактора кода.

     ![Отслеживание значений переменных в окне «видимые»](../debugger/media/dbg-tour-autos-window.png "видимые-окно")

    В **видимые** окна, переменные и их текущие значения. **Видимые** в окне отображаются все переменные, используемые в текущей строке или предыдущую строку (в C++ в окне отображается переменные в предыдущем три строки кода. См. в документации для поведения, зависящие от языка).

    > [!NOTE]
    > В языке JavaScript **локальные** окна, но не поддерживается **видимые** окна.

2. Теперь рассмотрим **локальные** окна.

    **Локальные** окна показаны переменные, которые находятся в текущей области.

    ![Отслеживание значений переменных в окне «Локальные»](../debugger/media/dbg-tour-locals-window.png "локальные-окно")

    В настоящее время `this` объект и объект файла (`f`) в текущей области. Дополнительные сведения см. в разделе [проверки переменных в окнах локальных переменных и видимые](../debugger/autos-and-locals-windows.md).

## <a name="set-a-watch"></a>Контрольное значение

1. В главном окне редактора кода, щелкните правой кнопкой мыши объект файла (`f`) и выберите **Добавить контрольное значение**.

    Можно использовать **Контрольные значения** окно, чтобы указать переменную или выражение, необходимо следить.

    После этого вы получите Контрольное значение на `File` объекта, чтобы просмотреть его значение изменить при переходе от отладчика. В отличие от других окон переменных **Контрольные значения** окно всегда отображаются переменные, просмотре (они выполняется серым цветом при за пределы области).

2. На `Add` метода, нажмите зеленую ![запуска щелкните](../debugger/media/dbg-tour-run-to-click.png "RunToClick") еще раз (или несколько раз нажмите клавишу F11) перемещаться по `foreach` цикла.

    ![Значение контрольного значения для переменной](../debugger/media/dbg-tour-watch-window.png "Контрольные значения-окно")

    Также может отображаться первый рисунок добавляются в главном окне выполнение примера приложения, но это происходит в потоке другое приложение, изображения могут не отображаться еще.

    Дополнительные сведения см. в разделе [задать Контрольные значения, с помощью окна контрольных значений и Быстрая проверка](../debugger/watch-and-quickwatch-windows.md)

## <a name="examine-an-exception"></a>Изучите исключение

1. В окне выполняющегося приложения, удалите текст в **путь** поля ввода и выберите **изменений** кнопки.

     ![Вызывает исключение, создаваемое исключение](../debugger/media/dbg-tour-cause-an-exception.png "возникновение исключения")

     Приложение создает исключение, и отладчик переходит к строке кода, вызвавшего исключение.
     
     ![Помощник по исправлению ошибок](../debugger/media/dbg-tour-exception-helper.png "помощника по исправлению ошибок")

     Здесь **помощника по исправлению ошибок** показывает `System.ArgumentException` и сообщение об ошибке, информирующее о том, что путь не является недопустимую форму. Таким образом мы знаем, что ошибка произошла в аргумент метода или функции.

     В этом примере `DirectoryInfo` вызов присваивает ошибку в пустую строку, хранящиеся в `value` переменной. (Наведите указатель мыши на `value` для просмотра пустую строку.)

     Помощник исключений — прекрасная возможность, которая может помочь в отладке ошибок. Также можно выполнять следующие действия представления сведения об ошибке и Добавить контрольное значение из помощника по исправлению ошибок. Или, при необходимости можно изменить условия для конкретного исключения.

    >  [!NOTE] 
    > Помощник по исправлению ошибок заменяет помощник по исключениям в [!include[vs_dev15](../misc/includes/vs_dev15_md.md)].

2. Разверните **параметры исключений** узел, чтобы просмотреть дополнительные параметры для обработки исключения этого типа, но нет необходимости изменять что-либо в этом обзоре!

3. Нажмите клавишу F5, чтобы продолжить работу приложения.

Дополнительные сведения о компонентах отладчика см. в разделе [отладчик советы и рекомендации](../debugger/debugger-tips-and-tricks.md).

## <a name="next-steps"></a>Следующие шаги

В этом учебнике вы узнали, как запустить отладчик, пошаговое выполнение кода и проверять значения переменных. Имеет смысл получить подробный обзор возможности отладчика, а также ссылки на дополнительные сведения.

> [!div class="nextstepaction"]
> [Обзор функций отладчика](../debugger/debugger-feature-tour.md)

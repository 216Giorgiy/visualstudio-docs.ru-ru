---
title: "Средства отладки потоков и процессов | Документы Microsoft"
ms.custom: 
ms.date: 04/21/2017
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- multiprocess debugging
- threading [Visual Studio], debugging
- processes, debugging
- debugging threads
- debugging [Visual Studio], threads
ms.assetid: 9f0c8505-b6b2-452b-adfd-076db14d8115
caps.latest.revision: "14"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: ad52c8f9b2580538b573eb2ef66164040ca66b25
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2017
---
# <a name="tools-to-debug-threads-and-processes-in-visual-studio"></a>Средства отладки потоков и процессов в Visual Studio
*Потоки* и *процессов* — это связанные понятия в вычислительной технике. Оба представляют из себя последовательность инструкций, которые должны выполняться в определенном порядке. Инструкции в отдельных потоках или процессах, однако, могут выполняться параллельно.  
  
 Процессы существуют в операционной системе и соответствуют тому, что пользователи видят как программы или приложения. Поток, с другой стороны, существует внутри процесса. По этой причине потоки иногда называются *облегченные процессы*. Каждый процесс состоит из одного или более потоков.  
  
 Существование нескольких процессов позволяет компьютеру "одновременно" выполнять несколько задач. Существование нескольких потоков позволяет процессу разделять работу для параллельного выполнения. На многопроцессорном компьютере процессы или потоки могут работать на разных процессорах. Это позволяет выполнять реально параллельную работу.  
  
 Абсолютно параллельная обработка не всегда возможна. Потоки иногда должны синхронизироваться. Один поток может ожидать результата другого потока, или одному потоку может понадобиться монопольный доступ к ресурсу, который используется другим потоком. Проблемы синхронизации являются распространенной причиной ошибок в многопоточных приложениях. Иногда поток может закончиться, ожидая ресурс, который никогда не будет доступен. Это приведет к состоянием, которое называется *взаимоблокировки*.  
  
 Отладчик [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] предоставляет мощные, но простые в использовании средства отладки потоков и процессов.  
  
## <a name="tools-and-features"></a>Средства и функции
Средства, необходимые для использования в [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] зависят от того, какой тип кода выполняется попытка отладки:

- Для процессов, являются основными средствами **присоединиться к процессу** диалоговом **процессов** окна и **место отладки** инструментов.

- Потоки, основные средства для отладки потоков — **потоков** окна, маркеры потоков в окнах исходного кода **Параллельные стеки** окне **контроль параллельных данных** окна, и **место отладки** инструментов.  
  
- Для кода, использующего <xref:System.Threading.Tasks.Task> в [библиотека параллельных задач (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl), [среда выполнения с параллелизмом](/cpp/parallel/concrt/concurrency-runtime/) (машинный код), основными средствами для отладки многопоточных приложений являются **Параллельные стеки** окне **контроль параллельных данных** окна и **задачи** окна ( **задачи** окно также поддерживает Объект promise JavaScript).

- Для отладки потоков в GPU, — это основное средство **потоки GPU** windows.  
  
 В следующей таблице показаны доступные данные и действия, которые можно выполнять в каждом из этих мест:  
  
|Пользовательский интерфейс|Доступные сведения|Действия, которые можно выполнять|  
|--------------------|---------------------------|-----------------------------|  
|**Присоединение к процессу** диалоговое окно|Доступные процессы для присоединения:<br /><br /> -Имя процесса (.exe)<br />-Обработка Идентификационный номер<br />-Название строки меню<br />-Тип (управляемый v4.0; Управляемый v2.0, версия 1.1, версия 1.0; x86; x64; IA64)<br />-Имя пользователя (имя учетной записи)<br />-Номер сеанса|Выберите процесс для присоединения<br /><br /> Выберите удаленный компьютер<br /><br /> Измените тип транспортного протокола для подключения к удаленным компьютерам|  
|**Процессы** окна|Присоединенные процессы:<br /><br /> -Имя процесса<br />-Обработка Идентификационный номер<br />— Путь к процессу .exe<br />-Название строки меню<br />-Состояние (прерывание. Работа)<br />-Отладка (машинный код, управляемый и т. д.)<br />-Тип транспортного протокола (по умолчанию, машинный без проверки подлинности)<br />-Квалификатор транспорта (удаленный компьютер)|Средства:<br /><br /> -Присоединением<br />-Отсоединения<br />-Завершение<br /><br /> Контекстное меню:<br /><br /> -Присоединением<br />-Отсоединения<br />-Отсоединиться при остановке отладки<br />-Завершение|  
|**Потоки** окна|Потоки текущего процесса:<br /><br /> -Идентификатор потока<br />-Управляемый ИД<br />-Категория (основной поток, поток интерфейса, обработчик вызова удаленной процедуры или рабочий поток)<br />-Имя потока<br />— Место, где создан поток<br />— Приоритет<br />-Affinity Mask<br />-Счетчик приостановок<br />-Имя процесса<br />-Индикатор флага<br />-Приостановленный индикатор|Средства:<br /><br /> -Поиска<br />— Поиск в стеке вызовов<br />-Отметить только мой код<br />-Пометить выбранные пользовательские модули<br />-Group by<br />-Столбцы<br />-Развернуть/свернуть стеки вызовов<br />-Развернуть/свернуть группы<br />-Заморозить/Разморозить потоки<br /><br /> Контекстное меню:<br /><br /> -Показать потоки в исходном коде<br />-Переключиться на поток<br />-Заморозить выполняющийся поток<br />-Разморозить замороженный поток<br />-Пометить поток для дополнительного изучения<br />— Снять отметку потока<br />-Переименовать поток<br />-Показать и скрыть потоки<br /><br /> Другие действия:<br /><br /> -Просмотрите стек вызова для потока в подсказке по данным|  
|Окна исходного кода.|Индикаторы потока в левом поле указывают один или несколько потоков (по умолчанию отключено, включается с помощью контекстного меню в **потоков** окна)|Контекстное меню:<br /><br /> -Переключиться на поток<br />-Пометить поток для дополнительного изучения<br />— Снять отметку потока|  
|**Место отладки** инструментов|-Текущий процесс<br />-Приостановить приложение<br />-Возобновить приложение<br />-Приостановить и завершить работу приложения<br />-Текущего потока<br />-Переключить состояние флага текущего потока<br />— Показывать только отмеченные потоки<br />-Показать только текущий процесс<br />-Текущий кадр стека|-Переключиться в другой процесс<br />-Приостановить, возобновить или завершить работу приложения<br />-Переключения на другой поток в текущем процессе<br />-Переключиться на другой кадр стека текущего потока<br />-Помечать и текущих потоков<br />— Показывать только отмеченные потоки<br />-Показать только текущий процесс|  
|**Параллельные стеки** окна|-Стеки вызовов для нескольких потоков в одном окне.<br />-Активный кадр стека для каждого потока.<br />-Вызывающие и вызываемые объекты для любого метода.|-Отфильтровать указанные потоки<br />-Переключитесь в представление "задачи"<br />-Пометка и снятие пометки потока<br />-Масштаба|   
|**Контроль параллельных данных** окна|-Столбец пометок, в котором можно пометить поток, которому требуется уделить особое внимание.<br />-Столбец кадров, в котором стрелка указывает выбранного кадра.<br />-Настраиваемый столбец, который может отображать компьютера, процесса, плитки, задач и потоков.|-Пометка и снятие пометки потока<br />-Отобразить только отмеченные потоки<br />-Переключить кадры<br />-Сортировки столбца<br />-Группы потоков<br />-Заморозить или Разморозить потоки<br />-экспортировать данные в окне «контроль параллельных данных»| 
|**Задачи** окна|— Просмотр сведений о <xref:System.Threading.Tasks.Task> объекты, включая идентификатор задачи, состояние задачи (запланирована, запущена, в ожидании, находится заблокирована), и о потоке, назначенном задаче.<br />— Текущее расположение в стеке вызовов.<br />-Делегат, переданный задаче во время создания|-Переключиться на текущую задачу<br />-Помечать и задачи<br />-Заморозить или разморозить задачу|  
|**Потоки GPU** окна|-Столбец пометок, в котором можно пометить поток, которому требуется уделить особое внимание.<br />-Текущий поток столбец, в котором желтая стрелка указывает текущий поток.<br />- **Число потоков** столбец, который показывает число потоков в одном месте.<br />- **Строки** столбец, в котором отображается строка кода, где расположена каждая группа потоков.<br />- **Адрес** столбец, в котором отображается адрес инструкции, где расположена каждая группа потоков.<br />- **Расположение** столбца, который представляет расположение адреса в коде.<br />- **Состояние** столбец, который показывает, является ли поток активным или блокированным.<br />- **Плитки** столбец, в котором отображается индекс плитки для потоков в строке.|-Изменить другой поток<br />-Вывод потока и определенной плитки<br />-Отображение или скрытие столбца<br />-Сортировать по столбцу<br />-Группы потоков<br />-Заморозить или Разморозить потоки<br />-Пометка и снятие пометки потока<br />-Отобразить только отмеченные потоки|  
  
## <a name="see-also"></a>См. также  
 [Присоединение к выполняемым процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [Отладка многопоточных приложений](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [Отладка кода GPU](../debugger/debugging-gpu-code.md)
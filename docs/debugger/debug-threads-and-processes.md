---
title: Средства для отладки потоков и процессов | Документация Майкрософт
ms.custom: ''
ms.date: 04/21/2017
ms.technology: vs-ide-debug
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- multiprocess debugging
- threading [Visual Studio], debugging
- processes, debugging
- debugging threads
- debugging [Visual Studio], threads
ms.assetid: 9f0c8505-b6b2-452b-adfd-076db14d8115
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: cb8c8abab1dc4b8f5778ed4b76688f8a3946e461
ms.sourcegitcommit: 240c8b34e80952d00e90c52dcb1a077b9aff47f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/23/2018
ms.locfileid: "49888833"
---
# <a name="tools-to-debug-threads-and-processes-in-visual-studio"></a>Средства для отладки потоков и процессов в Visual Studio
*Потоки* и *процессы* — это связанные понятия в вычислительной технике. Оба представляют из себя последовательность инструкций, которые должны выполняться в определенном порядке. Инструкции в отдельных потоках или процессах, однако, могут выполняться параллельно.  
  
 Процессы существуют в операционной системе и соответствуют тому, что пользователи видят как программы или приложения. Поток, с другой стороны, существует внутри процесса. По этой причине потоки иногда называются *облегченные процессы*. Каждый процесс состоит из одного или более потоков.  
  
 Существование нескольких процессов позволяет компьютеру "одновременно" выполнять несколько задач. Существование нескольких потоков позволяет процессу разделять работу для параллельного выполнения. На многопроцессорном компьютере процессы или потоки могут работать на разных процессорах. Это позволяет выполнять реально параллельную работу.  
  
 Абсолютно параллельная обработка не всегда возможна. Потоки иногда должны синхронизироваться. Один поток может ожидать результата другого потока, или одному потоку может понадобиться монопольный доступ к ресурсу, который используется другим потоком. Проблемы синхронизации являются распространенной причиной ошибок в многопоточных приложениях. Иногда поток может закончиться, ожидая ресурс, который никогда не будет доступен. Это кончается состоянием, которое называется *взаимоблокировки*.  
  
 Отладчик [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] предоставляет мощные, но простые в использовании средства отладки потоков и процессов.  
  
## <a name="tools-and-features"></a>Средства и компоненты
Средства, необходимые для использования в [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] зависят от того, какой тип кода вы пытаетесь отладить:

- Для процессов, основные средства — **присоединение к процессу** диалоговом окне **процессы** окно и **место отладки** панели инструментов.

- Для потоков, основные средства для отладки потоков — **потоков** окна, маркеры потоков в окнах исходного кода, **Параллельные стеки** окне **контроль параллельных данных** окно, и **место отладки** панели инструментов.  
  
- Для кода, использующего <xref:System.Threading.Tasks.Task> в [библиотеки параллельных задач (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl), [среда выполнения с параллелизмом](/cpp/parallel/concrt/concurrency-runtime/) (машинный код), основные средства для отладки многопоточных приложений — **Параллельные стеки** окне **контроль параллельных данных** окно и **задачи** окна ( **задачи** окно также поддерживает Объект обещания JavaScript).

- По отладке потоков в GPU, — основное средство **потоки GPU** windows.  
  
  В следующей таблице показаны доступные данные и действия, которые можно выполнять в каждом из этих мест:  
  
|Пользовательский интерфейс|Доступные сведения|Действия, которые можно выполнять|  
|--------------------|---------------------------|-----------------------------|  
|**Присоединение к процессу** диалоговое окно|Доступные процессы для присоединения:<br /><br /> -Имя процесса (.exe)<br />-Обработка Идентификационный номер<br />-Название строки меню<br />-Тип (управляемый версии 4.0; Управляемые версии 2.0, 1.1, версия 1.0; x86; x64; IA64)<br />-Имя пользователя (имя учетной записи)<br />-Номер сеанса|Выберите процесс для присоединения<br /><br /> Выберите удаленный компьютер<br /><br /> Измените тип транспортного протокола для подключения к удаленным компьютерам|  
|**Процессы** окно|Присоединенные процессы:<br /><br /> -Имя процесса<br />-Обработка Идентификационный номер<br />— Путь к процессу .exe<br />-Название строки меню<br />— Состояние (прерывание. Работа)<br />-Отладки (машинный код, управляемым и т. д.)<br />-Тип транспортного протокола (по умолчанию, машинный без проверки подлинности)<br />-Квалификатор транспортного протокола (удаленный компьютер)|Средства:<br /><br /> -Присоединением<br />-Отсоединения<br />— Завершить<br /><br /> Контекстное меню:<br /><br /> -Присоединением<br />-Отсоединения<br />-Отсоединиться при остановке отладки<br />— Завершить|  
|**Потоки** окно|Потоки текущего процесса:<br /><br /> -Идентификатор потока<br />-Управляемый ИД<br />— Категория (основной поток, поток интерфейса, обработчик вызова удаленной процедуры или рабочий поток)<br />-Имя потока<br />— Расположение, где создан поток<br />— Приоритет<br />-Affinity Mask<br />-Приостановленный счетчик<br />-Имя процесса<br />-Индикатор флага<br />-Приостановленный индикатор|Средства:<br /><br /> -Поиска<br />— Поиск в стеке вызовов<br />-Отметить только мой код<br />-Пометить выбранные пользовательские модули<br />-Группировать по<br />-Столбцы<br />-Развернуть/свернуть стеки вызовов<br />-Развернуть/свернуть группы<br />-Заморозить/Разморозить потоки<br /><br /> Контекстное меню:<br /><br /> -Показать потоки в исходном коде<br />-Переключение на поток<br />-Заморозить выполняющийся поток<br />-Разморозить замороженный поток<br />-Пометить поток для дополнительного изучения<br />-Снятие пометки потока<br />-Переименовать поток<br />-Отобразить и скрыть потоки<br /><br /> Другие действия:<br /><br /> -Просмотр стека вызовов для потока в совете|  
|Окна исходного кода.|Индикаторы потока в левом поле указывают один или несколько потоков (по умолчанию отключено, включается с помощью контекстного меню в **потоков** окно)|Контекстное меню:<br /><br /> -Переключение на поток<br />-Пометить поток для дополнительного изучения<br />-Снятие пометки потока|  
|**Место отладки** панели инструментов|-Текущий процесс<br />-Приостановить приложение<br />-Возобновить работу приложения<br />-Приостановить и завершить работу приложения<br />-Текущий поток<br />-Переключить состояние флага текущего потока<br />— Показывать только отмеченные потоки<br />-Показать только текущий процесс<br />-Текущий кадр стека|-Переключиться в другой процесс<br />-Приостановить, возобновить или завершить работу приложения<br />-Переключение на другой поток в текущем процессе<br />-Переключиться на другой кадр стека в текущем потоке<br />-Пометка и снятие пометки текущих потоков<br />— Показывать только отмеченные потоки<br />-Показать только текущий процесс|  
|**Параллельные стеки** окно|-Стеки вызовов для нескольких потоков в одном окне.<br />-Активный кадр стека для каждого потока.<br />-Вызывающие и вызываемые объекты для любого метода.|-Отфильтровать указанные потоки<br />-Переключитесь в представление "задачи"<br />-Пометка и снятие пометки потока<br />-Масштаба|   
|**Контроль параллельных данных** окно|— Столбец флагов, в котором можно пометить поток, которому требуется уделить особое внимание.<br />-Столбец кадров, в котором стрелка указывает выбранного кадра.<br />-Настраиваемый столбец, который может отображать компьютер, процесс, плитки, задачи и потока.|-Пометка и снятие пометки потока<br />-Отобразить только отмеченные потоки<br />-Переключить кадры<br />— Сортировка столбцов<br />-Группы потоков<br />-Заморозить или Разморозить потоки<br />-экспортировать данные в окне «контроль параллельных данных»| 
|**Задачи** окно|— Просмотр сведений о <xref:System.Threading.Tasks.Task> объектов, включая идентификатор задачи, состояние задачи (запланирована, выполнения, ожидания, количеством взаимных блокировок), и потоке, назначенном задаче.<br />-Текущее расположение в стеке вызовов.<br />-Делегат, переданный задаче во время создания|-Переключиться на текущую задачу<br />-Флаг или снять пометку с задачи<br />-Заморозить или разморозить задачу|  
|**Потоки GPU** окно|— Столбец флагов, в котором можно пометить поток, которому требуется уделить особое внимание.<br />-Текущий поток столбец, в котором желтая стрелка указывает текущий поток.<br />- **Число потоков** столбец, который отображает количество потоков в одном месте.<br />- **Строки** столбец, который отображает строку кода, где расположена каждая группа потоков.<br />- **Адрес** столбец, в котором отображается адрес инструкции, где расположена каждая группа потоков.<br />- **Расположение** столбец, в которой находится в коде адреса.<br />- **Состояние** столбец, который показывает, является ли поток активным или блокированным.<br />- **Плитку** столбец, который показывает индекс плитки для потоков в строке.|— Изменения на другой поток<br />-Отобразить определенную плитку и потока<br />— Отображение или скрытие столбца<br />— Сортировка по столбцу<br />-Группы потоков<br />-Заморозить или Разморозить потоки<br />-Пометка и снятие пометки потока<br />-Отобразить только отмеченные потоки|  
  
## <a name="see-also"></a>См. также  
 [Присоединение к выполняемым процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [Отладка многопоточных приложений](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [Отладка кода GPU](../debugger/debugging-gpu-code.md)
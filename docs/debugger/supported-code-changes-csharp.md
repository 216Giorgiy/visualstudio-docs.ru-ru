---
title: Поддерживаемые изменения кода (C# и Visual Basic) | Документы Microsoft
ms.custom: ''
ms.date: 10/11/2017
ms.technology:
- vs-ide-debug
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- Edit and Continue [C#], supported code changes
- Edit and Continue [Visual Basic], supported code changes
ms.assetid: c7a48ea9-5a7f-4328-a9d7-f0e76fac399d
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- dotnet
ms.openlocfilehash: eba3de7930b650ad7c1fc2d6ad4511ca3ca4c9d1
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="supported-code-changes-c-and-visual-basic"></a>Поддерживаемые изменения кода (C# и Visual Basic)
Операция "Изменить и продолжить" обрабатывает большинство типов изменений, вносимых в код внутри тела метода. Однако большинство изменений за пределами тела метода и некоторые изменения в теле метода во время отладки применены быть не могут. Чтобы такие неподдерживаемые изменения вступили в силу, необходимо остановить отладку и заново запустить ее для обновленной версии кода.

## <a name="supported-changes-to-code"></a>Поддерживаемые изменения кода

В следующей таблице показаны изменения, которые могут выполняться в C# и Visual Basic кода во время сеанса отладки без перезапуска сеанса.

|Элемент языка или компонент|Поддерживаемые действия|Ограничения|
|-|-|-|
|Типы|Добавьте методы, поля, конструкторы, и т. п|[Да](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|
|Итераторы|Добавление или изменение|Нет|
|Async/await выражения|Добавление или изменение|[Да](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|
|Динамические объекты|Добавление или изменение|Нет|
|лямбда-выражения|Добавление или изменение|[Да](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|
|Выражения LINQ|Добавление или изменение|[То же, что лямбда-выражения](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits)|

> [!NOTE]
> Как правило, новых языковых конструкций, таких как интерполяции строк и операторы с условием null поддерживаются изменить и продолжить. Последние сведения см. в разделе [Enc поддерживается изменяет](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits) страницы.

## <a name="unsupported-changes-to-code"></a>Неподдерживаемые изменения кода
 Во время сеанса отладки для кода C# и Visual Basic не может применяться следующие изменения:  
  
-   Изменения в текущем или любом другом активном операторе.  
  
     К активным операторам относятся любые операторы внутри функций из стека вызовов, которые были вызваны для перехода к текущему оператору.  
  
     Текущий оператор выделяется в окне исходного кода желтым фоном. Остальные активные операторы выделяются затенением и доступны только для чтения. Эти цвета по умолчанию можно изменить в **параметры** диалоговое окно.

- В следующей таблице показаны изменения кода не поддерживается элементом языка.

|Элемент языка или компонент|Операция неподдерживаемые изменения|
|-|-|
|Все элементы кода|Переименование|
|Пространства имен|Add|
|Пространства имен, типы, члены|Удаление|
|Универсальные шаблоны|Добавление или изменение|
|интерфейсов,|Изменить|
|Типы|Добавьте абстрактный или виртуальный член, добавьте переопределения (см. [сведения](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits))|
|Типы|Добавить деструктор|
|Участники|Измените член, ссылки на внедренный тип взаимодействия|
|Члены (Visual Basic)|Измените член с оператор On Error или Resume|
|Члены (Visual Basic)|Изменения элемента, содержащего статистическое выражение, Group By, простого присоединения или LINQ присоединение группы предложения запроса|
|Методы|Изменение подписи|
|Методы|Сделать абстрактный метод становятся неабстрактного путем добавления тела метода|
|Методы|Удаление тела метода|
|Атрибуты|Добавление или изменение|
|Свойства или события|Измените параметр типа, базовый тип типа делегата или тип возвращаемого значения |
|Операторы или индексаторов|Измените параметр типа, базовый тип типа делегата или тип возвращаемого значения |
|catch - блоки|Измените, если он содержит активную инструкцию|
|блоки try-catch-finally|Измените, если он содержит активную инструкцию|
|использование операторов|Add|
|асинхронные методы или лямбда-выражения|Изменения асинхронного метода или лямбда-выражения в проект, предназначенный для платформы .NET Framework 4 и более (в разделе [сведения](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits))|
|Итераторы|Изменение итератора в проект, предназначенный для платформы .NET Framework 4 и более (в разделе [сведения](https://github.com/dotnet/roslyn/wiki/EnC-Supported-Edits))|
  
## <a name="unsafe-code"></a>Небезопасный код  
 Для изменений небезопасного кода действуют те же ограничения, что и для безопасного кода, и одно дополнительное ограничение: операция "Изменить и продолжить" не поддерживает изменения небезопасного кода, подразумевающие выход из метода, содержащего оператор `stackalloc`.  

## <a name="unsupported-app-scenarios"></a>Приложение неподдерживаемые сценарии

Неподдерживаемые приложений и платформ включают ASP.NET 5, Silverlight 5 и Windows 8.1.

> [!NOTE]
> Приложения, которые поддерживаются включить UWP в Windows 10 и x86- и x64 приложений, предназначенных для .NET Framework 4.6 рабочего стола или более поздней версии, (платформа .NET Framework — только версия рабочего стола).
  
## <a name="unsupported-scenarios"></a>Неподдерживаемые сценарии  
 Режим "Изменить и продолжить" не доступен при следующих скриптах отладки:  
  
-   отладка в смешанном режиме (машинный код/управляемый код);  
  
-   отладка SQL;  
  
-   отладка дампа Dr. Watson;  
  
-   отладка вложенного приложения времени выполнения;  
  
-   Отладка приложения с помощью присоединения к процессу (**Отладка > присоединить к процессу**) вместо запуска приложения, выбрав **запустить** из **отладки** меню.  
  
-   отладка оптимизированного кода;  
  
-   отладка старой версии кода после того, как новую версию не удалось собрать из-за ошибок сборки.
  
## <a name="see-also"></a>См. также  
 [Изменить и продолжить (Visual C#)](../debugger/edit-and-continue-visual-csharp.md)   
 [Практическое руководство. Использование режима "Изменить и продолжить" (C#)](../debugger/how-to-use-edit-and-continue-csharp.md)
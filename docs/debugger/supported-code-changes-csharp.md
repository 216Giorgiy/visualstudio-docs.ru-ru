---
title: "Поддерживаемые изменения кода (C#) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "FSharp"
  - "VB"
  - "CSharp"
  - "C++"
helpviewer_keywords: 
  - "Изменить и продолжить [C#], поддерживаемые изменения кода"
ms.assetid: c7a48ea9-5a7f-4328-a9d7-f0e76fac399d
caps.latest.revision: 27
caps.handback.revision: 27
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# Поддерживаемые изменения кода (C#)
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Операция "Изменить и продолжить" обрабатывает большинство типов изменений, вносимых в код внутри тела метода.  Однако большинство изменений за пределами тела метода и некоторые изменения в теле метода во время отладки применены быть не могут.  Чтобы такие неподдерживаемые изменения вступили в силу, необходимо остановить отладку и заново запустить ее для обновленной версии кода.  
  
 Следующие изменения в коде C\# не могут быть применены во время сеанса отладки.  
  
-   Изменения в текущем или любом другом активном операторе.  
  
     К активным операторам относятся любые операторы внутри функций из стека вызовов, которые были вызваны для перехода к текущему оператору.  
  
     Текущий оператор выделяется в окне исходного кода желтым фоном.  Остальные активные операторы выделяются затенением и доступны только для чтения.  Эти используемые по умолчанию цвета можно изменить в диалоговом окне **Параметры**.  
  
-   изменение сигнатуры типа;  
  
-   Добавление анонимного метода, записывающего переменную, которая не была записана ранее.  
  
-   Добавление, удаление или изменение атрибутов.  
  
-   Добавление, удаление или изменение директив `using`.  
  
-   Включение активного оператора в блоки `foreach`, `using` или `lock`.  
  
## Небезопасный код  
 Для изменений небезопасного кода действуют те же ограничения, что и для безопасного кода, и одно дополнительное ограничение: операция "Изменить и продолжить" не поддерживает изменения небезопасного кода, подразумевающие выход из метода, содержащего оператор `stackalloc`.  
  
## Исключения  
 Операция "Изменить и продолжить" поддерживает внесение изменений в блоки `catch` и `finally`, за исключением того, что добавление блока `catch` или `finally` вокруг активного оператора не допускается.  
  
## Неподдерживаемые сценарии  
 Режим "Изменить и продолжить" не доступен при следующих скриптах отладки:  
  
-   отладка кода LINQ в определенных обстоятельствах;  Дополнительные сведения см. в разделе [Отладка LINQ](../debugger/debugging-linq.md).  
  
    -   запись переменной, которая не была записана ранее;  
  
    -   изменение типа выражения запроса \(например, select a \=\> select new { A \= a };\);  
  
    -   удаление `where` с активным оператором;  
  
    -   удаление `let` с активным оператором;  
  
    -   удаление `join` с активным оператором;  
  
    -   удаление `orderby` с активным оператором.  
  
-   отладка в смешанном режиме \(машинный код\/управляемый код\);  
  
-   отладка SQL;  
  
-   отладка дампа Dr.  Watson;  
  
-   изменение кода после необработанного исключения, когда не включен параметр **Очищать стек вызовов от кадров необработанных исключений**;  
  
-   отладка вложенного приложения времени выполнения;  
  
-   отладка приложения, для которого была выполнена команда **Присоединиться к** вместо запуска приложения с помощью команды **Пуск** в меню **Отладка**;  
  
-   отладка оптимизированного кода;  
  
-   отладка старой версии кода после того, как новую версию не удалось собрать из\-за ошибок сборки.  
  
## См. также  
 [Режим "Изменить и продолжить" \(Visual C\#\)](../debugger/edit-and-continue-visual-csharp.md)   
 [Практическое руководство. Использование режима "Изменить и продолжить" \(C\#\)](../debugger/how-to-use-edit-and-continue-csharp.md)
---
title: "Ограничения на отладку WCF | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- debugging, WCF
- WCF, debugging limitations
ms.assetid: 8e0333c4-1ddc-4abe-8f1c-d19bf6a2a07a
caps.latest.revision: "30"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 72e166d5501849dd84964364a94b2bdf6dc239a2
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2017
---
# <a name="limitations-on-wcf-debugging"></a>Ограничения на отладку WCF
Существуют три способа, позволяющих начать отладку службы WCF:  
  
-   Отладка клиентского процесса, который вызывает службу. Отладчик выполняет шаг с заходом в службу. Служба и используемое клиентское приложение не обязательно должны находиться в одном и том же решении.  
  
-   Отладка клиентского процесса, который отправляет запрос службе. Служба должна быть частью решения.  
  
-   Вы используете **присоединиться к процессу** подключиться к службе, которая выполняется в данный момент. Отладка начинается внутри службы.  
  
 В этом разделе описаны ограничения на применение данных сценариев.  
  
## <a name="limitations-on-stepping-into-a-service"></a>Ограничения на выполнение шага с заходом в службу  
 Чтобы выполнить шаг с заходом в службу из отлаживаемого клиентского приложения, необходимо соблюдать следующие условия.  
  
-   Для вызова службы клиент должен использовать синхронный клиентский объект.  
  
-   Операция контракта не может быть односторонней.  
  
-   Если сервер асинхронный, то при выполнении кода внутри службы невозможно просмотреть полный стек вызовов.  
  
-   В файле app.config или Web.config должна быть включена отладка с помощью показанного ниже кода.  
  
    ```  
    <system.web>  
      <compilation debug="true" />  
    </system.web>  
    ```  
  
     Этот код требуется добавить только один раз. Можно добавить этот код, изменив файл .config или выполнив присоединение к службе с помощью **присоединиться к процессу**. При использовании **присоединиться к процессу** на службу, код отладки автоматически добавляется в файл конфигурации .config. После этого можно выполнить отладку и выполнить шаг с заходом в службу, не изменяя файл .config.  
  
## <a name="limitations-on-stepping-out-of-a-service"></a>Ограничения на выполнение шага с выходом из службы  
 В отношении выхода из пошагового выполнения службы и возвращения к клиенту действуют те же ограничения, что и для шага с заходом в службу. Кроме того, отладчик должен быть присоединен к клиенту. Если во время отладки клиента производится шаг с заходом в службу, отладчик остается присоединенным к службе. Это справедливо как в случае запуска клиента с помощью **начать отладку** или присоединен к клиенту с помощью **присоединиться к процессу**. Если отладка начинается путем присоединения к службе, отладчик больше не будет присоединен к клиенту. В этом случае при наличии для пошагового выполнения службы и обратно клиенту, необходимо сначала использовать **присоединиться к процессу** для присоединения к клиенту вручную.  
  
## <a name="limitations-on-automatic-attach-to-a-service"></a>Ограничения на автоматическое присоединение к службе  
 Автоматическое присоединение к службе имеет следующие ограничения:  
  
-   Служба должна быть частью решения [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)], для которого выполняется отладка.  
  
-   Служба должна быть размещена. Служба может быть частью проекта веб-сайта (файловая система или HTTP), проекта веб-приложения (файловая система или HTTP) или проекта библиотеки служб WCF. Проекты библиотеки служб WCF могут быть либо библиотеками служб, либо библиотеками служб рабочих процессов.  
  
-   Обращение к службе должно производиться из клиента WCF.  
  
-   В файле app.config или Web.config должна быть включена отладка с помощью показанного ниже кода.  
  
    ```  
    <system.web>  
      <compilation debug="true" />  
    <system.web>  
    ```  
  
## <a name="self-hosting"></a>Резидентное размещение  
 Объект *резидентная служба* является службой WCF, которая не запускается внутри IIS, узла службы WCF или [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] Development Server. Сведения об отладке резидентной службы см. в разделе [как: отладка резидентной службы](../debugger/how-to-debug-a-self-hosted-wcf-service.md).  
  
## <a name="self-hosting"></a>Резидентное размещение  
 Чтобы включить отладку [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] приложений 3.0 или 3.5, [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] 3.0 или 3.5 необходимо установить перед [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] установлен. Если [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] установлена перед [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] 3.0 или 3.5, произошла ошибка при попытке отладки [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] 3.0 или 3.5. Сообщение об ошибке: "Не удалось автоматически выполнить шаг на сервере". Чтобы устранить эту проблему, воспользуйтесь окном **панели управления** > **программы и компоненты** для восстановления вашей [!INCLUDE[vs_dev10_long](../code-quality/includes/vs_dev10_long_md.md)] установки.  
  
## <a name="see-also"></a>См. также  
 [Отладка служб WCF](../debugger/debugging-wcf-services.md)   
 [Практическое руководство. Отладка резидентной службы WCF](../debugger/how-to-debug-a-self-hosted-wcf-service.md)
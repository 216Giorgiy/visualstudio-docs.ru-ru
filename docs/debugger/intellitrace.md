---
title: "IntelliTrace | Документы Microsoft"
ms.custom: 
ms.date: 07/18/2017
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: vs.historicaldebug.overview
helpviewer_keywords:
- debugger, recording execution history
- debugging, recording execution history
- IntelliTrace [Visual Studio ALM]
- IntelliTrace, debugging applications
- debugger, (See also IntelliTrace [Visual Studio ALM])
- debugging, (See also IntelliTrace [Visual Studio ALM])
- IntelliTrace, collecting data from Test Manager
- IntelliTrace
- Test Manager, debugging with IntelliTrace
- IntelliTrace, debugging after a crash
ms.assetid: 486bfec2-39bd-4d78-892a-42352128ee52
caps.latest.revision: "135"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.workload: multiple
ms.openlocfilehash: 789c2317fcb1bc46b5708f1810563b20fe8895ed
ms.sourcegitcommit: f9fbf1f55f9ac14e4e5c6ae58c30dc1800ca6cda
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2018
---
# <a name="intellitrace"></a>IntelliTrace
Сократите затраты времени на отладку приложения, используя IntelliTrace для записи и отслеживания истории выполнения кода. Вы сможете без труда находить ошибки, поскольку IntelliTrace позволяет выполнять следующие задачи.  
  
-   Записывать определенные события.  
  
     Просматривать связанный код, данные, отображаемые в **локальные** во время событий отладчика и данные вызова функции  
  
-   Выполнять отладку ошибок, которые трудно воспроизводимы или возникают в развертывании.  
  
 IntelliTrace можно использовать в выпуске Visual Studio Enterprise (но не в выпусках Professional или Community).  
  
## <a name="what-do-you-want-to-do"></a>Выберите действие  
  
|||  
|-|-|  
|**Отладка приложения с помощью IntelliTrace:**<br /><br /> -Отображение прошлых событий.<br />-Show me сведений о вызовах с прошлыми событиями.<br />-Сохранение сеанса IntelliTrace.<br />-Элемент управления, которые IntelliTrace собирает данные.|-   [Пошаговое руководство: Использование IntelliTrace](../debugger/walkthrough-using-intellitrace.md)<br />- [Возможности IntelliTrace](../debugger/intellitrace-features.md)<br />-   [Отладка с ведением журнала](../debugger/historical-debugging.md)<br />-   [Просмотр моментальных снимков, с помощью обратной шаг IntelliTrace](../debugger/how-to-use-intellitrace-step-back.md)|  
|**Сбор данных IntelliTrace во время тестового сеанса в Test Manager**|-   [Сбор дополнительных данных диагностики в ручных тестах](/vsts/manual-test/mtm/collect-more-diagnostic-data-in-manual-tests)|  
|**Сбор данных IntelliTrace из развернутых приложений**|-   [Использование автономного сборщика IntelliTrace](../debugger/using-the-intellitrace-stand-alone-collector.md)|  
|**Запуск отладки из файла журнала IntelliTrace (ITRACE-файл).**|-   [Использование сохраненных данных IntelliTrace](../debugger/using-saved-intellitrace-data.md)|  
  
##  <a name="IntelliTraceSupport"></a>Какие приложения можно отлаживать с помощью IntelliTrace.  
  
|||  
|-|-|  
|**Поддерживается**|-Visual C# и Visual Basic приложения, использующие .NET Framework 2.0 или более поздних версий.<br />     Можно отлаживать большинство приложений, включая ASP.NET, Microsoft Azure, Windows Forms, WCF, WPF, Windows Workflow, SharePoint 2010, SharePoint 2013 и 64-разрядные приложения.<br />     Для отладки приложений SharePoint с помощью IntelliTrace, в разделе [Пошаговое руководство: отладка приложения SharePoint с помощью IntelliTrace](../sharepoint/walkthrough-debugging-a-sharepoint-application-by-using-intellitrace.md).<br />     Для отладки приложения Microsoft Azure с помощью IntelliTrace, в разделе [отладка опубликованной облачной службы с помощью IntelliTrace и Visual Studio](/azure/vs-azure-tools-intellitrace-debug-published-cloud-services).|  
|**Ограниченная поддержка**|-.NET core и поддерживается только для событий приложений ASP.NET Core<br />-Приложения F # на экспериментальной основе<br />-Поддерживается только для событий приложений UWP|  
|**Не поддерживается**|-C++, другие языки и скрипт<br />— Службы Windows, Silverlight, Xbox или [!INCLUDE[winmobile](../debugger/includes/winmobile_md.md)] приложений|  
  
> [!NOTE]
>  Если требуется отладить уже запущенному процессу, можно собирать только события IntelliTrace (без сведений о вызовах). Можно присоединить к процессу на локальном компьютере только 32-разрядная или 64-разрядной. События, происходящие перед присоединением к процессу, не собираются.
  
##  <a name="IntelliTraceVSTraditional"></a>Зачем выполнять отладку с помощью IntelliTrace?  
 Традиционные или *live* отладки показывает только текущего состояния приложения, с ограниченными данными о прошлых событиях. Необходимо либо сделать вывод об этих событиях на основании текущего состояния приложения, либо создать заново эти события, повторно запустив приложение.  
  
 IntelliTrace расширяет эти традиционные возможности отладки, записывая конкретные события и данные в определенные периоды времени. Это позволяет увидеть, что произошло в приложении, не перезапуская его, особенно если место возникновения ошибки было пропущено. IntelliTrace по умолчанию включается во время традиционной отладки и автоматически и незаметно собирает данные. Это позволяет легко переключаться между традиционной отладкой и отладкой с помощью IntelliTrace для просмотра записанной информации. В разделе [возможности IntelliTrace](../debugger/intellitrace-features.md) и [какие данные собирает IntelliTrace?](#WhatData)  
  
 IntelliTrace также может помочь в отладке ошибок, которые трудно воспроизводимы или происходят в развертывании. Можно собирать данные IntelliTrace и сохранять их в файл журнала IntelliTrace (файл .iTrace). Файл .iTrace содержит сведения об исключениях, событиях производительности, запросах через Интернет, тестовых данных, потоках, модулях и другую системную информацию. Можно открыть этот файл в Visual Studio Enterprise, выбрать элемент и начать отладку с помощью IntelliTrace. Это позволяет перейти к любому событию в файле и просматривать конкретные сведения о приложении на этот момент времени.  
  
 Можно сохранять данные IntelliTrace из следующих источников:  
  
-   Сеанс IntelliTrace в Visual Studio Enterprise 2017 г., Visual Studio 2015 Enterprise или предыдущих версий Visual Studio Ultimate.  
  
-   Сеанс тестирования в Microsoft Test Manager.  
  
-   Веб-приложения ASP.NET, размещенные в IIS, или приложения SharePoint 2010 и SharePoint 2013, работающие в развертывании при использовании Microsoft Monitoring Agent, как отдельно, так и вместе с System Center 2012. В разделе [использовать автономный сборщик IntelliTrace](../debugger/using-the-intellitrace-stand-alone-collector.md) и [мониторинг с помощью Microsoft Monitoring Agent](http://technet.microsoft.com/library/dn465153.aspx).  
  
 Ниже приведено несколько примеров того, как IntelliTrace облегчает отладку.  
  
-   Приложение имеет поврежденный файл данных, но вы не знаете, где произошло это событие.  
  
     Без IntelliTrace было бы необходимо просмотреть код, чтобы найти все возможные попытки доступа к файлу, разместить точки останова в этих местах осуществления доступа и перезапустить приложение для поиска места возникновения проблемы. С помощью IntelliTrace можно просмотреть все собранные события доступа к файлу и конкретные сведения о приложении на момент, когда произошло каждое событие.  
  
-   Происходит исключение.  
  
     Без IntelliTrace вы получаете сообщение об исключении, но не имеют большой объем информации о событиях, которые приводят к исключению. Можно проверить стек вызовов, чтобы просмотреть цепочку вызовов, которые приводят к исключению, но невозможно просмотреть последовательность событий, произошедших во время этих вызовов. С помощью IntelliTrace можно просмотреть события, которые случились перед исключением.  
  
-   Приложение аварийно завершает работу на тестовом компьютере, но успешно выполняется на компьютере разработчика.  
  
     Можно собирать данные IntelliTrace из Microsoft Test Manager, сохранить эти данные в файле .iTrace и вложить этот файл в рабочий элемент Team Foundation Server для последующего изучения. В разделе [сбор дополнительных данных диагностики в ручных тестах](/vsts/manual-test/mtm/collect-more-diagnostic-data-in-manual-tests) и [использование сохраненных данных IntelliTrace](../debugger/using-saved-intellitrace-data.md).  
  
-   В развернутом приложении происходит ошибка или сбой.  
  
     Для приложений на базе Microsoft Azure можно настроить сбор данных IntelliTrace до публикации приложения. Во время работы приложения IntelliTrace сохраняет информацию в ITRACE-файл. В разделе [отладка опубликованной облачной службы с помощью IntelliTrace и Visual Studio](http://go.microsoft.com/fwlink/?LinkID=262248).  
  
     Для веб-приложений ASP.NET, размещенных в IIS 7.0, 7.5 и 8.0, и приложений SharePoint 2010 и SharePoint 2013 используйте Microsoft Monitoring Agent либо отдельно, либо вместе с System Center 2012 для сохранения данных IntelliTrace в ITRACE-файл.  
  
     Этот метод полезен при диагностике проблем с приложениями в развертывании. В разделе [использовать автономный сборщик IntelliTrace](../debugger/using-the-intellitrace-stand-alone-collector.md).  
  
##  <a name="WhatData"></a>Какие данные собирает IntelliTrace?  
 **Сбор сведений о событиях**  
  
 По умолчанию IntelliTrace записывает только события IntelliTrace — события отладчика, исключения, события .NET Framework и другие системные события, которые помогут вам в процессе отладки. Можно выбрать типы событий IntelliTrace, которые необходимо собирать, за исключением событий отладчика и исключений, которые собираются всегда. В разделе [возможности IntelliTrace](../debugger/intellitrace-features.md).  
  
-   **События отладчика**  
  
     IntelliTrace всегда записывает события, которые происходят в отладчике Visual Studio. Например, запуск приложения — это событие отладчика. Другие события отладчика — события остановки, заставляющие приложение прервать исполнение. Например, программа попадает на точку останова, точки трассировки или выполняет **шаг** команды.  

     По умолчанию во избежание проблем с производительностью, IntelliTrace не записывает все возможные значения события отладчика. а только следующие:  
  
    -   Значения в **локальные** окна. Сохранить **локальные** окно открытым, чтобы видеть эти значения.  
  
    -   Значения в **видимые** только тогда, когда окно **видимые** открыт  
  
    -   Значения в советах DataTips, отображаемые при наведении указателя мыши на переменную в окне исходного кода для просмотра ее значения. IntelliTrace не собирает значения в закрепленных советах DataTips.  

    При включении режима события IntelliTrace и моментальные снимки IntelliTrace будет сделать снимок процесс приложения на каждом отладчик **останова** и **шаг** событий. Это будет записывать значения в **локальные**, **видимые**, и **Контрольные значения** windows, независимо от того, откройте windows или нет. Значения в подсказках все закрепленные данные также будут собираться. 
  
-   **Исключения**  
  
     IntelliTrace записывает тип исключения и сообщение для:  
  
    -   обработанных исключений, если исключение создано и перехвачено;  
  
    -   необработанных исключений.  
  
-   **События .NET framework**  
  
     По умолчанию IntelliTrace записывает наиболее распространенные события .NET Framework. Пример:  
  
    -   Для события установки флажка IntelliTrace собирает состояние и текст флажка.  
  
-   **События приложения SharePoint 2010 и SharePoint 2013**  
  
     Можно записать события профиля пользователя и подмножество событий унифицированной системы ведения журнала (ULS) для приложений SharePoint 2010 и 2013, выполняемых вне Visual Studio. Можно сохранить эти события в ITRACE-файле. Требуется 2017 г. для Visual Studio Enterprise, Visual Studio Enterprise 2015, предыдущей версии Visual Studio Ultimate или [Microsoft Monitoring Agent](http://go.microsoft.com/fwlink/?LinkId=320384) в **трассировки** режим.  
  
     При открытии ITRACE-файла введите идентификатор корреляции SharePoint для поиска соответствующего веб-запроса, просмотра записанных событий и запуска отладки из указанного события. Если файл содержит необработанные исключения, можно выбрать идентификатор корреляции для запуска отладки исключения.  
  
     Пример  
  
    -   [Использование автономного сборщика данных IntelliTrace](../debugger/using-the-intellitrace-stand-alone-collector.md)  
  
    -   [Использование сохраненных данных IntelliTrace](../debugger/using-saved-intellitrace-data.md)  
  
    -   [Пошаговое руководство. Отладка приложения SharePoint при помощи IntelliTrace](../sharepoint/walkthrough-debugging-a-sharepoint-application-by-using-intellitrace.md)  
 
 **Делать моментальные снимки**
 
 Можно настроить IntelliTrace для записи моментальных снимков в каждой точке останова и шаг события отладчика. IntelliTrace записывает состояние полного приложения на каждый моментальный снимок, который позволяет просматривать переменные комплексного и оценки выражений.

 В разделе [Просмотр моментальных снимков с помощью IntelliTrace шаг обратной](../debugger/how-to-use-intellitrace-step-back.md).

 **Сбор сведений о вызовах функции**  
  
 Можно настроить IntelliTrace для сбора сведений о вызовах для функций. Эти сведения позволяют просмотреть историю стека вызовов и перемещаться по вызовам в коде вперед и назад. Для каждого вызова функции IntelliTrace записывает следующие данные.  
  
-   Имя функции  
  
-   Значения простых типов данных, переданные в качестве параметров в точках входа функции и возвращаемые в точках выхода функции.  
  
-   Значения автоматических свойств при их чтении или изменении.  
  
-   Указатели на дочерние объекты первого уровня без их значений (только информацию о том, являются ли они null или нет).  
  
> [!NOTE]
>  IntelliTrace собирает только первые 256 объектов в массивах и первые 256 символов в строках.  
  
 В разделе [проверки приложения отладки с ведением журнала](../debugger/historical-debugging-inspect-app.md).
  
 **Сбор сведений о модуле**  
  
 Для того, чтобы контролировать размер собираемой IntelliTrace информации о вызовах, укажите только интересующие модули. Это может повысить производительность приложения во время сбора информации. См. в разделе [контролировать объем сведений, собираемых с помощью IntelliTrace](../debugger/intellitrace-features.md#ControlCallData) в возможности IntelliTrace.  
  
##  <a name="AffectPerformance"></a>IntelliTrace будет замедлять работу приложения?  
 По умолчанию IntelliTrace собирает данные только для выбранных событий IntelliTrace. В зависимости от структуры и организации кода возможно замедление работы приложения. Например, частая запись события IntelliTrace может замедлить работу приложения. Также может потребоваться рассмотреть возможность рефакторинга приложения.  
  
 Сбор сведений о вызовах может значительно замедлить выполнение приложения. Кроме того, вследствие сбора сведений может увеличиться размер файлов журнала IntelliTrace (ITRACE-файлов), которые сохраняются на диск. Чтобы свести к минимуму указанные эффекты, собирайте информацию о вызовах только в важных для вас модулях.  Чтобы изменить максимальный размер ITRACE-файлов, перейдите к **средства**, **параметры**, **IntelliTrace**, **Дополнительно**. 
  
## <a name="in-this-section"></a>Содержание раздела  
 [Возможности IntelliTrace](../debugger/intellitrace-features.md)  
  
 [Диагностика проблем после развертывания](../debugger/diagnose-problems-after-deployment.md)  
  
 [Использование сохраненных данных IntelliTrace](../debugger/using-saved-intellitrace-data.md)  
  
### <a name="blogs"></a>Блоги  
 [Visual Studio ALM + Team Foundation Server](http://go.microsoft.com/fwlink/?LinkID=201340)  
  
### <a name="forums"></a>Форумы  
 [Visual Studio Diagnostics](http://go.microsoft.com/fwlink/?LinkId=262263)
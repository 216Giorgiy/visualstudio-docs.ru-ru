---
title: Отладка в ASP.NET
description: Отладка в ASP.NET с помощью отладчика Visual Studio
ms.custom: mvc
ms.date: 08/06/2018
ms.topic: quickstart
helpviewer_keywords:
- debugger
ms.assetid: f4cea2e1-08dc-47ac-aba2-3b8c338e607f
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- aspnet
ms.openlocfilehash: 7a17431fa2ad85c660164110ab005fa00053ff17
ms.sourcegitcommit: 3ca33862c1cfc3ccb83de3e95f1e69e860ab143a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57525405"
---
# <a name="quickstart-debug-aspnet-with-the-visual-studio-debugger"></a>Краткое руководство. Отладка в ASP.NET с помощью отладчика Visual Studio

Отладчик Visual Studio реализует множество эффективных функций для отладки приложений. В этой статье вы ознакомитесь с некоторыми основными возможностями.

## <a name="create-a-new-project"></a>Создание нового проекта

1. В Visual Studio последовательно выберите **Файл > Создать проект**.

1. В разделе **Visual C#** выберите **Веб**, а затем в средней области выберите **Веб-приложение ASP.NET Core**.

1. Введите имя, например **MyDbgApp**, и нажмите кнопку **ОК**.

1. В открывшемся диалоговом окне выберите в средней области **Веб-приложение**, а затем нажмите кнопку **ОК**.

     Если шаблон проекта **Веб-приложение** отсутствует, щелкните ссылку **Открыть Visual Studio Installer** в левой области диалогового окна **Создать проект**. Запускается Visual Studio Installer. Выберите рабочую нагрузку **ASP.NET и разработка веб-приложений**, а затем щелкните **Изменить**.

    ![Выбор веб-приложения](../debugger/media/dbg-qs-aspnet-choose-web-app.png)

    Visual Studio создаст проект.

1. Откройте файл About.cshtml.cs (находится в папке Pages/About.cshtml) в обозревателе решений и замените код

    ```csharp
    public void OnGet()
    {
        Message = "Your application description page.";
    }
    ```

    следующим кодом:

    ```csharp
    public void OnGet()
    {
        LinkedList<int> result = doWork();
        Message = "Result of work: " + result.First.Value + ", " + result.First.Value;
    }

    private static LinkedList<int> doWork()
    {
        LinkedList<int> c1 = new LinkedList<int>();

        c1.AddLast(10);
        c1.AddLast(20);

        LinkedList<int> c2 = new LinkedList<int>(c1);

        return c2;

    }
    ```

## <a name="set-a-breakpoint"></a>Установка точки останова

*Точка останова* указывает, где Visual Studio следует приостановить выполнение кода, чтобы вы могли проверить значения переменных или поведение памяти, либо выполнение ветви кода. Эта возможность чаще всего используется при отладке.

1. Чтобы задать точку останова, щелкните в области слева от функции `doWork` (или выберите строку кода и нажмите клавишу **F9**).

    ![Установка точки останова](../debugger/media/dbg-qs-set-breakpoint-aspnet.png)

    Точка останова задается слева от открывающей фигурной скобки (`{`).

1. Нажмите клавишу **F5** (или выберите **Отладка > Начать отладку**).

1. После загрузки веб-страницы щелкните ссылку **Сведения** в ее верхней части.

    Отладчик приостановит выполнение в заданной точке останова. Инструкция, в которой отладчик приостановил выполнение приложения, обозначается желтой стрелкой. Строка с открывающей фигурной скобкой (`{`) после функции `doWork` на этот момент не выполнена.

    ![Попадание в точку останова](../debugger/media/dbg-qs-hit-breakpoint-aspnet.png)

    > [!TIP]
    > При наличии точки останова в цикле или рекурсии либо большого числа точек останова, которые вы часто будете просматривать пошагово, используйте [условную точку останова](../debugger/using-breakpoints.md#BKMK_Specify_a_breakpoint_condition_using_a_code_expression), которая позволяет приостанавливать код только при выполнении определенных условий. Это позволяет сэкономить время и упростить отладку проблем, которые сложно воспроизвести.

## <a name="navigate-code"></a>Навигация по коду

Чтобы продолжить работу отладчика, можно использовать различные команды. Здесь описываются полезные новые команды для навигации по коду, доступные с версии Visual Studio 2017.

Если выполнение приостановлено в точке останова, наведите указатель мыши на инструкцию `return c2` и дождитесь, пока появится зеленая кнопка **Выполнение до щелкнутого** ![Выполнение до щелкнутого](../debugger/media/dbg-tour-run-to-click.png), после чего нажмите кнопку **Выполнение до щелкнутого**.

![Выполнение до щелкнутого](../debugger/media/dbg-qs-run-to-click-aspnet.png)

Выполнение приложения продолжится и будет приостановлено в той строке, в которой вы нажмете эту кнопку.

В процессе пошагового выполнения кода обычно используются клавиши **F10** и **F11**. Более подробные инструкции см. в статье [Знакомство с отладчиком Visual Studio](../debugger/debugger-feature-tour.md).

## <a name="inspect-variables-in-a-datatip"></a>Проверка переменных в подсказке по данным

1. В текущей строке кода, отмеченной желтым указателем выполнения, наведите указатель мыши на объект `c2`, чтобы просмотреть подсказку по данным.

    ![Просмотр подсказки по данным](../debugger/media/dbg-qs-data-tip-aspnet.png)

    Подсказка по данным содержит текущее значение переменной `c2` и позволяет проверить ее свойства. Если во время отладки отображается значение, которое вы не ожидали увидеть, возможно, в предыдущей или вызывающей строке кода имеется ошибка.

2. Разверните подсказку по данным, чтобы просмотреть текущие значения свойств объекта `c2`.

3. Чтобы закрепить подсказку по данным и иметь возможность постоянно просматривать значение переменной `c2` во время выполнения, щелкните небольшой значок булавки. (При необходимости вы можете переместить закрепленную подсказку по данным в удобное положение.)

## <a name="edit-code-and-continue-debugging"></a>Изменение кода и продолжение отладки

Вы можете сделать это во время сеанса отладки, если вам потребуется внести изменения в код.

1. В методе `OnGet` щелкните второй экземпляр `result.First.Value` и измените `result.First.Value` на `result.Last.Value`.

1. Нажмите клавишу **F10** (или выберите команду **Отладка > Шаг с обходом**) несколько раз, чтобы пройти вперед и выполнить измененный код.

    ![Изменение и продолжение](../debugger/media/dbg-qs-edit-and-continue-aspnet.png "Изменение и продолжение")

    При нажатии клавиши **F10** отладчик каждый раз переходит вперед на одну инструкцию, однако при этом минует функции, не заходя в них (пропускаемый код в таком случае по-прежнему выполняется).

Дополнительные сведения об этом режиме и его ограничениях см. в статье [Изменить и продолжить](../debugger/edit-and-continue.md).

## <a name="next-steps"></a>Следующие шаги

В этом руководстве вы узнали, как запускать отладчик, осуществлять пошаговое выполнение кода и проверять переменные. Возможно, вы захотите получить более полное представление о функциях отладчика, а также воспользоваться ссылками на дополнительные сведения.

> [!div class="nextstepaction"]
> [Обзор функций отладчика](../debugger/debugger-feature-tour.md)

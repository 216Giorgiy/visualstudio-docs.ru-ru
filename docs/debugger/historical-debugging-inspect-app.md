---
title: Проверьте свое приложение с помощью отладки с ведением журнала | Документация Майкрософт
ms.custom: ''
ms.date: 11/04/2016
ms.technology: vs-ide-debug
ms.topic: conceptual
ms.assetid: 629b5d93-39b2-430a-b8ba-d2a47fdf2584
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 2309a3213344607fa0f5b2f626fc67af2eff8f79
ms.sourcegitcommit: a749c287ec7d54148505978e8ca55ccd406b71ee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/21/2018
ms.locfileid: "46542342"
---
# <a name="inspect-your-app-with-intellitrace-historical-debugging-in-visual-studio"></a>Анализ приложения с помощью IntelliTrace с ведением журнала отладки в Visual Studio
Можно использовать [отладка с ведением журнала](../debugger/historical-debugging.md) для перемещения назад и вперед по выполнению приложения и проверять его состояние.  
  
IntelliTrace можно использовать в выпуске Visual Studio Enterprise, но не выпуск Professional или Community.  
  
## <a name="navigate-your-code-with-historical-debugging"></a>Навигация по коду с помощью отладки с ведением журнала  
 Давайте начнем с простой программы, содержащей ошибку. В консольном приложении C# добавьте следующий код:  
  
```csharp  
static void Main(string[] args)  
{  
    int testInt = 0;  
    int resultInt = AddAll(testInt);  
    Console.WriteLine(resultInt);  
}  
private static int AddAll(int j)  
{  
    for (int i = 0; i < 20; i++)  
    {  
        j = AddInt(j);  
    }  
    return j;  
}  
  
private static int AddInt(int add)  
{  
    if (add == 10)  
    {  
        return add += 25;  
    }  
    return ++add;  
}  
```  
  
 Мы предположим, что ожидаемое значение `resultInt` после вызова метода `AddAll()` — 20 (результат увеличения `testInt` 20 раз). (Мы также предположим, что не может видеть ошибку в `AddInt()`). Но результат будет 44. Как можно найти ошибку без обращения к `AddAll()` 10 раз? Отладка с ведением журнала можно использовать для поиска ошибки быстрее и проще. Это делается так.  
  
1.  В **Сервис > Параметры > IntelliTrace > Общие**, убедитесь, что включен IntelliTrace и выберите **события IntelliTrace и сведений о вызовах**. Если этот параметр не выбран, область навигации отображаться не будет (как описано ниже).  
  
2.  Установите точку останова на строке `Console.WriteLine(resultInt);`.  
  
3.  Приступите к отладке. Код выполняется до точки останова. В **"Локальные"** окно, можно увидеть, что значение `resultInt` 44.  
  
4.  Откройте **средства диагностики** окна (**Отладка > Показать средства диагностики**). Окно кода должно выглядеть следующим образом.  
  
     ![Окно кода в точке останова](../debugger/media/historicaldebuggingbreakpoint.png "HistoricalDebuggingBreakpoint")  
  
5.  Рядом с левым полем непосредственно над точкой останова отображается двойная стрелка. Эта область называется внутренней области навигации и используется для отладки с ведением журнала. Щелкните стрелку.  
  
     В окне кода предыдущая строка кода (`int resultInt = AddIterative(testInt);`) выделена розовым цветом. Над окном вы увидите сообщение, которое теперь вы находитесь в отладку с ведением журнала.  
  
     Теперь окно кода выглядит следующим образом.  
  
     ![окно кода в исторических режим отладки](../debugger/media/historicaldebuggingback.png "HistoricalDebuggingBack")  
  
6.  Теперь можно выполнить пошаговую отладку `AddAll()` метод (**F11**, или **шаг с заходом** кнопки в области навигации. Перейти к следующему (**F10**, или **перейти к следующему вызову** в области навигации. Теперь розовая строка находится на строке `j = AddInt(j);`. **F10** в этом случае выполняет переход к следующей строке кода. Вместо этого осуществляется вызов следующей функции. Отладка с ведением журнала переходит от вызова к вызову и пропускает строки кода, которые не включают вызов функции.  
  
7.  Выполните шаг с заходом в метод `AddInt()`. Вы сразу же увидите ошибку в этом коде.  

## <a name="next-steps"></a>Следующие шаги

Эта процедура лишь верхушку айсберга того, что можно сделать с помощью отладки с ведением журнала.

- Чтобы просмотреть моментальные снимки во время отладки, см. в разделе [проверять предыдущих состояний приложения с помощью IntelliTrace](../debugger/view-historical-application-state.md).
- Чтобы подробнее узнать о различных параметрах и действиях кнопок в области навигации, см. в разделе [возможности IntelliTrace](../debugger/intellitrace-features.md).
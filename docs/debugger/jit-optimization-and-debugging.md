---
title: "JIT-компилятора отладка и оптимизация | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- debugging [Visual Studio], optimized code
- optimized code, debugging
ms.assetid: 19bfabf3-1a2e-49dc-8819-a813982e86fd
caps.latest.revision: 
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.workload:
- multiple
ms.openlocfilehash: 23de1ec4e053a87c4f91cf7b599f49b8fe318015
ms.sourcegitcommit: 342e5ec5cec4d07864d65379c2add5cec247f3d6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2018
---
# <a name="jit-optimization-and-debugging"></a>JIT-отладка и оптимизация
**Способы оптимизации работы в .NET:** Если вы пытаетесь отладить код, проще при том, что код является **не** оптимизирован. Это так, как при оптимизации кода компилятор и среда выполнения внесите изменения в порожденном коде ЦП, чтобы он выполняется быстрее, но имеет менее прямое сопоставление для исходного кода. Это означает, что отладчики не могут часто сообщают значения локальных переменных и пошаговое выполнение кода и точки останова могут не работать должным образом.

Обычно конфигурация построения Release создает оптимизированный код и не поддерживает отладочной конфигурации построения. `Optimize` Свойство MSBuild определяет, предлагается ли компилятор оптимизировать код.

В экосистеме .NET кода включено из источника для инструкции ЦП в два этапа: сначала преобразует текст, вводимый в промежуточный двоичной форме, вызывается MSIL компилятор C# и записывает это в DLL-файлы. Позже среда выполнения .NET этот язык MSIL преобразуется инструкции ЦП. Оба шага можно оптимизировать в некоторой степени, но более значительные оптимизации выполняет второй этап, выполняемых в среде выполнения .NET.

**Параметр «Отключить JIT-оптимизацию при загрузке модуля (только управляемый код)»:** отладчик предоставляет параметр, который управляет, что происходит при загрузке библиотеки DLL, которая компилируется с включенными оптимизациями внутри целевого процесса. Если этот флажок не установлен (состояние по умолчанию), а затем, если среда .NET компилирует код MSIL в код ЦП, оно оставляет оптимизациями. Если флажок установлен, отладчик запрашивает, что оптимизация отключена.

**Отключить JIT-оптимизацию при загрузке модуля (только управляемый код)** параметр можно найти на **Общие** в разделе **Отладка** узел в **параметры** диалоговое окно.

**Если необходимо установить флажок этого параметра:** установите флажок, после загрузки библиотеки DLL из другого источника, например пакет nuget, и необходимо выполнить отладку кода в эту библиотеку DLL. В порядке, чтобы это работало необходимо также найти файл символов (.pdb) для этой библиотеки DLL.

Если вы заинтересованы только при отладке кода, который вы создаете локально, лучше не устанавливайте этот флажок, как в некоторых случаях включение этого параметра будет значительно замедлить отладки. Существует две причины замедлить:

* Оптимизированный код выполняется быстрее. Если вы дезактивируете оптимизации для большого количества кода, влияние на производительность можно добавить.
* При наличии только мой код, отладчик даже повторите и загрузить символы для библиотек DLL, которые оптимизированы. Поиск символов может занять много времени.

**Ограничения для этого параметра:** существуют две ситуации, когда этот параметр будет **не** работы:

1. В ситуациях, где для присоединения отладчика к уже запущенному процессу этот параметр не повлияет на модули, которые уже были загружены во время был присоединен отладчик.
2. Этот параметр не оказывает влияния на библиотеки DLL, которые были предварительно компилируется в машинный код (называемые также технология Ngen). Тем не менее можно отключить использование предварительно скомпилированного кода, запустив процесс со средой переменной «COMPlus_ZapDisable» равным "1".

## <a name="see-also"></a>См. также  
 [Отладка управляемого кода](../debugger/debugging-managed-code.md)   
 [Навигация по коду с помощью отладчика](../debugger/navigating-through-code-with-the-debugger.md)   
 [Присоединение к выполняемым процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [Процесс управляемого выполнения](/dotnet/standard/managed-execution-process)

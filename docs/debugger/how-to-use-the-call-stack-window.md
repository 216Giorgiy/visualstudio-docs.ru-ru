---
title: "Практическое руководство. Использование окна стека вызова | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.debug.callstack"
dev_langs: 
  - "FSharp"
  - "VB"
  - "CSharp"
  - "C++"
  - "JScript"
  - "SQL"
  - "aspx"
helpviewer_keywords: 
  - "работа с потоками [Visual Studio], отображение входящих и исходящих вызовов"
  - "функции [отладчик], просмотр кода в стеке вызовов"
  - "дизассемблированный код"
  - "точки останова, окно "Стек вызовов""
  - "отладка [Visual Studio], переключение на другой кадр стеков"
  - "отладка [Visual Studio], окно "Стек вызовов""
  - "Окно "Стек вызовов", поиск функций в стеке вызовов исходного кода"
  - "стек, переключение кадров стека"
  - "Окно "Стек вызовов", поиск функций в стеке вызовов дизассемблированного кода"
ms.assetid: 5154a2a1-4729-4dbb-b675-db611a72a731
caps.latest.revision: 40
caps.handback.revision: 38
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# Практическое руководство. Использование окна стека вызова
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

С помощью окна **Стек вызовов** можно просматривать вызовы функций и процедур, которые в данный момент находятся в стеке.  
  
 В окне **Стек вызовов** отображается имя каждой функции и язык программирования, на котором она написана.  Имя функции или процедуры может сопровождаться дополнительной информацией, такой как имя модуля, номер строки, а также имена, типы и значения параметров.  Отображение этих дополнительных сведений может быть включено или отключено.  
  
 Желтая стрелка указывает на кадр стека, в котором находится указатель выполнения.  По умолчанию это фрейм, сведения которого отображаются в окнах: исходного кода, **Дизассемблированный код** , **Локальные** , **Контрольные значения** и **Видимые**.  Если вы хотите изменить контекст на другой кадр стека, можно сделать это в окне **Стек вызовов**.  
  
 Если символы отладки недоступны для части стека вызовов, в окне **Стек вызовов** может не получиться отобразить правильные сведения об этой части стека вызовов.  Появится следующая запись:  
  
 \[Фреймы ниже могут быть неправильными и\/или отсутствовать, не загружены символы для имя.dll\]  
  
 В случае управляемого кода окно **Стек вызовов** по умолчанию скрывает сведения о коде, не принадлежащем пользователю.  Следующая запись отображается вместо скрытой информации:  
  
 **\[\<External Code\>\]**  
  
 Не принадлежащий пользователю код — это любой код, который не является "моим кодом". При необходимости в контекстном меню можно выбрать отображение сведений стека вызовов, касающихся кода, не принадлежащего пользователю.  
  
 С помощью контекстного меню можно выбрать, следует ли отображать вызовы между потоками.  
  
> [!NOTE]
>  Отображаемые диалоговые окна и команды меню могут отличаться от описанных в справке в зависимости от действующих параметров или выпуска среды.  Чтобы изменить параметры, выберите в меню **Сервис** команду **Импорт и экспорт параметров**.  Дополнительные сведения см. в разделе [Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/ru-ru/22c4debb-4e31-47a8-8f19-16f328d7dcd3).  
  
### Чтобы открыть окно "Стек вызовов" в режиме прерывания или в режиме выполнения  
  
-   В меню **Отладка** выберите пункт **Окна**, а затем **Стек вызовов**.  
  
### Чтобы включить или отключить отображение дополнительных сведений  
  
-   Щелкните правой кнопкой мыши в окне **Стек вызовов** и установите или снимите флажок **Показать \<***the information that you want***\>**.  
  
### Чтобы отобразить в окне "Стек вызовов" фреймы кода, не написанного пользователем  
  
-   Щелкните правой кнопкой мыши в окне **Стек вызовов** и выберите в контекстном меню пункт **Показать внешний код**.  
  
### Чтобы перейти к другому кадру стека  
  
1.  В окне **Стек вызовов** щелкните правой кнопкой фрейм, код и данные которого нужно просмотреть.  
  
2.  Выберите пункт **Перейти к фрейму**.  
  
     Зеленая стрелка с фигурным концом появится рядом с выбранным фреймом.  Указатель выполнения остается в исходном кадре, который по\-прежнему отмечен желтой стрелкой.  При выборе команд **Шаг** или **Продолжить** в меню **Отладка** выполнение продолжится с исходного, а не с выбранного фрейма.  
  
### Чтобы отобразить вызовы в другой поток или из него  
  
-   Щелкните правой кнопкой мыши в окне **Стек вызовов** и выберите пункт **Включить вызовы между потоками**.  
  
### Чтобы просмотреть исходный код функции в стеке вызовов  
  
-   В окне **Стек вызовов** щелкните правой кнопкой мыши функцию, исходный код которой нужно увидеть, и выберите пункт **К исходному коду**.  
  
### Чтобы выполнить визуальную трассировку стека вызовов  
  
1.  В окне **Стек вызовов** откройте контекстное меню.  Выберите **Показать стек вызовов на карте кода**. \(Клавиатура: **CTRL** \+ **SHIFT** \+ **\`**\).  
  
     Подробнее см. раздел [Сопоставление методов в визуализации стека вызовов при отладке](../debugger/map-methods-on-the-call-stack-while-debugging-in-visual-studio.md).  
  
### Чтобы просмотреть дизассемблированный код функции в стеке вызовов  
  
-   В окне **Стек вызовов** щелкните правой кнопкой мыши функцию, дизассемблированный код которой нужно увидеть, и выберите пункт **К дизассемблированному коду**.  
  
### Чтобы выполнить код вплоть до определенной функции из окна "Стек вызовов"  
  
-   Подробнее см. раздел [Выполнение до указанного расположения или функции](../debugger/navigating-through-code-with-the-debugger.md#BKMK_Run_to_a_specified_location_or_function).  
  
### Чтобы задать точка останова в точке выхода вызова функции  
  
-   Подробнее см. раздел [Установка точки останова на строке исходного кода, инструкции ассемблера или функции в стеке вызовов](../debugger/using-breakpoints.md#BKMK_Set_a_breakpoint_at_a_source_line__assembly_instruction__or_call_stack_function_).  
  
### Чтобы загрузить символы для модуля  
  
-   В окне **Стек вызовов** щелкните правой кнопкой мыши кадр с модулем, символы которого нужно перезагрузить, и выберите пункт **Загрузить символы**.  
  
## Загрузка символов  
 В окне **Стек вызовов** можно загружать символы отладки для кода, для которого в данный момент нет загруженных отладочных символов.  Это могут быть символы платформы .NET Framework или системные символы, загруженные с общедоступных серверов символов корпорации Microsoft, или символы в каталоге символов на компьютере, на котором производится отладка.  
  
 См. раздел [Указание файлов символов \(.pdb\) и файлов с исходным кодом](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).  
  
#### Чтобы загрузить символы  
  
1.  В окне **Стек вызовов** щелкните правой кнопкой какой\-либо кадр, для которого не загружены символы.  Кадр затеняется.  
  
2.  Выберите пункт **Загрузить символы из** и затем **Серверы символов Microsoft** или **Путь к символам**.  
  
#### Установка пути к символам  
  
1.  В окне **Стек вызовов** выберите пункт **Параметры символов** из контекстного меню.  
  
     Появится диалоговое окно **Параметры**, открытое на странице **Символы**.  
  
2.  Выберите пункт **Параметры символов**.  
  
3.  В диалоговом окне **Параметры** щелкните значок "Папка".  
  
     В поле **Места размещения файлов символов \(.pdb\)** появится курсор.  
  
4.  Введите путь к каталогу с символами на компьютере, на котором производится отладка.  В случае локальной отладки это будет локальный компьютер.  В случае удаленной отладки это удаленный компьютер.  
  
5.  Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно **Параметры**.  
  
## См. также  
 [Смешанный код и отсутствующие данные в окне стека вызовов](../debugger/mixed-code-and-missing-information-in-the-call-stack-window.md)   
 [Практическое руководство. Изменение числового формата в окнах отладчика](../Topic/How%20to:%20Change%20the%20Numeric%20Format%20of%20Debugger%20Windows.md)   
 [Просмотр данных в отладчике](../debugger/viewing-data-in-the-debugger.md)   
 [Указание файлов символов \(.pdb\) и файлов с исходным кодом](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)   
 [Использование точек останова](../debugger/using-breakpoints.md)
---
title: "Практическое руководство. Отладка исходного кода Code Center Premium | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "FSharp"
  - "VB"
  - "CSharp"
  - "C++"
helpviewer_keywords: 
  - "Code Center Premium"
  - "отладка [Visual Studio], Code Center Premium"
ms.assetid: 18b4769d-b007-4428-9dae-9e72c283ff0d
caps.latest.revision: 23
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
caps.handback.revision: 23
---
# Практическое руководство. Отладка исходного кода Code Center Premium
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

С помощью отладчика [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] можно отлаживать защищенный доступный исходный код Microsoft MSDN Code Center Premium.  
  
 В этом разделе поясняется порядок выполнения настройки и отладки исходного кода Code Center Premium в Visual Studio.  
  
### Подготовка к отладке с Code Center Premium  
  
1.  Подсоедините устройство чтения SmartCard и вставьте карту, полученную по программе Shared Source Initiative.  
  
2.  Запустите Visual Studio.  
  
3.  В меню **Сервис** выберите пункт **Параметры**.  
  
4.  В диалоговом окне **Параметры** откройте узел **Отладка** и выберите **Общие**.  
  
5.  Снимите флажок **Включить режим "Только мой код" \(только управляемый код\)**.  
  
6.  Установите флажок **Включить поддержку сервера системы управления версиями**.  
  
7.  Снимите флажок **Требовать точного соответствия исходной версии файлов**.  
  
8.  В категории **Отладка** щелкните пункт **Символы**.  
  
9. В поле **Места размещения файлов символов \(.pdb\)** снимите флажок **Серверы символов Microsoft** и добавьте следующие расположения:  
  
     `https://codepremium.msdn.microsoft.com/symbols`  
  
     `src=https://codepremium.msdn.microsoft.com/source/Visual%20Studio%202010/SP1/`  
  
    > [!NOTE]
    >  Обязательно используйте косую черту **\/** в конце пути.  
  
     Переместите данные расположения в начало списка, чтобы эти символы гарантированно загружались первыми.  
  
    > [!NOTE]
    >  Данные расположения Code Center Premium должны находиться вверху списка, чтобы они были первыми загружаемыми расположениями.  В Visual Studio 2010 ни один сервер невозможно расположить над записью **Серверы символов Microsoft**, вот почему необходимо снять флажок.  
    >   
    >  Чтобы загрузить символы из символов Microsoft во время сеанса отладки, выполните следующие действия:  
    >   
    >  1.  В меню **Отладка** выберите пункт **Окна**, а затем пункт **Модули**.  
    > 2.  Выберите модуль, для которого требуется загрузить символы, и откройте контекстное меню.  Выберите команду **Загрузить символы из**, а затем выберите **Серверы символов Microsoft**.  
  
10. В поле **Кэшировать символы с серверов символов в этом каталоге** введите расположение \(например, `C:\symbols`\), где Code Center Premium может кэшировать символы.  Кэширование символов может значительно повысить производительность во время отладки.  
  
     В случае затруднений при отладке исходного кода с помощью [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] после выполнения данной процедуры проверьте, нет ли в расположении кэширования ранее кэшированных и устаревших файлов символов.  Удалите старые файлы символов.  
  
11. Нажмите кнопку **ОК**.  
  
12. Перезапустите [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)], чтобы обеспечить сохранение параметров.  
  
### Отладка исходного кода с помощью присоединения к процессу  
  
1.  Подсоедините устройство чтения SmartCard и вставьте карту, полученную по программе Shared Source Initiative.  
  
2.  Запустите Visual Studio.  
  
3.  Откройте проект в Visual Studio.  
  
4.  В меню **Сервис** выберите пункт **Присоединение к процессу**.  
  
5.  В диалоговом окне **Присоединение к процессу** нажмите **Выбрать**.  
  
6.  В диалоговом окне **Выбор типа кода** в группе **Выполнять отладку кода следующих типов** выберите **Машинный код**, **Управляемый код** и **Управляемый код \(версия 4\)**.  
  
7.  Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно **Выбор типа кода**.  
  
8.  В поле **Доступные процессы** выберите процесс, для которого требуется произвести отладку.  
  
9. Нажмите кнопку **Присоединить**.  
  
10. Когда будет предложено подтвердить ваш сертификат, нажмите кнопку **ОК**.  Затем введите свой ПИН\-код.  Если будет предложено, примите условия использования Code Center Premium.  
  
     Загрузка символов может занимать много времени — это зависит от скорости сети.  Когда все символы будут успешно загружены, в строке состояния появится соответствующее уведомление.  
  
11. Повторите шаги по подсоединению для всех управляемых проектов в вашем решении.  
  
### Отладка исходного кода из существующего решения  
  
1.  В области **Обозреватель решений** откройте контекстное меню для решения и выберите пункт **Свойства**.  
  
2.  В диалоговом окне "Страницы свойств решения" выберите **Исходные файлы отладки** в узле **Общие свойства**.  
  
3.  Добавьте следующее расположение в список **Каталоги, содержащие исходные файлы**:  
  
     `https://codepremium.msdn.microsoft.com/source/Visual%20Studio%202010/SP1/`  
  
    > [!NOTE]
    >  Обязательно используйте косую черту **\/** в конце пути.  
  
4.  Для каждого управляемого проекта в решении выполните следующие действия.  
  
    1.  В области "Обозреватель решений" откройте контекстное меню для проекта и выберите пункт **Свойства**.  
  
    2.  Выберите **Отладка**, а затем пункт **Разрешить отладку неуправляемого кода**.  
  
### Отладка решения с исходным кодом Code Center Premium  
  
1.  В вашем классе `Package` установите точку останова на конструктор пакета.  
  
2.  В меню `Debug` выберите команду **Начать отладку**.  
  
3.  Достигнув точки останова в конструкторе пакета, перейдите в окно **Стек вызовов** и щелкните правой кнопкой мыши кадр стека той сборки, из которой требуется загрузить символы, затем выберите пункт **Загрузить символы**.  
  
     Дважды щелкните кадр вызова, чтобы загрузить исходный код.  
  
### Просмотр исходного кода в Code Center Premium  
  
1.  Подсоедините устройство чтения SmartCard и вставьте карту, полученную по программе Shared Source Initiative.  
  
2.  Запустите Internet Explorer и введите следующий URL\-адрес: `https://codepremium.msdn.microsoft.com`  
  
3.  Найдите нужный исходный код.  
  
## См. также  
 [Параметры отладки и подготовка](../debugger/debugger-settings-and-preparation.md)   
 [Безопасность отладчика](../debugger/debugger-security.md)   
 [Code Center Premium](http://www.microsoft.com/resources/sharedsource/ccp.mspx)
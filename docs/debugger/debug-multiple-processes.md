---
title: "Отладка нескольких процессов | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- vs.debug.programs
- vs.debug.processes.attaching
- vs.debug.activeprogram
- vs.debug.attaching
- vs.debug.attachedprocesses
dev_langs:
- CSharp
- VB
- FSharp
- C++
ms.assetid: bde37134-66af-4273-b02e-05b3370c31ab
caps.latest.revision: "16"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: b0696a9e45727c5d62f275d0574d5ec54e378038
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2017
---
# <a name="debug-multiple-processes"></a>Отладка нескольких процессов
Вот как можно начать отладку процессов, переключения между процессами, прерывание и продолжить выполнение, пошагового выполнения исходного, остановить отладку и окончание или отсоединение от процессов.  
  
##  <a name="BKMK_Configure_the_execution_behavior_of_multiple_processes"></a>Настройка поведения выполнения нескольких процессов  
 Когда в отладчике запущено одновременно несколько процессов, команды приостановки выполнения и пошагового выполнения, а также остановка команд отладчика по умолчанию влияют на все процессы. Например, когда один процесс приостанавливается в точке останова, выполнение всех остальных процессов также приостанавливается. Можно изменить это принимаемое по умолчанию поведение, чтобы обрести больший контроль над целевыми объектами команд выполнения.  
  
1.  Нажмите кнопку **Отладка > Параметры и настройки**.  
  
2.  На **Отладка**, **Общие** снимите **прерывать все процессы при прерывании одного** флажок.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
##  <a name="BKMK_Find_the_source_and_symbol___pdb__files"></a>Поиск исходных и символьных файлов (.pdb)  
 Для отображения и пошагового выполнения исходного кода процесса отладчику требуется доступ к исходным файлам и файлам символов процесса. В разделе [укажите символов (.pdb) и файлов исходного кода](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).  
  
 Если не удается получить доступ к файлам процесса, можно перейти с помощью окна Дизассемблированный код. В разделе [как: использование окна дизассемблирования](../debugger/how-to-use-the-disassembly-window.md)  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
##  <a name="BKMK_Start_multiple_processes_in_a_VS_solution__attach_to_a_process__automatically_start_a_process_in_the_debugger"></a>Запуск нескольких процессов в решении VS, присоединение к процессу, автоматический запуск процесса в отладчике  
  
-   [Запуск отладки нескольких процессов в решении Visual Studio](#BKMK_Start_debugging_multiple_processes_in_a_Visual_Studio_solution)  
  
-   [Смена запускаемого проекта](#BKMK_Change_the_startup_project)  
  
-   [Запуск конкретного проекта в решении](#BKMK_Start_a_specific_project_in_a_solution)  
  
-   [Запуск нескольких проектов в решении](#BKMK_Start_multiple_projects_in_a_solution)  
  
-   [Присоединение к процессу](#BKMK_Attach_to_a_process)  
  
-   [Автоматический запуск процесса в отладчике](#BKMK_Automatically_start_an_process_in_the_debugger)  
  
> [!NOTE]
>  Отладчик не присоединяется автоматически к дочернему процессу, который запущен отлаживаемым процессом, даже если дочерний проект находится в том же решении. Чтобы отладить дочерний процесс:  
>   
>  -   Присоединитесь к дочернему процессу после того, как он запущен.  
>   
>      -или-  
> -   Настройте параметры Windows таким образом, что дочерний процесс автоматически запускался в новом экземпляре отладчика.  
  
###  <a name="BKMK_Start_debugging_multiple_processes_in_a_Visual_Studio_solution"></a>Запуск отладки нескольких процессов в решении Visual Studio  
 Если в решении Visual Studio имеется несколько проектов, которые могут выполняться независимо (проекты, выполняемые в отдельных процессах), можно выбрать, какие проекты запускаются отладчиком.  
  
 ![Изменение типа запуска для проекта](../debugger/media/dbg_execution_startmultipleprojects.png "DBG_Execution_StartMultipleProjects")  
  
####  <a name="BKMK_Change_the_startup_project"></a>Смена запускаемого проекта  
 Чтобы сменить запускаемый проект для решения, выберите проект в обозревателе решений и выберите **Назначить запускаемым проектом** в контекстном меню.  
  
####  <a name="BKMK_Start_a_specific_project_in_a_solution"></a>Запуск конкретного проекта в решении  
 Чтобы запустить проект для решения без изменения запускаемый проект по умолчанию, выберите проект в обозревателе решений и выберите **отладки** в контекстном меню. Затем можно выбрать **запустить новый экземпляр** или **шаг с заходом в новый экземпляр**.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [запуск нескольких процессов в решении VS, присоединение к процессу, автоматический запуск процесса в отладчике](../debugger/debug-multiple-processes.md#BKMK_Start_multiple_processes_in_a_VS_solution__attach_to_a_process__automatically_start_a_process_in_the_debugger)  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
####  <a name="BKMK_Start_multiple_projects_in_a_solution"></a>Запуск нескольких проектов в решении  
  
1.  В обозревателе решений выберите решение, а затем выберите **свойства** контекстного меню.  
  
2.  Выберите **общие свойства**, **запускаемый проект** на **свойства** диалоговое окно.  
  
3.  Для каждого проекта, который требуется изменить, выберите **запустить**, **Запуск без отладки**, или **нет**.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [запуск нескольких процессов в решении VS, присоединение к процессу, автоматический запуск процесса в отладчике](../debugger/debug-multiple-processes.md#BKMK_Start_multiple_processes_in_a_VS_solution__attach_to_a_process__automatically_start_a_process_in_the_debugger)  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
###  <a name="BKMK_Attach_to_a_process"></a>Присоединение к процессу  
 Отладчик может также *присоединения* к программам, выполняемым в процессах вне Visual Studio, включая программы, запущенные на удаленном устройстве. После присоединения к программе можно использовать команды отладчика, проверять состояние программы и выполнять другие действия. Возможности проверки программы могут быть ограничены в зависимости от того, была ли программа собрана с отладочной информацией, имеется ли доступ к исходному коду программы, а также отслеживает ли JIT-компилятор среды CLR отладочную информацию.  
  
 В разделе [присоединение к процессу под управлением](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md) для получения дополнительной информации.  
  
 **Присоединение к процессу, который выполняется на локальном компьютере**  
  
 Нажмите кнопку **Отладка > присоединить к процессу**. На **присоединиться к процессу** диалогового окна выберите процесс **доступные процессы** , а затем выберите **присоединение**.  
  
 ![Присоединение к процессу-диалоговое окно](../debugger/media/dbg_attachtoprocessdlg.png "DBG_AttachToProcessDlg")  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
###  <a name="BKMK_Automatically_start_an_process_in_the_debugger"></a>Автоматический запуск процесса в отладчике  
 В некоторых случаях может потребоваться отладить код запуска для программы, которая запускается другим процессом. К ним относятся службы и действия пользовательской настройки. В этих случаях можно заставить отладчик запускаться и автоматически присоединяться при запуске приложения.  
  
1.  Запустите редактор реестра (**regedit.exe**).  
  
2.  Перейдите к **HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Image File Execution Options** папки.  
  
3.  Выберите папку приложения, которое требуется запустить в отладчике.  
  
     Если имя приложения не перечислено как дочерняя папка, выберите **параметры выполнения файла изображения** и выберите **New**, **ключ** контекстного меню. Выберите новый ключ, выберите **переименование** контекстного меню, а затем введите имя приложения.  
  
4.  В контекстном меню папки приложения выберите **New**, **строковое значение**.  
  
5.  Измените имя нового значения с **новое значение** для `debugger`.  
  
6.  В контекстном меню записи отладчик выберите **изменить**.  
  
7.  В диалоговом окне Изменение строкового типа `vsjitdebugger.exe` в **данные значения** поле.  
  
     ![Изменить строку](../debugger/media/dbg_execution_automaticstart_editstringdlg.png "DBG_Execution_AutomaticStart_EditStringDlg")  
  
 ![Запись автоматического запуска отладчика в regedit.exe](../debugger/media/dbg_execution_automaticstart_result.png "DBG_Execution_AutomaticStart_Result")  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
##  <a name="BKMK_Switch_processes__break_and_continue_execution__step_through_source"></a>Переключение процессов, приостановка и продолжение выполнения, пошаговое выполнение исходного кода  
  
-   [Переключение между процессами](#BKMK_Switch_between_processes)  
  
-   [Приостановка, шаг и продолжить команд](#BKMK_Break__step__and_continue_commands)  
  
###  <a name="BKMK_Switch_between_processes"></a>Переключение между процессами  
 Во время отладки можно подключиться к нескольким процессам, но в любой момент времени только один из них будет активным в отладчике. Можно задать активный или *текущей* процесса, в панели инструментов Место отладки или **процессов** окна. Для переключения между процессами оба процесса должны находиться в режиме приостановки выполнения.  
  
 **Чтобы задать текущий процесс**  
  
-   На панели инструментов Место отладки выберите **процесс** для просмотра **процесс** списка. Выберите процесс, который требуется установить в качестве текущего процесса.  
  
     ![Переключение между процессами](../debugger/media/dbg_execution_switchbetweenmodules.png "DBG_Execution_SwitchBetweenModules")  
  
     Если **место отладки** инструментов не отображается, выберите **средства**, **Настройка**. На **панели инструментов** выберите **место отладки**.  
  
-   Откройте **процессов** окна (ярлык **Ctrl + Alt + Z**), найдите процесс, который требуется установить в качестве текущего процесса и дважды щелкните его.  
  
     ![Окно процессов](../debugger/media/dbg_processeswindow.png "DBG_ProcessesWindow")  
  
     Текущий процесс будет отмечен желтой стрелкой.  
  
 Переключение к проекту делает этот проект текущим процессом для отладки. Статус текущего процесса отображается в любом используемом окне отладчика, и все команды пошагового выполнения влияют только на текущий процесс.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [переключение процессов, приостановка и продолжение выполнения, пошаговое выполнение исходного кода](../debugger/debug-multiple-processes.md#BKMK_Switch_processes__break_and_continue_execution__step_through_source)  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
###  <a name="BKMK_Break__step__and_continue_commands"></a>Приостановка, шаг и продолжить команд  
  
> [!NOTE]
>  По умолчанию предусмотренные в отладчике команды прерывания, продолжения и пошагового выполнения влияют на все отлаживаемые в данный момент процессы. Чтобы изменить это поведение, в разделе [Настройка поведения выполнения нескольких процессов](#BKMK_Configure_the_execution_behavior_of_multiple_processes)  
  
||||  
|-|-|-|  
|**Команда**|**Прерывать все процессы при прерывании одного**<br /><br /> Флажок установлен (по умолчанию)|**Прерывать все процессы при прерывании одного**<br /><br /> Флажок снят|  
|**Отладка** меню:<br /><br /> -   **Приостановить все**|Все процессы приостанавливаются.|Все процессы приостанавливаются.|  
|**Отладка** меню:<br /><br /> -   **Продолжить**|Все процессы возобновляются.|Все приостановленные процессы возобновляются.|  
|**Отладка** меню:<br /><br /> -   **Шаг с заходом**<br />-   **Шаг с обходом**<br />-   **Шаг с выходом**|Во время выполнения шага текущего процесса все процессы выполняются.<br /><br /> Затем все процессы приостанавливаются.|Текущий процесс выполняется пошагово.<br /><br /> Приостановленные процессы возобновляются.<br /><br /> Выполняемые процессы продолжают выполняться.|  
|**Отладка** меню:<br /><br /> -   **Шаг с заходом в текущем процессе**<br />-   **Шаг с обходом текущего процесса**<br />-   **Шаг с выходом текущего процесса**|Н/Д|Текущий процесс выполняется пошагово.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|Окна исходного кода.<br /><br /> -   **Точки останова**|Все процессы приостанавливаются.|Приостанавливается только процесс окна исходного кода.|  
|Контекстное меню окна исходного кода:<br /><br /> -   **Выполнить до курсора**<br /><br /> Окно исходного кода должно находиться в текущем процессе.|Все процессы выполняются, а процесс в окне исходного кода выполняется до курсора и приостанавливается.<br /><br /> После этого приостанавливаются все остальные процессы.|Процесс в окне исходного кода выполняется до курсора.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Процессы** контекстное меню окна:<br /><br /> -   **Остановить процесс**|Н/Д|Выбранный процесс приостанавливается.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Процессы** контекстное меню окна:<br /><br /> -   **Продолжить процесс**|Н/Д|Выбранный процесс возобновляется.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [переключение процессов, приостановка и продолжение выполнения, пошаговое выполнение исходного кода](../debugger/debug-multiple-processes.md#BKMK_Switch_processes__break_and_continue_execution__step_through_source)  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
##  <a name="BKMK_Stop_debugging__terminate_or_detach_from_processes"></a>Остановка отладки, окончание или отсоединение от процессов  
  
-   [Остановки, окончания и отсоединения команд](#BKMK_Stop__terminate__and_detach_commands)  
  
 По умолчанию при выборе **отладки**, **остановить отладку** при нескольких процессов открыты в отладчике, отладчик прерывает или отсоединяется от всех процессов, в зависимости от того, как процесс был открыт в отладчик:  
  
-   Если текущий процесс был запущен в отладчике, этот процесс завершается.  
  
-   Если отладчик был присоединен к текущему процессу, отладчик отсоединяется от процесса, не прекращая его выполнение.  
  
 Например, при запуске отладки процесса из решения Visual Studio, присоединить к другому процессу, который уже запущен и выберите **остановить отладку**, завершении сеанса отладки, процесс, который был запущен в Visual Studio завершается, пока процесс, вложенный продолжит выполнение. Действие команды остановки отладки можно индивидуально задать для каждого процесса с помощью описанной ниже процедуры.  
  
> [!NOTE]
>  **Прерывать все процессы при прерывании одного** параметр не влияет на остановки отладки, завершения процессов и отсоединения от процессов.  
  
 **Чтобы изменить остановить отладку влияние отдельному процессу**  
  
-   Откройте **процессов** окна (ярлык **Ctrl + Alt + Z**). Выберите процесс, а затем установите или снимите **отсоединиться при остановке отладки** флажок.  
  
###  <a name="BKMK_Stop__terminate__and_detach_commands"></a>Остановки, окончания и отсоединения команд  
  
|||  
|-|-|  
|**Команда**|**Описание**|  
|**Отладка** меню:<br /><br /> -   **Остановить отладку**|Если поведение изменено с **процессов** окна **отсоединиться при остановке отладки** параметр:<br /><br /> 1.  Процессы, запущенные отладчиком, завершаются.<br />2.  Присоединенные процессы отсоединяются от отладчика.|  
|**Отладка** меню:<br /><br /> -   **Завершить все**|Все процессы завершаются.|  
|**Отладка** меню:<br /><br /> -   **Отсоединить все**|Отладчик отсоединяется от всех процессов.|  
|**Процессы** контекстное меню окна:<br /><br /> -   **Отсоединение процесса**|Отладчик отсоединяется от выбранного процесса.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Процессы** контекстное меню окна:<br /><br /> -   **Завершить процесс**|Выбранный процесс завершается.<br /><br /> Остальные процессы сохраняют свое текущее состояние (остаются приостановленными или продолжают выполняться).|  
|**Процессы** контекстное меню окна:<br /><br /> -   **Отсоединиться при остановке отладки**|Переключает поведение **отладки**, **остановить отладку** для выбранного процесса:<br /><br /> -Этот флажок установлен: Отладчик отсоединяется от процесса.<br />-Флажок снят: Процесс завершается.|  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [остановка отладки, окончание или отсоединение от процессов](../debugger/debug-multiple-processes.md#BKMK_Stop_debugging__terminate_or_detach_from_processes)  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS_BackToTop") [Содержание](#BKMK_Contents)  
  
## <a name="see-also"></a>См. также  
 [Укажите символов (.pdb) и исходных файлов](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)   
 [Присоединение к выполняемым процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [Навигация по коду с помощью отладчика](../debugger/navigating-through-code-with-the-debugger.md)   
 [В время отладки](../debugger/just-in-time-debugging-in-visual-studio.md)   
 [Отладка многопоточных приложений](../debugger/debug-multithreaded-applications-in-visual-studio.md)
---
title: Отладка многопоточных приложений в Visual Studio | Документация Майкрософт
ms.custom: ''
ms.date: 09/05/2017
ms.technology: vs-ide-debug
ms.topic: conceptual
f1_keywords:
- vs.debug.gputthreads
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- threading [Visual Studio], debugging
- debugging [Visual Studio], high-performance computing
- debugging [Visual Studio], multithreaded
- multithreaded debugging
- high-performance debugging
ms.assetid: 9d175bc2-1d95-4c47-9bc3-9755af968a9c
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 1d238f1c6be12753fe87cece03139185e1c24ad6
ms.sourcegitcommit: 240c8b34e80952d00e90c52dcb1a077b9aff47f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/23/2018
ms.locfileid: "49854778"
---
# <a name="debug-multithreaded-applications-in-visual-studio"></a>Отладка многопоточных приложений в Visual Studio
Поток — это последовательность инструкций, которой операционная система выделяет время процессора. Каждый процесс, выполняющийся в операционной системе, состоит по крайней мере из одного потока. Процессы, имеющие более одного потока, называются многопоточными.  
  
Компьютеры с несколькими процессорами или с многоядерными процессорами и Hyper-Threading-процессы могут выполнять несколько потоков в одно и то же время. Параллельная обработка нескольких потоков может значительно повысить производительность программы, но также может сделать отладку намного сложнее, так как появляется необходимость следить за несколькими потоками.  
  
Кроме того, у многопоточности есть новые типы потенциальных ошибок. Часто, например, два или более потока должны получить доступ к ресурсу, но в каждый момент времени только один может делать это безопасно. Необходимо взаимное исключение для того, чтобы только один поток имел доступ к ресурсу в каждый момент времени. Если взаимное исключение выполняется неверно, его можно создать *взаимоблокировки* условие, когда ни один поток не сможет выполняться. Взаимоблокировки определенно могут быть большой проблемой при отладке.

Visual Studio предоставляет различные средства для использования при отладке многопоточных приложений.

- Для потоков, основные средства для отладки потоков — **потоков** окна, маркеры потоков в окнах исходного кода, **Параллельные стеки** окне **контроль параллельных данных** окно, и **место отладки** панели инструментов. Дополнительные сведения о **потоков** окна и **место отладки** инструментов см. в разделе [Пошаговое руководство: отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md). Чтобы узнать, как использовать **Параллельные стеки** и **контроль параллельных данных** windows, см. в разделе [Начало отладки многопоточных приложений](../debugger/get-started-debugging-multithreaded-apps.md). Оба раздела показано, как использовать маркеры потоков.
  
- Для кода, использующего [библиотеки параллельных задач (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl) или [среда выполнения с параллелизмом](/cpp/parallel/concrt/concurrency-runtime/), основные средства для отладки — **Параллельные стеки** окна, **Контроль параллельных данных** окно и **задачи** окна ( **задачи** окно также поддерживает JavaScript). Чтобы приступить к работе, см. в разделе [Пошаговое руководство: отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md) и [Пошаговое руководство: отладка приложения C++ AMP](/cpp/parallel/amp/walkthrough-debugging-a-cpp-amp-application). 

- По отладке потоков в GPU, — основное средство **потоки GPU** окна. См. в разделе [как: использование окна потоков GPU](../debugger/how-to-use-the-gpu-threads-window.md).  

- Для процессов, основные средства — **присоединение к процессу** диалоговом окне **процессы** окно и **место отладки** панели инструментов.  
  
Visual Studio также предоставляет эффективные средства для работы с точками останова и трассировки, что может быть очень полезно при отладке многопоточных приложений. Условия точки останова и фильтров можно использовать для установки точек останова на отдельных потоках. См. в разделе [использование точек останова](../debugger/using-breakpoints.md). 
  
Отладка многопоточного приложения, которое имеет пользовательский интерфейс, может быть особенно сложной. В этом случае можно рассмотреть выполнение приложения на втором компьютере и использовать удаленную отладку. Сведения см. в разделе [удаленной отладки](../debugger/remote-debugging.md).  
  
## <a name="in-this-section"></a>В этом разделе
 [Начало отладки многопоточных приложений](../debugger/get-started-debugging-multithreaded-apps.md).  
 Интерактивная демонстрация средств отладки потоков, с акцентом на возможности в **Параллельные стеки** окна и **контроль параллельных данных** окна.

 [Средства отладки потоков и процессов](../debugger/debug-threads-and-processes.md)  
 Список возможностей набора средств для отладки потоков и процессов.  
  
 [Отладка нескольких процессов](../debugger/debug-multiple-processes.md)  
 Поясняет принципы отладки нескольких процессов.

 [Пошаговое руководство: Отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md).  
 Пошаговое руководство, в котором показано, как использовать **потоков** окна и **место отладки** панели инструментов. 

 [Пошаговое руководство: Отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md)  
 Пошаговое руководство, в котором показано, как использовать **Параллельные стеки** и **задачи** windows.  
  
 [Практическое руководство. Переключение на другой поток при отладке](../debugger/how-to-switch-to-another-thread-while-debugging.md)  
 Три способа переключения контекста отладки на другой поток.  
  
 [Практическое руководство. Установка и снятие отметки для потока](../debugger/how-to-flag-and-unflag-threads.md)  
 Пометка флагом потоков, которым нужно уделить особое внимание на время отладки.    
  
 [Практическое руководство. Отладка в высокопроизводительном кластере](../debugger/how-to-debug-on-a-high-performance-cluster.md)  
 Методы отладки приложения, запущенного на высокопроизводительном кластере.  

 [Советы по отладке потоков в машинном коде](../debugger/tips-for-debugging-threads-in-native-code.md)  
 Простые методы, которые могут быть полезны для отладки потока машинного кода. 

 [Практическое руководство. Установка имен потока в машинном коде](../debugger/how-to-set-a-thread-name-in-native-code.md)  
 Присвоение потоку имени, которое можно просмотреть в **потоков** окна.  
  
 [Практическое руководство. Установка имени потока в управляемом коде](../debugger/how-to-set-a-thread-name-in-managed-code.md)  
 Присвоение потоку имени, которое можно просмотреть в **потоков** окна. 
  
## <a name="related-sections"></a>Связанные разделы  
 [Использование точек останова](../debugger/using-breakpoints.md)

- Используйте условия точки останова или фильтры, если требуется отладить отдельного потока.  
  
- точки трассировки дают возможность отслеживать выполнение программы без прерывания ее выполнения. Это может быть полезно для изучения неполадок, таких как взаимоблокировки.  
  
  [Работа с потоками](/dotnet/standard/threading/index)  
  Понятия потоков в программировании [!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)], включая примеры кода.  
  
  [Многопоточность в компонентах](https://msdn.microsoft.com/Library/2fc31e68-fb71-4544-b654-0ce720478779)  
  Как использовать многопоточность в компонентах [!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)].  
  
  [Поддержка многопоточности для устаревшего кода (Visual C++)](/cpp/parallel/multithreading-support-for-older-code-visual-cpp)  
  Понятия потоков и примеры кода для программистов C++, использующих MFC.  
  
## <a name="see-also"></a>См. также  
 [Отладка потоков и процессов](../debugger/debug-threads-and-processes.md)   
 [Remote Debugging](../debugger/remote-debugging.md)
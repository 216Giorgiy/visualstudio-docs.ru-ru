---
title: Советы и рекомендации в отладчике Visual Studio
description: Узнайте, советы по повышению производительности в отладчике Visual Studio
ms.custom: ''
ms.date: 06/15/2017
ms.technology: vs-ide-debug
ms.topic: conceptual
helpviewer_keywords:
- stepping
- debugging [Visual Studio], execution control
- execution, controlling in debugger
ms.assetid: 5262d8b1-2648-429e-85d5-90fcaadfb362
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: bb4fb2c32f74a764e092e0e6f65685a358d64f54
ms.sourcegitcommit: e13e61ddea6032a8282abe16131d9e136a927984
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
ms.locfileid: "31927286"
---
# <a name="learn-productivity-tips-and-tricks-for-the-debugger-in-visual-studio"></a>Познакомьтесь с советами производительности в отладчике в Visual Studio

Прочитайте эту статью, чтобы узнать несколько советы по повышению производительности и рекомендации для отладчика Visual Studio. Рассмотрим основные возможности отладчика, в разделе [Обзор возможностей отладчика](../debugger/debugger-feature-tour.md). В этом разделе мы рассмотрим некоторые области, которые не включены в обзор возможностей.

## <a name="pin-data-tips"></a>Подсказки данных ПИН-кода

Если часто навести подсказки данных во время отладки, можно закрепить в подсказке по данным для переменной обеспечить быстрый доступ. Переменная остается закрепленных даже после перезагрузки. Чтобы закрепить подсказке по данным, щелкните значок ПИН-код при наведении на него. Вы можете закрепить несколько переменных.

![Закрепление подсказке](../debugger/media/dbg-tips-data-tips-pinned.png "PinningDataTip")

## <a name="edit-your-code-and-continue-debugging-c-vb-c"></a>Изменения кода и продолжить отладку (C#, VB, C++)

В большинстве языков, поддерживаемых средой Visual Studio можно изменить код во время сеанса отладки и продолжить отладку. Чтобы использовать эту функцию, щелкните значок кода установите курсор после приостановки в отладчике, внести изменения и нажмите клавишу **F5**, **F10**, или **F11** продолжить отладку.

![Изменить и продолжить отладку](../debugger/media/dbg-tips-edit-and-continue.gif "EditAndContinue")

Дополнительные сведения об использовании функции и функциональные ограничения в разделе [изменить и продолжить](../debugger/edit-and-continue.md).

## <a name="debug-issues-that-are-hard-to-reproduce"></a>Отладка проблем, которые трудно воспроизвести

Если это сложных или длительных для повторного создания одного определенного состояния в приложении, рассмотрите возможность ли использование условную точку останова может помочь. Можно использовать [условные точки останова](../debugger/using-breakpoints.md#BKMK_Specify_a_breakpoint_condition_using_a_code_expression) и фильтра точки останова, чтобы избежать нарушения в коде приложения, пока приложение входит в нужном состоянии (например, состояние, в котором переменная хранит неверные данные). Можно задать условия, с помощью выражения, фильтры, число попаданий и т. д.

#### <a name="to-create-a-conditional-breakpoint"></a>Чтобы создать условную точку останова

1. Щелкните правой кнопкой мыши значок точки останова (красный шар) и выберите **условия**.

2. В **параметры точки останова** окна введите выражение.

    ![Условную точку останова](../debugger/media/dbg-multithreaded-conditional-breakpoint.png "ConditionalBreakpoint")

3. Если вы заинтересованы в другой тип условия, выберите **фильтра** вместо **условное выражение** в **параметры точки останова** диалоговое окно, а затем следуйте Советы по фильтра.

## <a name="change-the-execution-flow"></a>Изменения хода выполнения

С помощью отладчика остановлено на строке кода, с помощью мыши удерживая указатель желтой стрелкой в левой части экрана. Переместите указатель желтая стрелка с другого места в пути выполнения кода. Затем с помощью F5 или команда шага для продолжения выполнения приложения.

![Переместите указатель выполнения](../debugger/media/dbg-tour-move-the-execution-pointer.gif "переместить указатель выполнения")

Изменяя ход выполнения, можно сделать, например, различные кодовые пути выполнения тестов или повторно выполнить код без перезапуска отладчика.

> [!WARNING]
> Часто необходимо внимательно отнестись к этой функции и появляется в подсказке. Вы можете увидеть слишком другие предупреждения. При перемещении указателя невозможно вернуть в предыдущее состояние приложения приложения.

## <a name="track-an-out-of-scope-object-c-visual-basic"></a>Отслеживать объект вне области видимости (C#, Visual Basic)

Можно легко просматривать с помощью окна отладчика, такие как переменные **Контрольные значения** окна. Тем не менее, когда переменная выходит за пределы области, в **Контрольные значения** окна, можно заметить, что он выделен серым. В некоторых сценариях приложение может изменить значение переменной, даже когда переменная выходит за пределы области, и может потребоваться просмотреть тесно (например, переменная может сборщиком мусора). Можно отслеживать путем создания идентификатор объекта для его в переменной **Контрольные значения** окна.

#### <a name="to-create-an-object-id"></a>Чтобы создать идентификатор объекта

1.  Установите точку останова рядом с переменной, которую нужно отслеживать.

2.  Запустите отладчик (**F5**) и остановку в точке останова.

3. Найдите переменную в **локальные** окна (**Отладка > Windows > локальные**), щелкните правой кнопкой мыши переменную и выберите **создать идентификатор объекта**.

    ![Создать идентификатор объекта](../debugger/media/dbg-tips-watch-create-object-id.png "CreateObjectID")
  
4.  В окне **$** вы должны увидеть символ **Локальные** . Эта переменная содержит идентификатор объекта.
  
5.  Щелкните правой кнопкой мыши переменную идентификатор объекта и выберите **Добавить контрольное значение**.

Дополнительные сведения см. в разделе [создать идентификатор объекта](../debugger/watch-and-quickwatch-windows.md#bkmk_objectIds).

## <a name="view-return-values-for-functions"></a>Просмотр значений, возвращаемых для функций

Чтобы просмотреть возвращаемые значения для функций, взгляните на функции, которые отображаются в **видимые** окна во время при пошаговой отладке кода. Для просмотра возвращаемого значения для функции, убедитесь, что функции, которые вас интересуют уже выполнена (нажмите клавишу **F10** один раз, если в настоящее время остановлены для вызова функции). Если окно закрыто, используйте **Отладка > Windows > видимые** Открытие **видимые** окна.

![Видимые окна](../debugger/media/dbg-tips-autos-window.png "AutosWindow")

Кроме того, можно ввести функций в **Интерпретация** окно для просмотра возвращаемых значений. (Откройте его с помощью **Отладка > Windows > Интерпретация**.)

![Окно интерпретации](../debugger/media/dbg-tips-immediate-window.png "ImmediateWindow")

Можно также использовать [псевдопеременные](../debugger/pseudovariables.md) в **Контрольные значения** и **Интерпретация** окна, такие как `$ReturnValue`.

## <a name="string_visualizer"></a>Просмотреть строки в средстве визуализации

При работе со строками, бывает полезно просмотреть весь форматируемой строки. Чтобы просмотреть обычного текста, XML, HTML или JSON строку, щелкните значок лупы ![VisualizerIcon](../debugger/media/dbg-tips-visualizer-icon.png "значок визуализатор") при наведении указателя мыши на переменную, содержащий строковое значение.

![Открыть визуализатор строки](../debugger/media/dbg-tips-string-visualizers.png "OpenStringVisualizer")

Визуализатор строки может помочь определить, является ли строка имеет неправильный формат, в зависимости от типа string. Например, пустое **значение** поле указывает строку не удается распознать тип визуализатора. Дополнительные сведения см. в разделе [диалоговое окно визуализатора строки](../debugger/string-visualizer-dialog-box.md).

![Визуализатор строки JSON](../debugger/media/dbg-tips-string-visualizer-json.png "JSONStringVisualizer")

Для некоторых других типов например WPF для объектов в окнах отладчика можно также открыть визуализаторов.

## <a name="break-into-code-on-handled-exceptions"></a>Приостановка выполнения кода на обработанные исключения

Отладчик прерывает выполнение кода от кадров необработанных исключений. Тем не менее, обработки исключений (например исключений, возникающих в `try/catch` блок) может быть источником ошибок и не может появиться необходимость исследования, если они получены. Можно настроить отладчик на прерывание в код для обработанных исключений, а также путем настройки параметров в **параметры исключений** диалоговое окно. Открыть это диалоговое окно, выбрав **Отладка > Windows > параметры исключений**.

**Параметры исключений** диалоговое окно позволяет указать отладчику Приостановка выполнения кода на конкретных исключений. На следующем рисунке, отладчик прерывает выполнение кода при каждом `System.NullReferenceException` происходит. Дополнительные сведения см. в разделе [Управление исключениями](../debugger/managing-exceptions-with-the-debugger.md).

![Диалоговое окно параметров исключение](../debugger/media/dbg-tips-exception-settings.png "ExceptionSettingsDialogBox")

## <a name="debug-deadlocks-and-race-conditions"></a>Отладка взаимоблокировки и состояния гонки

Если требуется отладить возможных проблемах, которые являются общими для многопоточных приложений, часто полезно просмотреть расположение потоков во время отладки. Это можно сделать с помощью **Показать потоки в исходном коде** кнопки.

#### <a name="to-show-threads-in-your-source-code"></a>Чтобы показать потоки в исходном коде

1.  Во время отладки, нажмите кнопку **Показать потоки в исходном коде** кнопку ![Показать потоки в исходном коде](../debugger/media/dbg-multithreaded-show-threads.png "ThreadMarker") в **отладки** инструментов.
  
2.  Посмотрите на переплет в левой части окна. В этой строке, вы видите *маркер потока* значок ![маркер потока](../debugger/media/dbg-thread-marker.png "ThreadMarker") имеет вид 2 тряпичных нити. маркер потока указывает, что некий поток остановлен в этом месте.

    Обратите внимание, что маркер потока может частично скрыты с помощью точки останова.
  
3.  Наведите указатель мыши на маркер потока. Появится подсказка. Подсказка сообщает имя и идентификационный номер каждого остановившегося тут потока.

    Вы также можете просмотреть расположение потоков в [окна "Параллельные стеки"](../debugger/get-started-debugging-multithreaded-apps.md).

## <a name="examine-payloads-for-web-services-and-network-resources-uwp"></a>Изучите полезных данных для веб-служб и сетевых ресурсов (UWP)

В приложениях UWP, можно анализировать сетевые операции, выполняемые с помощью `Windows.Web.Http` API. Это средство можно использовать для отладки веб-служб и сетевых ресурсов. Чтобы использовать средство, выберите **Отладка > профилировщик производительности**. Выберите **сети**, а затем выберите **запустить**. В приложении выполните нужные действия, где используется `Windows.Web.Http`, а затем щелкните **Остановка сбора**, чтобы создать отчет.

![Использование средства профилирования сети](../profiling/media/prof-tour-network-usage.png "NetworkUsageProfTool")

Выберите операцию в представлении "Сводка", чтобы просмотреть более подробные сведения.

![Подробные сведения в средстве использования сети](../profiling/media/prof-tour-network-usage-details.png "DetailedViewNetworkUsage")

Дополнительные сведения см. в разделе [Использование сети](../profiling/network-usage.md).

## <a name="get-more-familiar-with-how-the-debugger-attaches-to-your-app"></a>Получить более знакома как отладчик подключается к приложению

Присоединение к выполняемому приложению отладчик загружает файлы символов (PDB), созданные для таким же номером сборки для приложения, которое вы пытаетесь отладить. В некоторых сценариях немного знаний файлы символов могут оказаться полезными. Можно проверить, как Visual Studio загружает файлы символов с помощью **модули** окна.

Откройте **модули** окна во время отладки, выбрав **Отладка > Windows > модули**. **Модули** окна подскажет, какие модули отладчика, обработке как пользовательский код или [ *мой код*](../debugger/just-my-code.md)и загрузка состояния для модуля символов. В большинстве случаев отладчик автоматически находит файлы символов для пользовательского кода, но при необходимости шаг с заходом (или debug) кода .NET framework, системного кода или кода сторонних библиотек для получения файлы символов правильный требуются дополнительные действия.

![Просмотр сведений о символах в окне Модули](../debugger/media/dbg-tips-modules-window.png "ViewSymbolInformation")

Можно загрузить символьные данные непосредственно из **модули** окно, щелкните правой кнопкой мыши и выбрав **загрузить символы**.

Иногда разработчики приложений поставлен приложений без соответствующий файлам символов (чтобы сократить использование), но сохранить копию сопоставления символов файлов для сборки, чтобы их можно было отлаживать окончательной версии.

Чтобы узнать, как отладчик классифицирует код как код пользователя, в разделе [только мой код](../debugger/just-my-code.md). Чтобы больше узнать о файлы символов, в разделе [укажите символов (.pdb) и исходных файлов в отладчике Visual Studio](specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).

## <a name="learn-more"></a>Дополнительные сведения

Дополнительные советы и рекомендации и более подробные сведения см. Эти записи блога:

- [7 меньшее известных взлома для отладки в Visual Studio](https://blogs.msdn.microsoft.com/visualstudio/2017/06/26/7-lesser-known-hacks-for-debugging-in-visual-studio/)
- [7 скрытые gems в Visual Studio](https://blogs.msdn.microsoft.com/visualstudio/2017/10/05/7-hidden-gems-in-visual-studio-2017/)

## <a name="see-also"></a>См. также
[Сочетания клавиш](../ide/tips-and-tricks-for-visual-studio.md)

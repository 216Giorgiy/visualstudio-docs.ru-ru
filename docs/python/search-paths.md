---
title: Как используются пути поиска Python
description: Сведения о том, как в Visual Studio используются пути поиска в окружениях и в проектах.
ms.date: 03/05/2018
ms.prod: visual-studio-dev15
ms.technology: vs-python
ms.topic: conceptual
author: kraigb
ms.author: kraigb
manager: douge
ms.workload:
- python
- data-science
ms.openlocfilehash: 94770d1591d1f4d80fadd2a0f868dfedfd84999a
ms.sourcegitcommit: 42ea834b446ac65c679fa1043f853bea5f1c9c95
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/19/2018
ms.locfileid: "31581660"
---
# <a name="how-visual-studio-uses-python-search-paths"></a>Как пути поиска Python используются в Visual Studio

При стандартном использовании Python переменная среды `PYTHONPATH` (или `IRONPYTHONPATH` и т. д.) предоставляет путь поиска по умолчанию для файлов модулей. То есть, когда вы используете инструкцию `from <name> import...` или `import <name>`, в Python выполняется поиск совпадающего имени в следующих расположениях в указанном порядке:

1. Встроенные модули Python.
1. Папка с кодом Python, который вы используете.
1. Расположение по пути поиска модуля, определенное в переменной среды. (См. сведения в разделах о [пути поиска модуля](https://docs.python.org/2/tutorial/modules.html#the-module-search-path) и [переменных среды](https://docs.python.org/2/using/cmdline.html#envvar-PYTHONPATH) в основной документации Python.)

Тем не менее Visual Studio игнорирует переменную среды для пути поиска, даже если она задана для всей системы. На самом деле она не учитывается именно *из-за* того, что задана для всей системы, так как в этом случае возникают некоторые вопросы, на которые нельзя ответить автоматически: для какого окружения предназначены указанные модули — для Python 2.7 или Python 3.6? нужно ли переопределять стандартные модули библиотеки и знает ли разработчик о подобном поведении или это попытка атаки.

Таким образом, в Visual Studio можно напрямую указать пути поиска как в окружениях, так и в проектах. Код, который выполняется или отлаживается в Visual Studio, получает пути поиска из переменной `PYTHONPATH` (и других ее аналогов). Если вы добавляете пути поиска, Visual Studio проверяет библиотеки в этих расположениях и при необходимости создает для них базы данных IntelliSense (Visual Studio 2017 версии 15.5 и более ранних версий; это может занять некоторое время в зависимости от числа библиотек).

Чтобы добавить путь поиска, в обозревателе решений щелкните правой кнопкой мыши элемент **Search Paths** (Пути поиска), выберите пункт **Add Folder to Search Path...** (Добавить папку для пути поиска…) и выберите нужную папку. Этот путь используется для любой среды, связанной с проектом. (Если окружение создано на основе Python 3, может произойти ошибка при попытке добавить путь поиска для модулей Python 2.7.)

Файлы с расширением `.zip` или `.egg` также можно добавить в качестве путей поиска. Для этого нужно выбрать **Add Zip Archive to Search Path...** (Добавить ZIP-архив к пути поиска...). Как и при использовании папок, содержимое этих файлов проверяется и предоставляется для IntelliSense.

Если вы регулярно используете одни и те же пути поиска и содержимое изменяется нечасто, может быть более эффективным установить компоненты в папку пакетов сайта. В этом случае путь поиска анализируется и сохраняется в базе данных IntelliSense. Он всегда связан с предполагаемым окружением, и его не нужно добавлять для каждого проекта.

## <a name="see-also"></a>См. также

- [Управление средами Python в Visual Studio](managing-python-environments-in-visual-studio.md)
- [Выбор интерпретатора для проекта](selecting-a-python-environment-for-a-project.md)
- [Использование requirements.txt для зависимостей](managing-required-packages-with-requirements-txt.md)
- [Справочная информация по окну "Окружения Python"](python-environments-window-tab-reference.md)
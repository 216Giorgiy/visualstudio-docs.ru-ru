---
title: "Редактирование кода Python в Visual Studio | Документы Майкрософт"
ms.custom: 
ms.date: 4/10/2017
ms.prod: visual-studio-dev15
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-python
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 03effe56-d6f6-461d-9005-e43c15bf537c
caps.latest.revision: 1
author: kraigb
ms.author: kraigb
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
ms.translationtype: Human Translation
ms.sourcegitcommit: 85576806818a6ed289c2f660f87b5c419016c600
ms.openlocfilehash: b71d44150662c97f355c9b0c14a7888baf6c0683
ms.contentlocale: ru-ru
ms.lasthandoff: 05/09/2017

---

# <a name="editing-python-code"></a>Редактирование кода Python

Разработчики много времени работают с редактором кода. Чтобы повысить эффективность этой работы, [поддержка Python в Visual Studio](installation.md) предоставляет такие функции, как выделение синтаксиса IntelliSense, автозавершение, справка по сигнатурам, переопределения методов, а также поиск и навигация. 

Содержание раздела

- Технология [IntelliSense](#intellisense), включающая следующие возможности: автозавершения, справка по сигнатурам, вывод кратких сведений и цветовая маркировка синтаксиса.
- [Фрагменты кода](#code-snippets)
- [Навигация по коду](#navigating-your-code)

Общие сведения о редактировании кода в Visual Studio см. в статье [Создание кода в редакторе кода и текста](../ide/writing-code-in-the-code-and-text-editor.md). Ознакомьтесь также со статьей [Структура](../ide/outlining.md), чтобы узнать, как сконцентрироваться на определенных разделах кода. Поддержка Python позволяет проверять классы, определенные в каждом модуле, и функции, определенные в этих классах, с помощью обозревателя объектов Visual Studio (**Просмотр > Другие окна > Обозреватель объектов** или клавиши CTRL+W, J). 

Вводный обзор редактирования кода Python представлен в видео [Getting Started with Python in Visual Studio, Part 3: Editing](https://youtu.be/uZGZNEyyeKs?list=PLReL099Y5nRdLgGAdrb_YeTdEnd23s6Ff) (Начало работы с Python в Visual Studio, часть 3. Редактирование) длительностью 3 мин 48 с, размещенном на сайте youtube.com.

> [!VIDEO https://www.youtube.com/embed/uZGZNEyyeKs]

## <a name="intellisense"></a>IntelliSense

Технология IntelliSense предоставляет следующие возможности: [автозавершения](#completions), [справка по сигнатурам](#signature-help), [вывод кратких сведений](#quick-info) и [цветовая маркировка синтаксиса](#code-coloring). В целях повышения производительности функция IntelliSense зависит от базы данных завершения, которая создается для каждой среды Python в проекте. После добавления, удаления или обновления пакетов может потребоваться обновить базы данных. Их состояние отображается в окне **Python Environments** (Среды Python) (одноуровневое окно в обозревателе решений) на вкладке **IntelliSense** (дополнительные сведения см. в статье [Python Environments](python-environments.md) (Среды Python)). 

### <a name="completions"></a>Автозавершения

Автозавершения отображаются как операторы, идентификаторы и другие атрибуты, которые можно ввести в текущее расположение в редакторе. Автозавершения, отображаемые в списке, основываются на контексте, а также фильтруются для пропуска неправильных или ненужных параметров. Они часто инициируются при вводе различных инструкций (например, `import`) и операторов (включая точку). Но их также можно отобразить в любое время, нажав клавиши CTRL+J, ПРОБЕЛ.

![Автозавершение элементов](~/docs/python/media/code-editing-completions-simple.png)

В открытом списке автозавершений можно выполнить поиск необходимого автозавершения с помощью клавиш со стрелками, мыши или путем ввода. Чем больше букв вы вводите, чем точнее фильтруется список для отображения возможных автозавершений. Эта интеллектуальная фильтрация предоставляет следующие возможности:

- ввод букв, которые находятся не в начале имени, например parse для поиска argparse;
- ввод букв, которые находятся только в начале слов, например abc для поиска AbstractBaseClass или air для поиска as_integer_ratio;
- пропуск букв, например b64 для поиска base64.

Ниже представлено несколько примеров.

![Автозавершение элементов с использованием фильтрации](~/docs/python/media/code-editing-completion-filtering.png)

Автозавершения элементов автоматически отображаются при вводе точки после переменной или значения. Они представляют методы и атрибуты потенциальных типов. Если переменная может быть нескольких типов, в списке содержатся все возможные варианты для всех типов с дополнительными сведениями для указания типов, поддерживающих каждое автозавершение. Если автозавершение поддерживается всеми возможными типами, оно отображается без заметки.

![Автозавершение элементов при наличии нескольких типов](~/docs/python/media/code-editing-completion-types.png)

Элементы, которые начинаются и заканчиваются двумя символами подчеркивания, не отображаются по умолчанию. Как правило, прямой доступ к этим элементам не требуется, но если вам нужен один из этих элементов, введите двойной знак подчеркивания, чтобы добавить эти автозавершения в список:

![Автозавершение закрытых элементов](~/docs/python/media/code-editing-completion-dunder.png)

Операторы `import` и `from ... import` отображают список импортируемых модулей. При использовании `from ... import` отображаются элементы, которые можно импортировать из указанного модуля.

![Автозавершение импорта](~/docs/python/media/code-editing-completion-import.png)

При использовании операторов `raise` и `except` отображаются списки классов, которые могут быть типами ошибок. При этом необязательно будут выведены все определяемые пользователем исключения, но с их помощью можно быстро найти подходящие встроенные исключения.

![Автозавершение исключений](~/docs/python/media/code-editing-completion-exception.png)

При вводе символа @ запускается декоратор и отображаются потенциальные декораторы. Многие из этих элементов не удастся использовать в качестве декораторов, поэтому, чтобы определить, какие именно из них следует использовать, вам потребуется проверить документацию по библиотеке.

![Автозавершение декораторов](~/docs/python/media/code-editing-completion-decorator.png)

> [!Tip]
> Вы можете настроить поведение автозавершений, выбрав **Инструменты > Параметры > Текстовый редактор > Python > Дополнительно**. Параметр **Filter list based on search string** (Отфильтровать список по строке поиска) позволяет применить фильтрацию предложений автозавершения при вводе (флажок установлен по умолчанию), а **Member completion displays intersection of members** (Автозавершение элементов отображает пересечение элементов) отображает только те автозавершения, которые поддерживают все возможные типы (флажок снят по умолчанию).


### <a name="signature-help"></a>Справка по сигнатурам

Во время написания кода, вызывающего функцию, при вводе открывающейся скобки `(` отображается справка по сигнатурам, а также доступные сведения о параметрах и документации. Ее также можно отобразить внутри вызова функции, нажав клавиши CTRL+SHIFT+ПРОБЕЛ. Хотя отображаемые сведения определяются строками документации в исходном коде функции, они содержат любые значения по умолчанию.

![Справка по сигнатурам](~/docs/python/media/code-editing-signature-help.png)

> [!Tip]
> Чтобы отключить справку по сигнатурам, выберите **Инструменты > Параметры > Текстовый редактор > Python > Общие** и снимите флажок **Завершение операторов > Cведения о параметрах**.

### <a name="quick-info"></a>Вывод кратких сведений

При наведении указателя мыши на идентификатор отображается подсказка. В зависимости от идентификатора в кратких сведениях могут отображаться потенциальные значения или типы, доступная документация, возвращаемые типы и расположения определений.

![Краткие сведения](~/docs/python/media/code-editing-quick-info.png)

### <a name="code-coloring"></a>Цветовая маркировка синтаксиса

Цветовая маркировка синтаксиса — это функция, которая использует сведения, основанные на анализе кода, для выделения цветом переменных, операторов и других частей кода. Например, переменные, которые относятся к модулям или классам, могут выделяться другим цветом, нежели функции и остальные значения, а имена параметров могут отличаться цветом от локальных или глобальных переменных (обратите внимание, что по умолчанию функции не выделяются полужирным шрифтом).

![Цветовая маркировка синтаксиса](~/docs/python/media/code-editing-code-coloring.png)

Чтобы настроить используемые цвета, выберите **Инструменты > Параметры > Среда > Шрифты и цвета** и измените записи Python в списке **Отображение элементов**.

![Параметр "Шрифты и цвета"](~/docs/python/media/code-editing-customize-colors.png)

> [!Tip]
> Чтобы отключить цветовую маркировку синтаксиса, выберите **Инструменты > Параметры > Текстовый редактор > Python > Дополнительно** и снимите флажок **Miscellaneous Options (Другие параметры) > Color names based on type (Названия цветов на основе типа)**.

## <a name="code-snippets"></a>Фрагменты кода

Фрагменты кода — это блоки, которые можно вставлять в файлы, введя сочетание клавиш и нажав клавишу TAB или выбрав команду **Изменить > IntelliSense > Вставить фрагмент кода** и **Разместить во фрагменте**. Например, при вводе `class` с последующим нажатием клавиши TAB будет создана остальная часть класса. Вы можете ввести имя и список базовых классов, перемещаясь между выделенными полями с помощью клавиши TAB, а затем нажав клавишу ВВОД, чтобы начать ввод текста.

![Фрагменты кода](~/docs/python/media/code-editing-code-snippets.png)

Доступные фрагменты кода можно просмотреть в диспетчере фрагментов кода (**Инструменты > Диспетчер фрагментов кода**), выбрав **Python** в качестве языка.

![Диспетчер фрагментов кода](~/docs/python/media/code-editing-code-snippets-manager.png)

Сведения о том, как создать собственные фрагменты кода, см. в статье [Пошаговое руководство. Создание фрагмента кода](https://docs.microsoft.com/en-us/visualstudio/ide/walkthrough-creating-a-code-snippet).
Чтобы настроить фрагмент кода, [создайте его](https://msdn.microsoft.com/en-us/library/ms165394.aspx) и импортируйте с помощью диспетчера фрагментов кода. 

Если вы написали качественный фрагмент кода, к которому вы хотите предоставить общий доступ, разместите его в репозитории и [сообщите нам](https://github.com/Microsoft/PTVS/issues). Возможно, мы сможем включить его в следующий выпуск Visual Studio.


## <a name="navigating-your-code"></a>Навигация по коду

Поддержка Python предоставляет несколько вариантов для быстрой навигации по коду, а также по библиотекам, которым доступен исходный код: [Панель навигации](#navigation-bar), [Перейти к определению](#go-to-definition), [Перейти к](#navigate-to) и [Найти все ссылки](#find-all-references), как описано ниже. Можно также использовать [обозреватель объектов](../ide/viewing-the-structure-of-code.md#BKMK_ObjectBrowser) Visual Studio.

### <a name="navigation-bar"></a>Панель навигации

Панель навигации отображается в верхней части каждого окна редактора и содержит двухуровневый список определений. Раскрывающийся список слева содержит определения классов и функций верхнего уровня в текущем файле. Раскрывающийся список справа отображает список определений в области, расположенной слева. При перемещении курсора в редакторе эти списки будут обновляться для отображения текущего контекста, при этом из них можно напрямую перейти к нужной записи.

![Панель переходов](~/docs/python/media/code-editing-navigation-bar.png)

> [!Tip]
> Чтобы скрыть панель навигации, выберите **Инструменты > Параметры > Текстовый редактор > Python > Общие** и снимите флажок **Параметры > Панель навигации**.

### <a name="go-to-definition"></a>Перейти к определению

Команда **Перейти к определению** позволяет быстро перейти от использования идентификатора (например, имени функции, класса или переменной) к определению в исходном коде. Ее можно вызвать, щелкнув правой кнопкой мыши идентификатор и выбрав **Перейти к определению** или поместив курсор внутри этого идентификатора и нажав клавишу F12. Эта команда работает в коде и внешних библиотеках, если исходный код доступен. Если исходный код библиотеки недоступен, команда **Перейти к определению** перейдет к соответствующему оператору `import` для ссылки на модуль или отобразит ошибку.

![Перейти к определению](~/docs/python/media/code-editing-go-to-definition.png)

### <a name="navigate-to"></a>Перейти к

Команда **Изменить > Перейти к** (CTRL+, (запятая)) позволяет отобразить поле поиска в редакторе, где можно ввести любую строку и увидеть возможные совпадения в коде, определяющем функцию, класс или переменную. Она обеспечивает те же возможности, что и команда **Перейти к определению**, но без необходимости искать, где используется идентификатор.

Чтобы перейти к определению этого идентификатора, дважды щелкните любое имя или выберите его с помощью клавиш со стрелками и клавиши ВВОД.

![Перейти к](~/docs/python/media/code-editing-navigate-to.png)

### <a name="find-all-references"></a>Найти все ссылки

**Найти все ссылки** — это удобная команда для обнаружения, где используется и определен нужный идентификатор, включая операции импорта и назначения. Ее можно вызвать, щелкнув правой кнопкой мыши идентификатор и выбрав **Найти все ссылки** или поместив курсор внутри этого идентификатора и нажав клавиши SHIFT+F12. Чтобы перейти к расположению элемента, нужно дважды щелкнуть его в списке.

![Результаты выполнения команды "Найти все ссылки"](~/docs/python/media/code-editing-find-all-references.png)

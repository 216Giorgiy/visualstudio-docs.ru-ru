---
redirect_url: /visualstudio/csharp-ide/refactoring/rename
title: "Переименовать рефакторинг (C#) | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-general
ms.tgt_pltfrm: 
ms.topic: article
dev_langs: CSharp
helpviewer_keywords:
- refactoring [C#], Rename
- Rename refactoring [C#]
ms.assetid: 268942fc-b142-4dfa-8d90-bedd548c2e4f
caps.latest.revision: "45"
author: gewarren
ms.author: gewarren
manager: ghogen
ms.openlocfilehash: eba5a9f55e5d3d08eee48dc083a7e2f848118162
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2017
---
# <a name="rename-refactoring-c"></a>Переименовать рефакторинг (C#)
**Переименование** функция оптимизации в среде разработки Visual Studio (IDE), обеспечивающий простой способ переименовать идентификаторы для символов кода, такие как поля, локальные переменные, методы, пространства имен, свойства и типы. **Переименование** можно использовать для изменения имен в комментариях и в строках и для изменения объявлений и вызовов идентификаторов.  
  
> [!NOTE]
>  При использовании системы управления версиями для Visual Studio, получите последнюю версию источников, прежде чем пытаться выполнить переименованию.  
  
 Переименование рефакторинга можно найти следующие возможности Visual Studio:  
  
|Функция|Поведение оптимизации в Интегрированной среде разработки|  
|-------------|----------------------------------------|  
|Редактор кода|В редакторе кода переименованию доступен при размещении курсора на символах кода определенного типа. Когда курсор находится в этой позиции, можно вызывать **переименование** команду, нажав сочетание клавиш (Ctrl + R, Ctrl + R) или выбрав **переименование** из быстрых действий, в контекстном меню команду или **Рефакторинг** меню.|  
|Представление классов|При выборе идентификатора в представлении классов переименованию доступна в контекстном меню и **рефакторинг** меню.|  
|Обозреватель объектов|При выборе идентификатора в обозревателе объектов переименованию доступна только из **рефакторинг** меню.|  
|Сетки свойств конструктора Windows Forms|В **сетки свойств** части конструктора Windows Forms изменение имени элемента управления будет инициировать операцию переименования для этого элемента управления. **Переименование** не будет отображаться диалоговое окно.|  
|обозреватель решений|В **обозревателе решений**, **переименование** команда доступна в контекстном меню. Если выбранный исходный файл содержит класс, имя которого совпадает с именем файла, эта команда используется для одновременного переименуйте исходный файл и выполнения переименованию.<br /><br /> Например при создании приложения на основе Windows по умолчанию и затем переименуйте файл Form1.cs в TestForm.cs, имя исходного файла Form1.cs изменится на TestForm.cs и класса Form1 и все ссылки на что класс будет переименован в TestForm. **Примечание:** **отменить** команды (CTRL + Z) только отменить переименование рефакторинга в коде и будет изменяет имя файла обратно в исходное имя. <br /><br /> Если выбранный исходный файл не содержит класс, имя которого совпадает с именем файла, **переименование** в **обозревателе решений** переименовывает только исходный файл и не будет выполняться переименования Рефакторинг.|  
  
## <a name="rename-operations"></a>Операции переименования  
 При выполнении **переименование**, подсистема оптимизации выполняется определенной операции переименования для каждого символа кода, как описано в следующей таблице.  
  
|Код символа|Операции переименования|  
|-----------------|----------------------|  
|Поле|Изменяет объявление и использование этого поля на новое имя.|  
|Локальная переменная|Изменяет объявления и использования переменной на новое имя.|  
|Метод|Изменяет имя метода и все ссылки на этот метод на новое имя. **Примечание:** при переименовании метода расширения операция переименования распространяется на все экземпляры метода, которые находятся в области видимости, независимо от того, используется метод расширения как статический метод или метод экземпляра. Дополнительные сведения см. в статье [Методы расширения](/dotnet/csharp/programming-guide/classes-and-structs/extension-methods).|  
|Пространство имен|Изменяет имя пространства имен на новое имя в объявлении всех `using` инструкций и полные имена. **Примечание:** при переименовании пространства имен, [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] также обновляет **пространство имен по умолчанию** свойство **приложения** страница **конструктора проектов**. Это свойство невозможно сбросить, выбрав **отменить** из **изменить** меню. Чтобы сбросить **пространство имен по умолчанию** значение свойства, необходимо изменить свойство в **конструктора проектов**. Дополнительные сведения см. в разделе [страницы приложения](../ide/reference/application-page-project-designer-csharp.md).|  
|Свойство|Изменение объявления и использования свойства на новое имя.|  
|Тип|Изменяет все объявления и все случаи использования типа на новое имя, включая конструкторы и деструкторы. Для разделяемых типов операция переименования распространяется на все части.|  
  
#### <a name="to-rename-an-identifier"></a>Чтобы переименовать идентификатор  
  
1.  Создайте консольное приложение с именем `RenameIdentifier`, а затем замените `Program` на следующий пример кода.  
  
    ```csharp  
    class ProtoClassA  
    {  
        // Invoke on 'MethodB'.  
        public void MethodB(int i, bool b) { }  
    }  
  
    class ProtoClassC  
    {  
        void D()  
        {  
            ProtoClassA MyClassA = new ProtoClassA();  
  
            // Invoke on 'MethodB'.  
            MyClassA.MethodB(0, false);  
        }  
    }  
    ```  
  
2.  Поместите курсор на `MethodB`, в объявлении метода или вызов метода.  
  
3.  Из **рефакторинг** последовательно выберите пункты **переименование**. **Переименование** откроется диалоговое окно.  
  
     Щелкните правой кнопкой мыши курсор, пункты **рефакторинг** в контекстное меню и выберите **переименование** для отображения **переименование** диалоговое окно.  
  
4.  В **новое имя** введите `MethodC`.  
  
5.  Выберите **поиск в комментариях** флажок.  
  
6.  Нажмите кнопку **ОК**.  
  
7.  В **Просмотр изменений** диалоговое окно, нажмите кнопку **применить**.  
  
#### <a name="to-rename-an-identifier-using-quick-actions"></a>Чтобы переименовать идентификатор с помощью быстрых действий  
  
1.  Создайте консольное приложение с именем `RenameIdentifier`, а затем замените `Program` на следующий пример кода.  
  
    ```csharp  
    class ProtoClassA  
    {  
        // Invoke on 'MethodB'.  
        public void MethodB(int i, bool b) { }  
    }  
  
    class ProtoClassC  
    {  
        void D()  
        {  
            ProtoClassA MyClassA = new ProtoClassA();  
  
            // Invoke on 'MethodB'.  
            MyClassA.MethodB(0, false);  
        }  
    }  
    ```  
  
2.  В объявлении `MethodB`введите или нажмите клавишу backspace идентификатора метода. В поле будет появляться значок лампочки быстрых действий.  
  
    > [!NOTE]
    >  Вызвать можно только с помощью быстрых действий в объявление идентификатора переименованию.  
  
3.  Введите сочетание клавиш **Shift + Alt + F10** для отображения меню быстрых действий.  
  
     -или-  
  
     Щелкните черный треугольник рядом с лампочка, чтобы отобразить меню быстрых действий.  
  
4.  Выберите **переименовать "\<identifer1 >" для "\<идентификатор2 >"** пункт меню, чтобы вызвать переименованию. Все ссылки на  **\<identifer1 >** автоматически обновится до  **\<идентификатор2 >**.  
  
## <a name="remarks"></a>Примечания  
  
## <a name="renaming-implemented-or-overridden-members"></a>Переименование реализованных или переопределенных членов  
 Когда вы **переименование** член, который реализует/переопределяет или реализуется/переопределяется членами других типов [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] отображает диалоговое окно с сообщением, операции переименования приведет к каскадные обновления. Если щелкнуть **Продолжить**, подсистема оптимизации рекурсивно выполнит поиск и переименование всех членов базового и производных типов, которые реализует или переопределения связи с членом, который требуется переименовать.  
  
 В следующем примере кода содержит элементы со связями реализация/переопределение.  
  
 [!code-csharp[CsUsingCsIDERefactor#1](../csharp-ide/codesnippet/CSharp/rename-refactoring-csharp_1.cs)]  
  
 В предыдущем примере переименование `C.Method()` также переименовывает `Ibase.Method()` из-за `C.Method()` реализует `Ibase.Method()`. Затем рекурсивно engine рефакторинга видит, что `Ibase.Method()` реализуется `Derived.Method()` и переименовывает `Derived.Method()`. Подсистема рефакторинга не приводит к переименованию `Base.Method()`, так как `Derived.Method()` не переопределяет `Base.Method()`. Подсистема рефакторинга останавливается, если у вас есть **Переименование перегрузок** возврата **переименование** диалоговое окно.  
  
 Если **Переименование перегрузок** установлен, подсистема рефакторинга переименовывает `Derived.Method(int i)` , так как он перегружает `Derived.Method()`, `Base.Method(int i)` , так как он переопределяется атрибутом `Derived.Method(int i)`, и `Base.Method()` из-за перегрузки `Base.Method(int i)`.  
  
> [!NOTE]
>  При переименовании члена, который был определен в сборке, на которую указывает ссылка, диалоговое окно объясняется, что переименование вызовет ошибки сборки.  
  
## <a name="renaming-properties-of-anonymous-types"></a>Переименование свойств анонимных типов  
 При переименовании свойства анонимных типов операция переименования распространяется на свойства других анонимных типов, которые имеют те же свойства. Следующие примеры иллюстрируют это поведение.  
  
```csharp  
var a = new { ID = 1};  
var b = new { ID = 2};  
```  
  
 В приведенном выше коде переименование `ID` приведет к изменению `ID` в оба оператора, так как они имеют один и тот же анонимный тип.  
  
```csharp  
var companyIDs =  
    from c in companylist  
    select new { ID = c.ID, Name = c.Name};  
  
var orderIDs =  
    from o in orderlist  
    select new { ID = o.ID, Item = o.Name};  
```  
  
 В приведенном выше коде переименование `ID` переименовывает только один экземпляр `ID` из-за `companyIDs` и `orderIDs` имеют те же свойства.  
  
## <a name="see-also"></a>См. также  
 [Рефакторинг (C#)](refactoring-csharp.md)   
 [Анонимные типы](/dotnet/csharp/programming-guide/classes-and-structs/anonymous-types)
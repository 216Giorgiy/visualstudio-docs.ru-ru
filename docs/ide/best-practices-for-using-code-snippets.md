---
title: "Рекомендации по использованию фрагментов кода | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-general"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "фрагменты кода, рекомендации"
  - "фрагменты кода, безопасность"
ms.assetid: a293ec17-4dd7-4a99-8eeb-99f44a822a8b
caps.latest.revision: 22
caps.handback.revision: 22
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
---
# Рекомендации по использованию фрагментов кода
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Код фрагмент кода показывает только самый простой способ выполнения действия.  Для большинства приложений код необходимо изменить в соответствии с приложением.  
  
## Обработка исключений  
 Как правило, блоки try… catch фрагмента кода и rethrow перехвата всех исключений.  Возможно это не самый лучший вариант для вашего проекта.  На каждое исключение можно реагировать несколькими способами.  Примеры см. в разделах [Практическое руководство. Обработка исключений с помощью блока try\-catch](../Topic/How%20to:%20Handle%20an%20Exception%20Using%20try-catch%20\(C%23%20Programming%20Guide\).md) и [Оператор Try...Catch...Finally](/dotnet/visual-basic/language-reference/statements/try-catch-finally-statement).  
  
## Расположение файлов  
 Настраивая расположения файла в приложение, следует подумать о следующем:  
  
-   Доступность расположения.  Пользователи не могут иметь доступ к папке программных файлов компьютера, поэтому для хранения файлов с подачами приложения не может работать.  
  
-   Безопасность расположения.  Хранить файлы в корневую папку \(C:\\\) не является безопасным.  Для хранения данных приложения рекомендуется использовать папку \\Application Data.  Для хранения данных отдельных пользователей приложение может создать файл для каждого пользователя в папке \\Мои документы.  
  
-   Правильность имени файла.  Можно использовать элементы управления <xref:System.Windows.Forms.OpenFileDialog> и <xref:System.Windows.Forms.SaveFileDialog> для уменьшения вероятности недопустимых имен файлов.  Имейте в виду, что между моментом, когда пользователь выбирает файл и моментом, когда код совершает с этим файлом те или иные операции, файл может быть удален.  Кроме того пользователь может не иметь разрешений на запись в файл.  
  
## Безопасность  
 Степень безопасности фрагмента зависит от того, где он используется в исходном коде, и как он изменяется после того, как был перенесен в код.  Ниже перечислено несколько областей, которые необходимо рассмотреть.  
  
-   Доступ к файлам и базам данных  
  
-   Управление доступом для кода  
  
-   Защита ресурсов \(таких как журналы событий, реестр\)  
  
-   Хранение секретных сведений  
  
-   Проверка входных данных  
  
-   Передача данных в сценарные технологии  
  
 Дополнительные сведения см. в разделе [Защита приложений](../ide/securing-applications.md).  
  
## Загруженные фрагменты кода  
 Фрагменты кода IntelliSense устанавливанные Visual Studio отсутствует в себе риск безопасности.  Однако они могут создать риски безопасности в приложении.  Фрагменты, загруженные из Интернета, должны обрабатываться как любое другое содержимое, загруженное с особой осторожностью.  
  
-   Фрагменты загрузки только из сайтов вы доверяете и используют последнюю программное обеспечение вируса.  
  
-   Открытие все загруженные файлы фрагментов в блокноте или редакторе XML в Visual Studio и просмотрите их следует тщательно прежде чем устанавливать их.  Найдите следующие проблемы:  
  
    -   Код фрагмента может повредить систему при выполнении его.  Внимательно прочитать исходный код перед запуском его.  
  
    -   Блок URL\-адрес Справки файла фрагмента url\-адреса, которые выполняются файл вредоносного скрипта или указывают одиозное веб\-сайта.  
  
    -   Фрагмент может содержать ссылки, которые добавляются автоматически в проект и может быть загружен из любого места в системе.  Эти ссылки могут быть загружены на компьютер с того веб\-узла, с которого был загружен фрагмент.  Фрагмент может вызвать метод в ссылке, который выполняет вредоносный код.  Для защиты от атак, просмотрите такой блоки записей и ссылок файла фрагмента.  
  
## См. также  
 [Фрагменты кода IntelliSense в Visual Basic](/dotnet/visual-basic/developing-apps/using-ide/intellisense-code-snippets)   
 [Защита приложений](../ide/securing-applications.md)   
 [Фрагменты кода](../ide/code-snippets.md)
---
title: "Разработка кода в Visual Studio без использования проектов и решений | Документация Майкрософт"
ms.custom: 
ms.date: 02/27/2017
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-ide-general
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- vs.texteditor
dev_langs:
- JScript
- VB
- CSharp
helpviewer_keywords:
- code, editing
- code editor, syntax coloring
- code editor [Visual Studio]
- brace matching
- code editor, line numbers
- code editor, brace matching
- line numbers
- syntax coloring
- code editor
- code files
- code
ms.assetid: cb53bb9b-5b76-4759-b9b8-7bf32298bcbb
caps.latest.revision: 44
author: kempb
ms.author: kempb
manager: ghogen
translation.priority.ht:
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- ru-ru
- zh-cn
- zh-tw
translation.priority.mt:
- cs-cz
- pl-pl
- pt-br
- tr-tr
translationtype: Human Translation
ms.sourcegitcommit: a42f5a30375192c89c9984e40ba0104da98d7253
ms.openlocfilehash: 3a8be04b4d2c927dc296753420ff736b993343c9
ms.lasthandoff: 03/07/2017

---
# <a name="develop-code-in-visual-studio-without-projects-or-solutions"></a>Разработка кода в Visual Studio без использования проектов и решений

В Visual Studio 2017 вы можете открыть код практически из любого типа проекта на основе каталога без необходимости в решении или файле проекта. Это значит, что вы можете, например, найти проект кода в Git, клонировать его, а затем открыть прямо в Visual Studio и начать разработку, не создавая решение или проекты.

Вы можете не только изменить код и выполнить его сборку в Visual Studio, но также и переходить к разным частям кода (например, с помощью команды "Перейти к"). Код отобразится с цветной маркировкой синтаксиса и в большинстве случаев будет содержать базовое завершение операторов и отладку вместе с точками останова. Некоторые языки будут включать дополнительные возможности. Дополнительные сведения см. в статье [Создание переносимых, настраиваемых параметров редактора](create-portable-custom-editor-options.md).

## <a name="open-code-anywhere"></a>Открытие кода из любого расположения
Ниже представлены способы открытия кода в Visual Studio.
- В строке меню Visual Studio выберите **Файл**, **Открыть**, **Папка**, а затем перейдите в расположение кода.
- В контекстном меню папки с кодом выберите команду **Открыть в Visual Studio**.
- На начальной странице Visual Studio щелкните ссылку **Открыть папку**.
- Откройте код, клонированный из репозитория GitHub.

В примере ниже объясняется, как клонировать репозиторий GitHub, а затем открыть содержащийся в нем код в Visual Studio. Для этого необходимо иметь учетную запись GitHub и установленный в системе Git для Windows. Дополнительные сведения см. в статье [Signing up for a new GitHub account](https://help.github.com/articles/signing-up-for-a-new-github-account/) (Регистрация учетной записи GitHub), а также на странице [Git для Windows](https://git-for-windows.github.io/).

### <a name="to-open-code-from-a-cloned-github-repo"></a>Открытие кода из клонированного репозитория GitHub

1. Перейдите в репозиторий GitHub, содержащий код, с которым вы будете работать. Для этого у вас должна быть учетная запись GitHub.
1. Перейдите в репозиторий, который нужно клонировать.
1. На странице репозитория в GitHub нажмите кнопку **Clone or Download** (Клонировать или скачать), а затем в раскрывающемся меню выберите **Copy to Clipboard** (Копировать в буфер обмена), чтобы копировать защищенный URL-адрес для сайта GitHub.

  ![Кнопка клонирования GitHub](./media/VSIDE_Code_Clone.png)

    > [!NOTE]
    >  Хотя вы также можете открыть проект на рабочем столе или скачать ZIP-файл проекта, в приведенном ниже примере объясняется, как клонировать репозиторий с помощью метода с защищенным URL-адресом.

1. Чтобы открыть Team Explorer, в Visual Studio выберите вкладку **Team Explorer**.
1. В Team Explorer выберите команду **Клонировать**, которая располагается в разделе **Локальные репозитории Git**, а затем вставьте URL-адрес страницы GitHub в текстовое поле.

  ![Клонирование проекта](./media/VSIDE_Code_Clone2.png)

1. Нажмите кнопку **Клонировать**, чтобы клонировать файлы проекта в локальный репозиторий Git. Этот процесс может занять несколько минут в зависимости от размера репозитория.
1. После клонирования репозитория в систему выберите в Team Explorer команду **Открыть** в контекстном меню клонированного проекта.

  ![Клонированный проект](./media/VSIDE_Code_Clone3.png)

1. Чтобы просмотреть файлы в обозревателе решений, выберите команду **Показать представление папки**.

  ![Показать представление папки](./media/VSIDE_Code_Clone3_show.png)

  Теперь вы можете просмотреть папки и файлы в клонированном проекте, а также просмотреть код и выполнить поиск по нему в редакторе кода Visual Studio, где доступна цветовая маркировка синтаксиса и другие возможности.

    ![Поиск по коду клонированного проекта](./media/VSIDE_Code_Clone4.png)


## <a name="debug-your-code"></a>Отладка кода
В Visual Studio можно выполнять отладку кода. Чтобы выполнить отладку некоторых языков, вам потребуется указать допустимый *файл запуска* в проекте кода, например скрипт, исполняемый файл или проект. При выполнении отладки кода Visual Studio сначала выполнит этот указанный код.

В раскрывающемся списке под кнопкой запуска на панели инструментов перечислены все элементы автозагрузки, обнаруженные Visual Studio, а также элементы, выбранные вами в папке.

![Кнопка "Выполнить"](./media/VSIDE_Code_Run_Button.png)

Несмотря на то что Visual Studio автоматически распознает проекты, скрипты (например, на языках Python и JavaScript) нужно явным образом выбрать в качестве автозапускаемых элементов. Только после этого они отобразятся в списке.
Кроме того, некоторые автозапускаемые элементы, например MSBuild и CMake, могут содержать несколько конфигураций сборки, которые будут отображаться в раскрывающемся списке кнопки "Выполнить".

В настоящее время в Visual Studio поддерживается отладка кода на следующих языках:
- Node.js
- Python
- проекты на основе MSBuild (C#, VB, C++);
- любой исполняемый файл с PDB-файлами.

### <a name="to-debug-nodejs-and-python"></a>Отладка кода на языках Node.js и Python
1. Установите инструменты Node.js, Python или Visual Studio 2017 и среду выполнения Node.js.
1. В обозревателе решений в контекстном меню файла JavaScript выберите команду **Назначить автозапускаемым элементом**.
1. Нажмите клавишу F5, чтобы начать отладку.

### <a name="to-debug-msbuild-projects"></a>Отладка проектов MSBuild
1. В меню Visual Studio выберите **Отладка**. В раскрывающемся списке меню можно выбрать любой проект или файл, который будет отображаться в качестве автозапускаемого элемента в обозревателе решений.
1. Нажмите клавишу F5, чтобы начать отладку.

### <a name="to-debug-executable-files"></a>Отладка исполняемых файлов
1. В меню Visual Studio выберите **Отладка**. В раскрывающемся списке меню можно выбрать любой проект или файл, который будет отображаться в качестве автозапускаемого элемента в обозревателе решений.
1. Нажмите клавишу F5, чтобы начать отладку.


## <a name="enable-custom-build-tools"></a>Использование настраиваемых средств создания
Visual Studio поддерживает выполнение кода на многих языках, но иногда требуются дополнительные настройки. Если Visual Studio поддерживает язык, на котором написан код, вы можете выполнить его без промедления. Если же ваша попытка выполнить код в Visual Studio завершается сбоем, на панели сведений появится запрос указать файл в базе кода, который будет использоваться в качестве автозапускаемого элемента.

Если в базе кода используются настраиваемые средства сборки, которые не распознаются в Visual Studio, тогда, скорее всего, вы не сможете выполнить код и его отладку (например, с помощью клавиши F5). Поэтому вам необходимо указать доступный тип исполняемого файла (например, компилятор), а также пользовательские параметры и аргументы, необходимые для языка. Для этого Visual Studio предоставляет *задачи сборки*. Вы можете создать задачу сборки, чтобы указать все элементы, необходимые языку для сборки и выполнения написанного на нем кода.

Вы также можете создать произвольные задачи сборки, с помощью которых можно выполнить практически любое задание. Например, вы можете создать задачу, чтобы вывести список содержимого папки или переименовать файл. Кроме того, можно создать более целевые настраиваемые задачи сборки, способные выполнять сборку и компиляцию проекта с помощью определенных аргументов. Ниже описывается, как создать оба типа задач сборки.

#### <a name="to-create-an-arbitrary-build-task"></a>Создание произвольной задачи сборки

1. В обозревателе решений выберите файл или папку проекта для задачи и в контекстном меню файла или папки выберите **Настройка задач**.

  ![Настройка задач](./media/VSIDE_Code_Config_Task.png)

  При выборе **этого параметра** открывается файл с именем tasks.vs.json. Если этого файла нет, он будет создан. Он содержит задачи сборки для выбранного файла или папки.

  ![Файл tasks.vs.json](./media/VSIDE_Code_Tasks_JSON.png)

1. Добавьте приведенную ниже задачу сборки в файл tasks.vs.json. В этом примере добавим простую задачу с именем List outputs, которая перечисляет файлы и подпапки выбранной папки в окне вывода. (Новая задача должна быть добавлена в существующий массив tasks.)

  ```xml
      {
        "taskName": "List outputs",
        "appliesTo": "*",
        "type": "command",
        "command": "${env.COMSPEC}",
        "args": [
          "dir ${outDir}"
        ]
      },
  ```
  Завершенная задача сборки будет выглядеть примерно так:

  ![Произвольная задача сборки](./media/VSIDE_Code_Tasks_ArbTask.png)

1. Сохраните проект.
1. Откройте контекстное меню выбранной папки. В нижней части контекстного меню должна появиться новая произвольная задача сборки.

  ![Команда произвольной задачи сборки](./media/VSIDE_Code_Tasks_ArbTask2.png)

1. Выберите новую добавленную команду **List outputs** (Вывод выходных элементов), чтобы выполнить задачу.


### <a name="to-create-a-custom-build-task"></a>Создание настраиваемой задачи сборки
В этом разделе мы добавим две настраиваемые задачи сборки, использующие команду nMake для выполнения сборки кода и его очистки.

1. В обозревателе решений выберите файл проекта, который вы позже назначите в качестве автозапускаемого элемента. В контекстном меню файла выберите **Настройка задач**.

  ![Команда настраиваемой задачи сборки](./media/VSIDE_Code_Tasks_CustTask1.png)

1. Добавьте приведенные ниже задачи сборки в файл tasks.vs.json. В этом примере мы добавим две задачи: одну с именем makefile-build, которая будет использовать команду nMake для выполнения сборки проекта, и вторую — makefile-clean, которая будет вызывать команду nMake с аргументом clean. Эти задачи должны быть добавлены в существующий массив tasks. Обратите внимание, что это только пример задач сборки. Чтобы они заработали, у вас должна быть рабочая нагрузка с установленной программой командной строки [nMake](https://docs.microsoft.com/en-us/cpp/build/nmake-reference).

  ```xml
  {
  "taskName": "makefile-build",
  "appliesTo": "makefile",
  "type": "command",
  "contextType": "build",
  "command": "nmake"
  },
  {
  "taskName": "makefile-clean",
  "appliesTo": "makefile",
  "type": "command",
  "contextType": "clean",
  "command": "nmake",
  "args": [
    "clean"
    ]
  },
  ```
  Завершенная задача пользовательской сборки будет выглядеть примерно так:

  ![Настраиваемая задача сборки](./media/VSIDE_Code_Tasks_CustTask2.png)

1. Сохраните проект.
1. Откройте контекстное меню выбранного файла. Новые настраиваемые задачи сборки должны появиться в средней области контекстного меню.

  ![Команда настраиваемой задачи сборки](./media/VSIDE_Code_Tasks_CustTask3.png)

  > [!NOTE]
  > Команды будут отображаться под командой **Настройка задач**, как задано в параметре `contextType`. Так как build и clean являются командами сборки, они отображаются в разделе сборки в средней области контекстного меню.

  Теперь, когда вы связали настраиваемые команды сборки с файлом, вы можете назначить этот файл в качестве автозапускаемого элемента.

1. В контекстном меню файла выберите **Назначить автозапускаемым элементом**.

  ![Команда настраиваемой задачи сборки](./media/VSIDE_Code_Tasks_CustTask4.png)

1. На панели инструментов щелкните стрелку раскрывающегося списка рядом с кнопкой запуска. Теперь автозапускаемый элемент отображается как пункт в этом списке.

  ![Команда настраиваемой задачи сборки](./media/VSIDE_Code_Tasks_CustTask5.png)

Чтобы запустить базу кода, нужно выбрать кнопку запуска или нажать клавишу F5. Вы можете изменить базу кода и выполнить ее отладку в Visual Studio, даже если среда не распознает средства, используемые для ее сборки. Выходные данные задачи сборки отображаются в окне **Вывод**, а ошибки сборки — в окне **Список ошибок**. Файл встроенной задачи tasks.vs.json связывает внутренний цикл разработки Visual Studio с пользовательскими средствами сборки, используемыми базой кода.

Настраиваемые задачи сборки можно добавлять в отдельные файлы или сразу во все файлы определенного типа. Например, вы можете настроить так, чтобы все файлы пакета NuGet содержали задачу "Восстановить пакеты" или все исходные файлы содержали задачу статического анализа, например анализатор кода для всех JS-файлов.

Visual Studio поддерживает подстановку `$variable` VSCode в корневом узле файла tasks.vs.json в дополнение к переменным среды (например, `$env.var`) или ключам.

## <a name="specify-build-output"></a>Указание выходных данных сборки
Если проект необходимо компилировать, вы можете добавить в файл tasks.vs.json дополнительный тег с именем `output`. Пример.

`"output": "${workspaceRoot}\\bin\\hellomake.exe"`

Указание расположения вывода уведомляет Visual Studio о том, где найти выходные данные сборки проекта.


## <a name="tasksvsjson-file-location"></a>Расположение файла tasks.vs.json

По умолчанию файл tasks.vs.json находится в скрытой папке с именем `.vs`. Чтобы просмотреть скрытые папки в Visual Studio, нажмите кнопку **Показать все файлы** на панели инструментов обозревателя решений.

![Команда произвольной задачи сборки](./media/VSIDE_Code_Tasks_FileLocation.png)

Файл tasks.vs.json является скрытым, потому что большинство пользователей не хотят добавлять его в систему управления версиями. Если же вы хотите добавить его туда, перетащите файл в корень проекта, чтобы он был видим.

В папке .vs могут содержаться и другие JSON-файлы, но в нее нужно обязательно переместить только файлы tasks.vs.json и launch.vs.json. Файл launch.vs.json настраивает отладчик Visual Studio, а файл tasks.vs.json — сборку в Visual Studio.


---
title: "Использование параметров EditorConfig в VisualStudio | Документы Майкрософт"
ms.custom: 
ms.date: 10/27/2017
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: editorconfig [Visual Studio]
author: gewarren
ms.author: gewarren
manager: ghogen
ms.technology: vs-ide-general
ms.openlocfilehash: 39b3228e64257552c8b629e421c9b5aa4f0e0931
ms.sourcegitcommit: 5f5587a1bcf4aae995c80d54a67b4b461f8695f3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/29/2017
---
# <a name="create-portable-custom-editor-settings-with-editorconfig"></a>Создание переносимых настраиваемых параметров редактора с EditorConfig

Параметры текстового редактора в Visual Studio применяются ко всем проектам заданного типа. Так, например, измененный параметр текстового редактора C# применяется ко *всем* проектам C# в Visual Studio. Однако в некоторых случаях может потребоваться использовать соглашения, которые отличаются от ваших собственных настроек редактора. Это можно сделать с помощью файлов [EditorConfig](http://editorconfig.org/), описывающих общие параметры текстового редактора для каждого проекта, например размер отступа. Параметры EditorConfig содержатся в файле с расширением editorconfig, который хранится вместе с файлами проекта, и имеют приоритет над параметрами текстового редактора Visual Studio. Это означает, что каждую базу кода можно настроить для использования параметров текстового редактора, относящихся к конкретному проекту. Для использования этой возможности в Visual Studio подключаемый модуль не требуется.

## <a name="coding-consistency"></a>Согласованность при кодировании

Параметры в файлах EditorConfig позволяют поддерживать согласованность стилей и параметров написания кода для базы кода, например стиль отступа, интервал табуляции, символ конца строки, кодирование и т. д., независимо от используемого редактора или интегрированной среды разработки. Например, при программировании на языке C#, если в базе кода существует соглашение о том, что отступы всегда состоят из пяти символов пробела, для документов используется кодировка UTF-8 и каждая строка всегда заканчивается CR/LF, а файл .editorconfig можно настроить для выполнения этих условий.

Соглашения для кодирования, используемые вами в личных проектах, могут отличаться от тех, которые действуют в командных проектах. Например, вы предпочитаете, чтобы при вставке отступа во время написания кода добавлялся символ табуляции. Однако в команде может быть принято, чтобы при отступе вместо символа табуляции добавлялись четыре символа пробела. Файлы EditorConfig устраняют эту проблему, позволяя создавать конфигурацию для каждого сценария.

Поскольку параметры содержатся в файле в базе кода, они передаются вместе с этой базой кода. Параметры текстового редактора применяются при открытии файла кода в редакторе, совместимом с EditorConfig. Дополнительные сведения о файлах EditorConfig см. на веб-сайте [EditorConfig.org](http://editorconfig.org/).

## <a name="override-editorconfig-settings"></a>Переопределение параметров EditorConfig

При добавлении файла с расширением editorconfig в папку в иерархии файлов его параметры применяются ко всем соответствующим файлам на этом уровне и ниже. Чтобы переопределить параметры EditorConfig для конкретного проекта или базы кода так, чтобы использовались соглашения, отличные от соглашений в файле EditorConfig верхнего уровня, просто добавьте файл с расширением editorconfig в корень репозитория базы кода или каталога проекта. Обязательно добавьте в файл свойство ```root=true```, чтобы среда Visual Studio не искала другие файлы с расширением editorconfig выше в структуре каталогов. Новые параметры в файле EditorConfig будут применяться к файлам того же уровня и к файлам во всех подкаталогах.

```
# top-most EditorConfig file
root = true
```

![Иерархия EditorConfig](../ide/media/vside_editorconfig_hierarchy.png)

Файлы EditorConfig считываются сверху вниз. В последнюю очередь считываются ближайшие файлы EditorConfig. Соглашения из соответствующих разделов EditorConfig применяются в том порядке, в котором они были считаны, поэтому приоритет имеют соглашения в ближайших файлах.

## <a name="supported-settings"></a>Поддерживаемые параметры

Редактор в Visual Studio поддерживает следующие свойства из основного набора [свойств EditorConfig](http://editorconfig.org/#supported-properties):

- indent_style
- indent_size
- tab_width
- end\_of_line
- charset
- корневой

Параметры редактора EditorConfig поддерживаются во всех языках, поддерживаемых Visual Studio, за исключением XML. Кроме того, EditorConfig поддерживает соглашения о [стиле кода](../ide/editorconfig-code-style-settings-reference.md) и [именовании](../ide/editorconfig-naming-conventions.md) для C# и Visual Basic.

## <a name="editing-editorconfig-files"></a>Редактирование файлов EditorConfig

Visual Studio предоставляет определенные возможности IntelliSense для редактирования файлов с расширением editorconfig. При редактировании большого количества файлов .editorconfig может быть полезно расширение [Языковая служба EditorConfig](https://marketplace.visualstudio.com/items?itemName=MadsKristensen.EditorConfig).

После того как вы закончили редактировать файл EditorConfig, необходимо повторно загрузить файлы кода, чтобы новые параметры вступили в силу.

## <a name="adding-and-removing-editorconfig-files"></a>Добавление и удаление файлов EditorConfig

Добавление файла EditorConfig в проект или базу кода не приведет к преобразованию существующих стилей в новые. Например, если в качестве отступов в вашем файле используются знаки табуляции, при добавлении файла EditorConfig, в котором отступы задаются пробелами, символы отступа не будут преобразованы в пробелы. Тем не менее для новых строк будет использоваться формат, заданный в файле EditorConfig.

Если удалить файл EditorConfig из проекта или базы кода, вам необходимо закрыть и снова открыть все файлы кода, чтобы восстановить глобальные параметры редактора для новых строк кода.

## <a name="example"></a>Пример

Ниже приведен пример, показывающий состояние отступа во фрагменте кода C# до и после добавления в проект файла с расширением editorconfig. Параметр **Табуляции** в диалоговом окне **Параметры** текстового редактора Visual Studio настроен для вывода символов пробела при нажатии клавиши **TAB**.

![Параметр "Табуляция" в текстовом редакторе](../ide/media/vside_editorconfig_tabsetting.png)

Как и ожидалось, нажатие клавиши **TAB** в следующей сроке приводит к заданию отступа строки путем добавления четырех дополнительных символов пробела.

![Код до использования EditorConfig](../ide/media/vside_editorconfig_before.png)

Добавим в проект новый файл EDITORCONFIG с приведенным ниже содержимым. Параметр `[*.cs]` означает, что это изменение будет применено только к файлам кода C# в этом проекте.

```
# Top-most EditorConfig file
root = true

# Tab indentation
[*.cs]
indent_style = tab
```

Теперь при нажатии клавиши **TAB** вместо пробелов будут применяться символы табуляции.

![Клавиша TAB добавляет символ табуляции](../ide/media/vside_editorconfig_tab.png)

## <a name="troubleshooting-editorconfig-settings"></a>Устранение неполадок параметров EditorConfig

Если в структуре каталогов в папке проекта или выше есть файл EditorConfig, среда Visual Studio будет применять параметры редактора из этого файла. В этом случае в строке состояния может появиться следующее сообщение:

   **"Пользовательские предпочтения для этого типа файлов переопределены рекомендациями по написанию кода этого проекта".**

Это означает, что, если какие-либо параметры редактора из раздела **Сервис**, **Параметры**, **Текстовый редактор** (например, размер и стиль отступа, размер интервала табуляции или соглашения о кодировании) заданы в файле EditorConfig, находящемся в структуре каталогов в папке проекта или выше, соглашения в этом файле будут переопределять значения в окне "Параметры". Управлять этим поведением можно с помощью параметра **Следовать рекомендациям по написанию кода проекта** в разделе **Сервис**, **Параметры**, **Текстовый редактор**. Если снять этот флажок, поддержка EditorConfig в Visual Studio будет отключена.

!["Сервис" > "Параметры" > "Следовать рекомендациям по написанию кода проекта"](media/coding_conventions_option.png)

Чтобы найти файлы с расширением editorconfig в родительских каталогах, откройте командную строку и выполните следующую команду из корня диска, на котором находится проект:

```
dir .editorconfig /s
```

Управлять областью действия соглашений EditorConfig можно с помощью свойства ```root=true``` в файле EDITORCONFIG, находящемся в корне репозитория или в каталоге, где размещается проект. Visual Studio ищет файл EDITORCONFIG в каталоге, где находится открытый файл, и во всех его родительских каталогах. Visual Studio прекращает поиск по достижении корневого пути или нахождении файла с расширением editorconfig со свойством ```root=true```.

## <a name="see-also"></a>См. также

[Соглашения о стиле кода .NET](../ide/editorconfig-code-style-settings-reference.md)  
[Поддержка EditorConfig для языковой службы](../extensibility/supporting-editorconfig.md)  
[EditorConfig.org](http://editorconfig.org/)  
[Написание кода в редакторе](writing-code-in-the-code-and-text-editor.md)
---
title: "ClickOnce и параметры приложения | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-deployment
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords: ClickOnce deployment, application settings
ms.assetid: 891caba6-faef-4a3c-8f71-60e6fadb60eb
caps.latest.revision: "10"
author: stevehoag
ms.author: shoag
manager: wpickett
ms.openlocfilehash: fbe35de06ac09c95a045748a5d8ecb379779a20a
ms.sourcegitcommit: aadb9588877418b8b55a5612c1d3842d4520ca4c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2017
---
# <a name="clickonce-and-application-settings"></a>ClickOnce и параметры приложения
Параметры приложения для Windows Forms позволяет легко создавать, хранить и поддерживать настраиваемые приложения и параметры пользователя на стороне клиента. Следующий документ описывает принципы работы файлов параметров приложения в приложении ClickOnce и как ClickOnce переносит параметры при обновлении до следующей версии.  
  
 Приведенные ниже сведения относятся только к поставщику параметров приложения по умолчанию, <xref:System.Configuration.LocalFileSettingsProvider> класса. При указании настраиваемый поставщик, этим поставщиком определяется, как он хранит свои данные и как он обновляет ее параметров между версиями. Дополнительные сведения о поставщиках параметров приложений см. в разделе [архитектура параметров приложения](/dotnet/framework/winforms/advanced/application-settings-architecture).  
  
## <a name="application-settings-files"></a>Файлы параметров приложений  
 Параметры приложения использует два файла: *приложения*. exe.config и user.config, где *приложения* — имя вашего приложения Windows Forms. файл User.config создается на время первого клиента, ваше приложение хранит параметры пользователя. *приложение*. exe.config, напротив, существует до развертывания, если определить значения по умолчанию для параметров. Visual Studio включает этот файл автоматически при использовании ее **публикации** команды. При создании приложения ClickOnce с помощью Mage.exe или MageUI.exe, необходимо проверить этот файл входит в состав приложения и другие файлы при заполнении манифеста приложения.  
  
 В приложениях Windows Forms, не развернуто с помощью ClickOnce, приложения *приложения*. exe.config файл хранится в каталоге приложения во время хранения файл user.config в каталоге пользователя **Documents and Settings**  папки. В приложении ClickOnce *приложения*. exe.config находится в каталоге приложения в кэше приложения ClickOnce и user.config живет в каталог данных ClickOnce для этого приложения.  
  
 Независимо от способа развертывания приложения параметры приложения обеспечивают безопасный доступ к *приложения*. exe.config и безопасного чтения и записи в файл user.config.  
  
 В приложении ClickOnce размер файлов конфигураций, используемых параметрами приложения ограничивается размер кэша ClickOnce. Дополнительные сведения см. в разделе [Общие сведения о кэше ClickOnce](../deployment/clickonce-cache-overview.md).  
  
## <a name="version-upgrades"></a>Обновления версий  
 Так же, как каждая версия приложения ClickOnce изолирована от всех остальных версий, параметры приложения для приложения ClickOnce изолированы от других версий, а также параметры. Когда пользователь обновляет приложение до более поздней версии приложения, параметры приложения сравнивает параметров последней (наибольший номер) версии с параметрами, поставляемыми с обновленной версией и параметры объединяются в новый набор файлов параметров.  
  
 В следующей таблице описаны способ определения того, какие параметры для копирования.  
  
|Тип изменения|Действие обновления|  
|--------------------|--------------------|  
|Чтобы добавить параметр *приложения*. exe.config|Новый параметр объединяется в текущей версии *приложения*. exe.config|  
|Параметр, удалены из *приложения*. exe.config|Старый параметр удаляется из текущей версии *приложения*. exe.config|  
|По умолчанию параметр изменен; локальный параметр по-прежнему присвоено исходные значения по умолчанию в файл user.config|Параметр объединяется в текущей версии user.config новые значения по умолчанию как значение|  
|По умолчанию параметр изменен; значение не по умолчанию в файл user.config|Параметр объединяется в текущей версии user.config с сохраняется значение не по умолчанию|  
  
 Если вы создали класс-оболочку параметров приложения и хотите настроить логику обновления, можно переопределить <xref:System.Configuration.ApplicationSettingsBase.Upgrade%2A> метод.  
  
## <a name="clickonce-and-roaming-settings"></a>ClickOnce и параметры роуминга  
 ClickOnce не работает с настройками роуминга, позволяющую файл настроек следовать указаниям на нескольких компьютерах в сети. Если необходимо, чтобы параметры роуминга, необходимо будет реализовать поставщика параметров приложения, который хранит параметры сети или разработки классов настраиваемых параметров для хранения параметров на удаленном компьютере. Дополнительные сведения об поставщиков параметров см. в разделе [архитектура параметров приложения](/dotnet/framework/winforms/advanced/application-settings-architecture).  
  
## <a name="see-also"></a>См. также  
 [Развертывание и безопасность технологии ClickOnce](../deployment/clickonce-security-and-deployment.md)   
 [Общие сведения о параметрах приложений](/dotnet/framework/winforms/advanced/application-settings-overview)   
 [Общие сведения о кэше ClickOnce](../deployment/clickonce-cache-overview.md)   
 [Доступ к локальным и удаленным данным в приложениях ClickOnce](../deployment/accessing-local-and-remote-data-in-clickonce-applications.md)
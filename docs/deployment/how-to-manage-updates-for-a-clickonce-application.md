---
title: 'Как: управление обновлениями для ClickOnce-приложения | Документы Microsoft'
ms.custom: ''
ms.date: 11/04/2016
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-deployment
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- Microsoft.VisualStudio.Publish.ClickOnceProvider.Dialog.Update
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, managing applications
- ClickOnce deployment, updates
- updating data, ClickOnce
- application updates
ms.assetid: a3f23f05-e7f1-4620-b23c-2d68f9643684
caps.latest.revision: 13
author: stevehoag
ms.author: shoag
manager: wpickett
ms.workload:
- multiple
ms.openlocfilehash: f239f13a7dcefe0ce6f2bf8c12c641e97a48ce26
ms.sourcegitcommit: 32f1a690fc445f9586d53698fc82c7debd784eeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="how-to-manage-updates-for-a-clickonce-application"></a>Практическое руководство. Управление обновлениями для ClickOnce-приложения
[!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)]приложения могут проверять обновления автоматически или программным способом. Как разработчик имеют большую гибкость при указании времени и как проверки обновлений, обязательности установки обновлений и когда приложение должно проверять наличие обновлений.  
  
 Можно настроить приложение для проверки наличия обновлений, автоматически до запуска приложения или через заданные интервалы времени после запуска приложения. Кроме того, можно указать минимальную требуемую версию; то есть обновление устанавливается, если пользователя версии меньше требуемой версии.  
  
 Можно настроить приложение для проверки наличия обновлений программным способом на основании события, такого как запрос пользователя. В процедуре «программной проверки на наличие обновлений» в этом разделе показано, как написать код, использующий <xref:System.Deployment.Application.ApplicationDeployment> класса, чтобы проверить наличие обновлений на основе события.  
  
 Можно также развернуть приложение из одного местоположения и обновить его из другого. См. в процедуре «укажите расположение различные обновления».  
  
 Дополнительные сведения см. в разделе [Выбор стратегии обновления ClickOnce](../deployment/choosing-a-clickonce-update-strategy.md).  
  
 Обновление поведение управляется в **обновления приложения** диалоговом, доступном из **публикации** страница **конструктора проектов.**  
  
### <a name="to-check-for-updates-before-the-application-starts"></a>Чтобы проверить наличие обновлений перед запуском приложения  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалогового окна поле, убедитесь, что **приложение должно проверять наличие обновлений** установлен флажок.  
  
5.  В **выбрать, когда приложение должно проверять наличие обновлений** выберите **перед запуском приложения**. Это гарантирует, что пользователи, подключенные к сети всегда запустить приложение с последними обновлениями.  
  
### <a name="to-check-for-updates-in-the-background-after-the-application-starts"></a>Чтобы проверить наличие обновлений в фоновом режиме, после запуска приложения  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалогового окна поле, убедитесь, что флажок **приложение должно проверять наличие обновлений** выбран.  
  
5.  В **выбрать, когда приложение должно проверять наличие обновлений статьи**выберите **после запуска приложения**. Приложение запускается быстрее таким образом, а затем его проверить наличие обновлений в фоновом режиме и только уведомлять пользователя, когда доступно обновление. После установки обновления не вступят в силу только после перезапуска приложения.  
  
6.  В **укажите, как часто приложение должно проверять наличие обновлений** установите переключатель **каждый раз при запуске приложения** (по умолчанию) или **проверьте каждый** и введите число и интервал времени.  
  
### <a name="to-specify-a-minimum-required-version-for-the-application"></a>Чтобы указать минимальную требуемую версию для приложения  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалогового окна поле, убедитесь, что **приложение должно проверять наличие обновлений** установлен флажок.  
  
5.  Выберите **Укажите минимальную требуемую версию для данного приложения** флажок, а затем введите **основных**, **дополнительный**, **сборки**и  **Версия** номеров для приложения.  
  
### <a name="to-specify-a-different-update-location"></a>Чтобы указать расположение различных обновлений  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалогового окна поле, убедитесь, что **приложение должно проверять наличие обновлений** установлен флажок.  
  
5.  В **обновить расположение** введите расположение обновлений с полный URL-адрес с помощью формата http://Hostname/ApplicationName или UNC-путь в формате \\\Server\ApplicationName, или нажмите кнопку **Обзор** кнопку, чтобы найти местоположение для обновления.  
  
### <a name="to-check-for-updates-programmatically"></a>Чтобы проверить наличие обновлений программным способом  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалогового окна поле, убедитесь, что **приложение должно проверять наличие обновлений** флажок снят. (При необходимости можно выбрать этот флажок, чтобы проверить наличие обновлений программным способом и позволить ClickOnce выполнения автоматически проверять наличие обновлений.)  
  
5.  В **обновить расположение** введите расположение обновлений с полный URL-адрес с помощью формата http://Hostname/ApplicationName или UNC-путь в формате \\\Server\ApplicationName, или нажмите кнопку **Обзор** кнопку, чтобы найти местоположение для обновления. Расположение обновлений — место, где приложение будет искать обновленную версию самого себя.  
  
6.  Создание кнопки, меню или другой элемент пользовательского интерфейса в форме Windows Forms, который пользователь будет выбирать для проверки наличия обновлений. Из этого элемента в обработчик событий вызовите метод для проверки и установки обновлений. Пример кода Visual Basic и Visual C# можно найти для метода в [как: поиск приложения обновления программно с помощью API развертывания ClickOnce](../deployment/how-to-check-for-application-updates-programmatically-using-the-clickonce-deployment-api.md).  
  
7.  Постройте приложение.  
  
## <a name="see-also"></a>См. также  
 <xref:System.Deployment.Application.ApplicationDeployment>   
 [Диалоговое окно обновления приложения](http://msdn.microsoft.com/en-us/8eca8743-8e68-4d04-bfd5-4dc0a9b2934f)   
 [Выбор стратегии обновления ClickOnce](../deployment/choosing-a-clickonce-update-strategy.md)   
 [Публикация приложений ClickOnce](../deployment/publishing-clickonce-applications.md)   
 [Практическое руководство. Публикация приложения ClickOnce с помощью мастера публикации](../deployment/how-to-publish-a-clickonce-application-using-the-publish-wizard.md)   
 [Практическое руководство. Проверка обновлений для приложения программным способом с помощью функций API развертывания технологии ClickOnce](../deployment/how-to-check-for-application-updates-programmatically-using-the-clickonce-deployment-api.md)
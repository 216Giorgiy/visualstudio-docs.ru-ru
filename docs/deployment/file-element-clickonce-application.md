---
title: "&lt;файл&gt; элемент (приложение ClickOnce) | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-deployment
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- http://www.w3.org/2000/09/xmldsig#Transform
- urn:schemas-microsoft-com:asm.v2#file
- http://www.w3.org/2000/09/xmldsig#DigestValue
- http://www.w3.org/2000/09/xmldsig#DigestMethod
- http://www.w3.org/2000/09/xmldsig#Transforms
- urn:schemas-microsoft-com:asm.v2#hash
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- <file> element [ClickOnce application manifest]
- manifests [ClickOnce], file element
ms.assetid: 56e3490c-eed5-4841-b1bf-eefe778b6ac9
caps.latest.revision: "24"
author: stevehoag
ms.author: shoag
manager: wpickett
ms.openlocfilehash: f448b7455bcbe13b7257a58a0eafbadd1165b197
ms.sourcegitcommit: aadb9588877418b8b55a5612c1d3842d4520ca4c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2017
---
# <a name="ltfilegt-element-clickonce-application"></a>&lt;файл&gt; элемент (приложение ClickOnce)
Определяет все не являющиеся сборками файлы загружаемые и используемые приложением.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
<file  
    name  
    size  
    group  
    optional  
    writeableType  
>  
    <typelib  
        tlbid  
        version  
        helpdir  
        resourceid  
        flags  
    />  
    <comClass  
        clsid  
        description  
        threadingModel  
        tlbid  
        progid  
        miscStatus  
        miscStatusIcon  
        miscStatusContent  
        miscStatusDocPrint  
        miscStatusThumbnail  
    />  
    <comInterfaceExternalProxyStub  
        iid  
        baseInterface  
        numMethods  
        name  
        tlbid  
        proxyStubClass32  
    />  
    <comInterfaceProxyStub  
        iid  
        baseInterface  
        numMethods  
        name  
        tlbid  
        proxyStubClass32  
    />  
    <windowClass  
        versioned  
    />  
</file>  
```  
  
## <a name="elements-and-attributes"></a>Элементы и атрибуты  
 Элемент `file` является необязательным. Элемент имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`name`|Обязательный. Определяет имя файла.|  
|`size`|Обязательный. Размер в байтах для файла.|  
|`group`|Необязательное, если `optional` атрибута не указано или равно `false`; обязателен, если `optional` — `true`. Имя группы, к которой принадлежит этот файл. Имя может быть любым строковым значением Юникод, выбранного разработчиком и используется для загрузки файлов по требованию с <xref:System.Deployment.Application.ApplicationDeployment> класса.|  
|`optional`|Необязательно. Указывает ли файл загрузки, когда приложение первого запуска или ли файл хранится только на сервере, пока приложение запрашивает ее по требованию. Если `false` или не определено, файл загружается при первом запуске или установить приложение. Если `true`, `group` должен быть указан для манифеста приложения должен быть допустимым. `optional`не может быть значение true, если `writeableType` указанное значение `applicationData`.|  
|`writeableType`|Необязательно. Указывает, что этот файл является файлом данных. В настоящее время единственным допустимым значением является `applicationData`.|  
  
## <a name="typelib"></a>библиотеки типов  
 `typelib` Элемент является необязательным и дочерним для элемента file. Элемент описывает библиотеку типов, к которой принадлежит COM-компонента. Элемент имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`tlbid`|Обязательный. Идентификатор GUID, назначенный библиотеке типов.|  
|`version`|Обязательный. Номер версии библиотеки типов.|  
|`helpdir`|Обязательный. Каталог, содержащий файлы справки для компонента. Может быть пустой.|  
|`resourceid`|Необязательно. Представление шестнадцатеричной строки языка (LCID). Это от одной до четырех шестнадцатеричных цифр без префикса 0 x и без предшествующих нулей. Код языка, возможно, независимый идентификатор.|  
|`flags`|Необязательно. Строковое представление флагов библиотеки типов для этой библиотеки типов. В частности оно должно быть одной «RESTRICTED», «Элемент УПРАВЛЕНИЯ», «СКРЫТЫЙ» и «HASDISKIMAGE».|  
  
## <a name="comclass"></a>comClass  
 `comClass` Элемент является необязательным и дочерним для `file` элемент, но является обязательным, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он должен развернуть с помощью объектов COM без регистрации. Элемент имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`clsid`|Обязательный. Идентификатор класса компонента COM, выраженное в виде идентификатора GUID.|  
|`description`|Необязательно. Имя класса.|  
|`threadingModel`|Необязательно. Модели потоков, используемых в процессе COM-классов. Если это свойство имеет значение null, используется потоковая модель. Компонент создается в основном потоке клиента и вызывается из других потоков маршалируются в этот поток. Ниже перечислены допустимые значения:<br /><br /> `Apartment`, `Free`, `Both` и `Neutral`.|  
|`tlbid`|Необязательно. Идентификатор GUID для библиотеки типов для этого COM-компонента.|  
|`progid`|Необязательно. Зависимые от версии программный идентификатор, связанный с COM-компонента. Формат `ProgID` — `<vendor>.<component>.<version>`.|  
|`miscStatus`|Необязательно. Повторяющиеся значения в сборке манифеста сведения, предоставляемые `MiscStatus` раздел реестра. Если значения для `miscStatusIcon`, `miscStatusContent`, `miscStatusDocprint`, или `miscStatusThumbnail` атрибуты не найдены, соответствующее значение по умолчанию в списке в `miscStatus` используется для отсутствующих атрибутов. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класс является OCX-классом, который требует `MiscStatus` раздела реестра.|  
|`miscStatusIcon`|Необязательно. Повторяющиеся значения в сборке манифеста сведения, предоставляемые DVASPECT_ICON. Он может предоставлять значок объекта. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класс является OCX-классом, который требует `Miscstatus` раздела реестра.|  
|`miscStatusContent`|Необязательно. Повторяющиеся значения в сборке манифеста сведения, предоставляемые DVASPECT_CONTENT. Он может предоставлять составные документы, выводимые на экран или принтер. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класс является OCX-классом, который требует `MiscStatus` раздела реестра.|  
|`miscStatusDocPrint`|Необязательно. Повторяющиеся значения в сборке манифеста сведения, предоставляемые DVASPECT_DOCPRINT. Он может предоставлять представляет отображение объекта на экране, как если бы печати на принтер. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класс является OCX-классом, который требует `MiscStatus` раздела реестра.|  
|`miscStatusThumbnail`|Необязательно. Повторяющиеся значения в сборку манифеста сведения, предоставляемые DVASPECT_THUMBNAIL. Он представляет эскизы объектов, отображаемые в средствах просмотра. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класс является OCX-классом, который требует `MiscStatus` раздела реестра.|  
  
## <a name="cominterfaceexternalproxystub"></a>comInterfaceExternalProxyStub  
 `comInterfaceExternalProxyStub` Элемент является необязательным и дочерним для `file` элемент, но может потребоваться, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он должен развернуть с помощью объектов COM без регистрации. Элемент содержит следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`iid`|Обязательный. Интерфейс IID интерфейса, который обслуживается этот прокси-сервер. IID должен быть фигурные.|  
|`baseInterface`|Необязательно. Идентификатор IID интерфейса, из которого ссылается интерфейс `iid` является производным.|  
|`numMethods`|Необязательно. Число методов, реализованных в интерфейсе.|  
|`name`|Необязательно. Имя интерфейса, как оно будет отображаться в коде.|  
|`tlbid`|Необязательно. Библиотеки типов, содержащая описание интерфейса, указанного параметром `iid` атрибута.|  
|`proxyStubClass32`|Необязательно. Отображение IID CLSID в 32-разрядных библиотек DLL, прокси-сервера.|  
  
## <a name="cominterfaceproxystub"></a>comInterfaceProxyStub  
 `comInterfaceProxyStub` Элемент является необязательным и дочерним для `file` элемент, но может потребоваться, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он должен развернуть с помощью объектов COM без регистрации. Элемент содержит следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`iid`|Обязательный. Интерфейс IID интерфейса, который обслуживается этот прокси-сервер. IID должен быть фигурные.|  
|`baseInterface`|Необязательно. Идентификатор IID интерфейса, из которого ссылается интерфейс `iid` является производным.|  
|`numMethods`|Необязательно. Число методов, реализованных в интерфейсе.|  
|`Name`|Необязательно. Имя интерфейса, как оно будет отображаться в коде.|  
|`Tlbid`|Необязательно. Библиотеки типов, содержащая описание интерфейса, указанного параметром `iid` атрибута.|  
|`proxyStubClass32`|Необязательно. Отображение IID CLSID в 32-разрядных библиотек DLL, прокси-сервера.|  
|`threadingModel`|Необязательно. Необязательно. Модели потоков, используемых в процессе COM-классов. Если это свойство имеет значение null, используется потоковая модель. Компонент создается в основном потоке клиента и вызывается из других потоков маршалируются в этот поток. Ниже перечислены допустимые значения:<br /><br /> `Apartment`, `Free`, `Both` и `Neutral`.|  
  
## <a name="windowclass"></a>windowClass  
 `windowClass` Элемент является необязательным и дочерним для `file` элемент, но может потребоваться, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он должен развернуть с помощью объектов COM без регистрации. Элемент относится к классу окон, определенных компонентом COM, который необходимо установить версию, применяемый к нему. Элемент содержит следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`versioned`|Необязательно. Элементы управления ли внутреннее имя класса, используемое при регистрации содержит версию сборки, которая содержит класс окна. Значение этого атрибута может быть `yes` или `no`. Значение по умолчанию — `yes`. Значение `no` следует использовать, только если один класс определяется side-by-side компонента и эквивалентные компонента не side-by-side и нужно рассматривать их как один класс. Обратите внимание, что применяются обычные правила регистрации класса окна — первый компонент, который регистрирует класс окна получат только его зарегистрировать, так как она не установлена версия, применяемый к нему.|  
  
## <a name="hash"></a>hash  
 `hash` Элемент является необязательным и дочерним для `file` элемента. `hash` Элемент не имеет атрибутов.  
  
 [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)]использует алгоритмической хэш всех файлов в приложении в качестве проверки безопасности, чтобы убедиться, что ни один из файлов был изменен после развертывания. Если `hash` элемент не был включен, эта проверка не выполняется. Поэтому, пропустив `hash` элемента не рекомендуется.  
  
 Если манифест содержит файл, который не хэшируется, что манифест не может быть цифровой подписью, поскольку пользователи не могут проверить содержимое нехэшированного файла.  
  
## <a name="dsigtransforms"></a>DSIG:TRANSFORMS  
 `dsig:Transforms` Элемент является обязательным дочерним элементом `hash` элемента. `dsig:Transforms` Элемент не имеет атрибутов.  
  
## <a name="dsigtransform"></a>DSIG:Transform  
 `dsig:Transform` Элемент является обязательным дочерним элементом `dsig:Transforms` элемента. `dsig:Transform` Элемент имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Algorithm`|Алгоритм, используемый для вычисления хэш-кода для этого файла. В настоящее время единственным значением, используемые [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] — `urn:schemas-microsoft-com:HashTransforms.Identity`.|  
  
## <a name="dsigdigestmethod"></a>DSIG:DigestMethod  
 `dsig:DigestMethod` Элемент является обязательным дочерним элементом `hash` элемента. `dsig:DigestMethod` Элемент имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Algorithm`|Алгоритм, используемый для вычисления хэш-кода для этого файла. В настоящее время единственным значением, используемые [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] — `http://www.w3.org/2000/09/xmldsig#sha1`.|  
  
## <a name="dsigdigestvalue"></a>DSIG:DigestValue  
 `dsig:DigestValue` Элемент является обязательным дочерним элементом `hash` элемента. `dsig:DigestValue` Элемент не имеет атрибутов. Его текстовое значение представляет собой вычисленный хэш для указанного файла.  
  
## <a name="remarks"></a>Примечания  
 Этот элемент определяет все не являющиеся сборками файлы, которые составляют приложение и, в частности, хэш-значения для проверки файла. Этот элемент может также включать данные изоляции модели объектов компонентов (COM), связанный с файлом. При изменении файла, файл манифеста приложения также должны обновляться в соответствии с изменениями.  
  
## <a name="example"></a>Пример  
 В следующем примере кода показан `file` элементы в приложении манифеста для приложения, развернутые с помощью [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)].  
  
```  
<file name="Icon.ico" size="9216">  
  <hash>  
    <dsig:Transforms>  
      <dsig:Transform Algorithm="urn:schemas-microsoft-com:HashTransforms.Identity" />  
    </dsig:Transforms>  
    <dsig:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1" />  
    <dsig:DigestValue>lVoj+Rh6RQ/HPNLOdayQah5McrI=</dsig:DigestValue>  
  </hash>  
</file>  
```  
  
## <a name="see-also"></a>См. также  
 [Манифест приложения ClickOnce](../deployment/clickonce-application-manifest.md)
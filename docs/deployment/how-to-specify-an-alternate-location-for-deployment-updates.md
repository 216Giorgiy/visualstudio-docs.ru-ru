---
title: "Практическое руководство. Задание альтернативного местоположения для обновлений развертывания | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-deployment"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
helpviewer_keywords: 
  - "развертывание ClickOnce, обновления"
  - "обновление развертывания, альтернативные расположения"
ms.assetid: 7faacd35-2638-492d-80f6-6b57e5f820de
caps.latest.revision: 15
caps.handback.revision: 15
author: "stevehoag"
ms.author: "shoag"
manager: "wpickett"
---
# Практическое руководство. Задание альтернативного местоположения для обновлений развертывания
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Первоначально приложение [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] можно установить с компакт\-диска или общего файлового ресурса, однако приложение должно проверять наличие периодических обновлений в Интернете.  Можно указать альтернативное местоположение обновлений в манифесте развертывания, чтобы обновление приложения было возможным из Интернета после первоначальной установки.  
  
> [!NOTE]
>  Приложение должно быть настроено на локальную установку, чтобы использовать эту функцию.  Дополнительные сведения см. в разделе [Разбор примера: развертывание вручную приложения ClickOnce](../deployment/walkthrough-manually-deploying-a-clickonce-application.md).  Кроме того, если приложение [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] установить из сети, настройка альтернативного местоположения приводит к тому, что [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] использует это местоположение как для первоначальной установки, так и для всех последующих обновлений.  Если приложение устанавливается локально \(например, с компакт\-диска\), первоначальная установка выполняется с исходного носителя, а все последующие обновления будут использовать альтернативное местоположение.  
  
### Задание альтернативного местоположения для обновлений с помощью программы MageUI.exe \(служебная программа на основе Windows Forms\)  
  
1.  Откройте командную строку .NET Framework и введите:  
  
     **mageui.exe**  
  
2.  В меню **Файл** выберите команду **Открыть**, чтобы открыть манифест развертывания для приложения.  
  
3.  Перейдите на вкладку **Параметры развертывания**.  
  
4.  В текстовом поле с именем **Место запуска** введите URL\-адрес каталога, который будет содержать манифест развертывания для обновлений приложения.  
  
5.  Сохраните манифест развертывания.  
  
### Задание альтернативного местоположения для обновлений с помощью программы Mage.exe  
  
1.  Откройте командную строку .NET Framework.  
  
2.  Установите местоположение обновлений с помощью следующей команды.  В этом примере **HelloWorld.exe.application** — путь к манифесту приложения [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)], который всегда имеет расширение ".application", а **http:\/\/adatum.com\/Update\/Path** — URL\-адрес, который проверяется по технологии [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] на наличие обновлений.  
  
     **Mage \-Update HelloWorld.exe.application \-ProviderUrl http:\/\/adatum.com\/Update\/Path**  
  
3.  Сохраните файл.  
  
    > [!NOTE]
    >  Теперь требуется повторно подписать файл с помощью программы Mage.exe.  Дополнительные сведения см. в разделе [Разбор примера: развертывание вручную приложения ClickOnce](../deployment/walkthrough-manually-deploying-a-clickonce-application.md).  
  
## Безопасность платформы .NET Framework  
 Если приложение устанавливают с автономного носителя, такого как компакт\-диск, и компьютер находится в интерактивном режиме, приложение [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] сначала проверяет URL\-адрес, задаваемый тегом `<deploymentProvider>` в манифесте развертывания, чтобы определить, содержит ли местоположение обновлений более свежую версию приложения.  Если содержит, то [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] устанавливает приложение непосредственно оттуда, вместо того, чтобы устанавливать из исходного каталога установки, а общеязыковая среда выполнения \(CLR\) определяет уровень доверия для приложения, используя `<deploymentProvider>`.  Если компьютер находится в автономном режиме или поставщик `<deploymentProvider>` недостижим, тогда [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] выполняет установку с компакт\-диска, и общеязыковая среда выполнения предоставляет доверие на основе точки установки; это означает, что для установки с компакт\-диска приложение получает разрешения полного доверия.  Все последующие обновления наследуют этот уровень доверия.  
  
 Все приложения [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)], использующие поставщик `<deploymentProvider>`, должны в явном виде объявить разрешения, которые им необходимы в их манифесте приложения, чтобы приложение не получало другие уровни доверия на разных компьютерах.  
  
## См. также  
 [Разбор примера: развертывание вручную приложения ClickOnce](../deployment/walkthrough-manually-deploying-a-clickonce-application.md)   
 [Манифест развертывания ClickOnce](../deployment/clickonce-deployment-manifest.md)   
 [Защита приложений ClickOnce](../deployment/securing-clickonce-applications.md)   
 [Выбор стратегии обновления ClickOnce](../deployment/choosing-a-clickonce-update-strategy.md)
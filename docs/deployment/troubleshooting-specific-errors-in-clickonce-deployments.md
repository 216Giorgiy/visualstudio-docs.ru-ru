---
title: Устранение неполадок определенным ошибкам в развертываниях ClickOnce | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology: vs-ide-deployment
ms.topic: conceptual
f1_keywords:
- Microsoft.VisualStudio.Publish.ClickOnceProvider.ErrorPrompt.UncRequired
- Microsoft.VisualStudio.Publish.ClickOnceProvider.ErrorPrompt.NoInstallUrl
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- deploying applications, ClickOnce
- troubleshooting ClickOnce deployments
- ClickOnce deployment, troubleshooting
ms.assetid: 22dfe8f1-8271-4708-9c25-6bbb13920ac8
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 8a9829a80916f6e18e9adaf3d0e41fe825541438
ms.sourcegitcommit: 42ea834b446ac65c679fa1043f853bea5f1c9c95
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/19/2018
ms.locfileid: "31564510"
---
# <a name="troubleshooting-specific-errors-in-clickonce-deployments"></a>Устранение неполадок, приводящих к определенным ошибкам в развертываниях ClickOnce
В этом разделе перечислены следующие распространенные ошибки, которые могут возникнуть при развертывании [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложения и пошаговые инструкции по устранению каждой проблемы.  
  
## <a name="general-errors"></a>Общие ошибки  
  
#### <a name="when-you-try-to-locate-an-application-file-nothing-occurs-or-xml-renders-in-internet-explorer-or-you-receive-a-run-or-save-as-dialog-box"></a>При попытке обнаружить файл приложения ничего не происходит, XML-данные визуализируются в Internet Explorer или отображается диалоговое окно выполнения или сохранить как  
 Эта ошибка, скорее всего вызвана типы содержимого (также известные как типы MIME) неправильной регистрацией на сервере и на клиенте.  
  
 Во-первых убедитесь, что сервер настроен для связи с типом содержимого «приложения/x-ms приложение» расширением .application.  
  
 Если сервер настроен правильно, убедитесь, что [!INCLUDE[dnprdnlong](../code-quality/includes/dnprdnlong_md.md)] установлен на компьютере. Если [!INCLUDE[dnprdnlong](../code-quality/includes/dnprdnlong_md.md)] установлен, и вы по-прежнему видите эту проблему, попробуйте удалить и переустановить [!INCLUDE[dnprdnlong](../code-quality/includes/dnprdnlong_md.md)] чтобы повторно зарегистрировать тип содержимого на клиенте.  
  
#### <a name="error-message-says-unable-to-retrieve-application-files-missing-in-deployment-or-application-download-has-been-interrupted-check-for-network-errors-and-try-again-later"></a>Сообщение об ошибке: «не удалось получить приложение. Файлы, отсутствующие в развертывании» или «загрузка приложения было прервано, проверьте наличие сетевых ошибок и повторите попытку позже»  
 Это сообщение указывает, что один или несколько файлов, на который ссылается [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] манифесты не могут быть загружены. Самый простой способ устранения этой ошибки является попытка загрузить URL-адрес, [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] говорит, его невозможно загрузить. Ниже приведены некоторые возможные причины ее возникновения.  
  
-   Если в файле журнала содержится запись «(403) запрещено» или «(404) не найден» убедитесь, что веб-сервер настроен так, что он не блокирует загрузку этого файла. Дополнительные сведения см. в разделе [Вопросы настройки сервера и клиента в развертываниях ClickOnce](../deployment/server-and-client-configuration-issues-in-clickonce-deployments.md).  
  
-   Если файл .config блокируется сервером, см. раздел «Ошибка загрузки при попытке установить [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение, имеющее файл .config» далее в этом разделе.  
  
-   Определить, является ли это произошло потому, что `deploymentProvider` URL-адрес в манифест развертывания указывает на URL-адрес, используемый для активации в другое место.  
  
-   Убедитесь, что все файлы присутствуют на сервере. [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] журнала следует определить, какой файл не найден.  
  
-   Увидеть, есть ли проблемы с сетевым подключением; Если клиентский компьютер перешел в автономный режим во время загрузки, может возникнуть это сообщение.  
  
#### <a name="download-error-when-you-try-to-install-a-clickonce-application-that-has-a-config-file"></a>Ошибка загрузки при попытке установить приложение ClickOnce, которое содержит файл .config  
 По умолчанию приложения, Visual Basic Windows включает файл App.config. Когда пользователь пытается установить веб-сервере, который использует Windows Server 2003, так как операционная система блокирует установку файлов .config по соображениям безопасности будет проблемой. Чтобы включить файл .config для установки, нажмите кнопку **использовать расширение файла «.deploy»** в **параметры публикации** диалоговое окно.  
  
 Также необходимо задать типы содержимого (также известные как типы MIME) соответствующим образом .application, с расширением MANIFEST и файлы .deploy. Дополнительные сведения см. документацию сервера.  
  
 Дополнительные сведения см. в разделе «Windows Server 2003: заблокированной типы содержимого» в [Server вопросы настройки и клиента в развертываниях ClickOnce](../deployment/server-and-client-configuration-issues-in-clickonce-deployments.md).  
  
#### <a name="error-message-application-is-improperly-formatted-log-file-contains-xml-signature-is-invalid"></a>Сообщение об ошибке: «Приложение неправильно отформатировано»; Файл журнала содержит «Недопустимая подпись XML»  
 Убедитесь, что файла манифеста обновлен и подпишите его еще раз. Повторно опубликовать приложение с помощью [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] или используйте Mage, чтобы подписать приложение еще раз.  
  
#### <a name="you-updated-your-application-on-the-server-but-the-client-does-not-download-the-update"></a>При обновлении приложения на сервере, но клиент не загружает обновления  
 Эту проблему можно устранить, выполнив одну из следующих задач:  
  
-   Изучите `deploymentProvider` URL-адрес в манифесте развертывания. Убедитесь, что вы обновляете в том же расположении, `deploymentProvider` указывает.  
  
-   Проверьте интервал обновления в манифесте развертывания. Если этот интервал равен периодическому интервалу, например один раз каждые шесть часов, [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] не будут проверять наличие обновления, пока не истечет этот промежуток времени. Вы можете изменить манифест, чтобы проверить наличие обновления при каждом запуске приложения. Изменение интервала обновления — удобный параметр во время разработки для проверки установки обновлений, но он замедляет активацию приложения.  
  
-   Попробуйте еще раз запустить приложение в меню «Пуск». [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] Возможно, обнаружен обновления в фоновом режиме, но будет предложено установить при следующей активации.  
  
#### <a name="during-update-you-receive-an-error-that-has-the-following-log-entry-the-reference-in-the-deployment-does-not-match-the-identity-defined-in-the-application-manifest"></a>Во время обновления появляется сообщение об ошибке, который имеет следующие записи журнала: «ссылка в развертывании не соответствует удостоверению, определенному в манифесте приложения»  
 Эта ошибка может возникать, если изменено вручную манифестов развертывания и приложения и вызвать описание удостоверение сборки в один манифест к потере синхронизации с другими. Удостоверение сборки состоит из имени, версии, языка и региональных параметров и токена открытого ключа. Проверьте описания удостоверений в манифестах и устраните все различия.  
  
#### <a name="first-time-activation-from-local-disk-or-cd-rom-succeeds-but-subsequent-activation-from-start-menu-does-not-succeed"></a>Успешной активации с локального диска или компакт-диска в первый раз, но последующая активация из меню "Пуск" завершилась с ошибками  
 [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] использует URL-адрес поставщика развертывания для получения обновлений для приложения. Убедитесь, что правильно задано расположение, на который указывает URL-адрес.  
  
#### <a name="error-cannot-start-the-application"></a>Ошибка: «не удается запустить приложение»  
 Это сообщение об ошибке обычно указывает на наличие проблемы с установкой этого приложения в [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] хранения. Приложение содержит ошибку, либо повреждено хранилище. Файл журнала может определить, где произошла ошибка.  
  
 Они должны сделать следующее.  
  
-   Убедитесь в уникальности удостоверение манифеста развертывания, удостоверения манифеста приложения и удостоверения EXE основного приложения.  
  
-   Убедитесь, что путей к файлам не более 100 символов. Если приложение содержит пути к файлам, которые имеют слишком большую длину, может превысить ограничения максимального пути, которые можно хранить. Попробуйте сократить пути и установите заново.  
  
#### <a name="privatepath-settings-in-application-config-file-are-not-honored"></a>Параметры PrivatePath в файле конфигурации приложения не соблюдаются.  
 Для использования PrivatePath (исследовательских путей Fusion), приложение должно запросить разрешение полного доверия. Попробуйте изменить манифест приложения для запроса полного доверия и повторите попытку.  
  
#### <a name="during-uninstall-a-message-appears-saying-failed-to-uninstall-application"></a>Во время удаления появляется сообщение: «Не удалось удалить приложение»  
 Это сообщение обычно указывает, что приложение уже удалено или повреждено хранилище. После нажатия кнопки **ОК**, **Установка и удаление программ** запись будет удалена.  
  
#### <a name="during-installation-a-message-appears-that-says-that-the-platform-dependencies-are-not-installed"></a>Во время установки появляется сообщение об ошибке, что зависимости платформы не установлены  
 Отсутствует необходимое условие в GAC (глобальный кэш сборок), необходимые для выполнения приложения.  
  
## <a name="publishing-with-visual-studio"></a>Публикация с помощью Visual Studio  
  
#### <a name="publishing-in-visual-studio-fails"></a>Не удается выполнить публикацию в Visual Studio  
 Убедитесь, что у вас прав для публикации на сервере, для которой предназначен. Например если вы вошли на компьютер сервера терминалов как обычный пользователь, а не как администратор, вы, скорее всего, не будет прав, необходимых для публикации на локальном веб-сервере.  
  
 При публикации на URL-адрес, убедитесь, что конечный компьютер имеет включены серверные расширения FrontPage.  
  
#### <a name="error-message-unable-to-create-the-web-site-site-the-components-for-communicating-with-frontpage-server-extensions-are-not-installed"></a>Сообщение об ошибке: Не удается создать веб-сайт "\<сайта >". Компоненты для взаимодействия с расширениями сервера FrontPage не установлены.  
 Убедитесь, что Microsoft Visual Studio Web разработки компонента, установленного на компьютере, на котором выполняется публикация из. Для пользователей Express этот компонент не установлен по умолчанию. Дополнительные сведения см. на веб-сайте [http://go.microsoft.com/fwlink/?LinkId=102310](http://go.microsoft.com/fwlink/?LinkId=102310).  
  
#### <a name="error-message-could-not-find-file-microsoftwindowscommon-controls-version6000-culture-publickeytoken6595b64144ccf1df-processorarchitecture-typewin32"></a>Сообщение об ошибке: Не удалось найти файл "Microsoft.Windows.Common-элементы управления, версия = 6.0.0.0, язык и региональные параметры = *, PublicKeyToken = 6595b64144ccf1df, ProcessorArchitecture =\*, тип = win32"  
 Это сообщение об ошибке появляется при попытке публикации приложения WPF с включенными визуальными стилями. Чтобы устранить эту проблему, см. [как: публикация приложения WPF с помощью Visual стили включены](../deployment/how-to-publish-a-wpf-application-with-visual-styles-enabled.md).  
  
## <a name="using-mage"></a>С помощью Mage:  
  
#### <a name="you-tried-to-sign-with-a-certificate-in-your-certificate-store-and-a-received-blank-message-box"></a>Предпринята попытка подписи с помощью сертификата в хранилище сертификатов и получено пустое поле сообщения  
 В **подписывание** диалоговое окно, необходимо:  
  
-   Выберите **подписывать с сохраненным сертификатом**, и  
  
-   Выберите сертификат из списка; первый сертификат не является выбором по умолчанию.  
  
#### <a name="clicking-the-dont-sign-button-causes-an-exception"></a>Нажатие кнопки «Не подписывать» приводит к возникновению исключения  
 Эта проблема является известной ошибкой. Все [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] манифесты являются обязательно должны быть подписаны. Просто выберите один из вариантов подписания и нажмите кнопку **ОК**.  
  
## <a name="additional-errors"></a>Дополнительные сведения об ошибках  
 В следующей таблице приведены некоторые из распространенных сообщений об ошибках, которые пользователь клиентского компьютера может появиться, когда пользователь устанавливает [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложения. Каждое сообщение об ошибке отображается рядом с описанием наиболее вероятной причиной ошибки.  
  
|Сообщение об ошибке|Описание|  
|-------------------|-----------------|  
|Не удается запустить приложение. Обратитесь к издателю приложения.<br /><br /> Не удается запустить приложение. Обратитесь за помощью к поставщику приложения.|Это общая ошибка сообщения, которые возникают, когда не удается запустить приложение и нет особых причин, которые можно обнаружить. Часто это означает, что приложение каким-либо образом повреждено или что [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] хранилище повреждено.|  
|Не удается продолжить. Приложение имеет неправильный формат. Обратитесь за помощью к издателю приложения.<br /><br /> Не удалось выполнить проверку приложения. Не удается продолжить.<br /><br /> Не удалось получить файлы приложения. Файлы повреждены при развертывании.|Один из файлов манифеста в развертывании синтаксически не является допустимым или содержит хэш, который не согласуется с соответствующим файлом. Эта ошибка также может означать повреждение манифестом, включаемым в сборку. Повторно создайте развертывание и выполните повторную компиляцию приложения или найдите и устраните ошибки вручную в манифестах.|  
|Не удалось получить приложение. Ошибка при проверке подлинности.<br /><br /> Не удалось выполнить установку приложения. Не удается найти файлы приложения на сервере. Обратитесь за помощью к издателю приложения или администратору.|Не удается загрузить один или несколько файлов в развертывании, так как нет разрешения на доступ к ним. Причиной может быть ошибка 403 запрещено, возвращаемом веб-серверу, может возникнуть, если один из файлов в развертывании заканчивается расширением, рассматривать его как защищенный файл веб-сервера. Кроме того чтобы получить доступ к каталога, который содержит один или несколько файлов приложения может потребоваться имя пользователя и пароль.|  
|Не удается загрузить приложение. В приложении отсутствуют необходимые файлы. Обратитесь за помощью к поставщику приложения или к системному администратору.|Не удается найти один или несколько файлов, перечисленных в манифесте приложения на сервере. Убедитесь, что переданы все зависимые файлы развертывания и повторите попытку.|  
|Не удалось выполнить загрузку приложения. Проверьте сетевое подключение или обратитесь к системному администратору или поставщику сетевых услуг.|[!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] не удается установить сетевое подключение к серверу. Проверьте доступность сервера и состояние сети.|  
|URLDownloadToCacheFile завершилась с ошибкой HRESULT "\<номер >". Произошла ошибка при попытке загрузить "\<файл >".|Если пользователь задал расширенной безопасности Internet Explorer параметр «Предупреждать о переключении безопасный и режима безопасности» на целевом компьютере развертывания, а URL-адрес настройки устанавливаемого приложения ClickOnce перенаправляет с незащищенного безопасный узел (или и наоборот), установка завершится ошибкой, так как предупреждение Internet Explorer прервет.<br /><br /> Чтобы устранить эту проблему, выполните одно из следующих действий.<br /><br /> -Снимите флажок параметра безопасности.<br />-Убедитесь в том, что URL-адрес настройки не перенаправлять таким образом, что изменяются режимы безопасности.<br />-Полностью удалите перенаправление и укажите URL-адрес фактическое настройки.|  
|Произошла ошибка записи на диск. Может иметься недостаточно места на диске. Обратитесь за помощью к поставщику приложения или к системному администратору.|Возможно, недостаточно места на диске для сохранения приложения, но это может также указывать более Общая ошибка ввода-вывода, пытаясь сохранить файлы приложения на диск.|  
|Не удается запустить приложение. Не недостаточно свободного места на диске.|Жесткий диск заполнен. Очистите место и попробуйте снова запустить приложение.|  
|Слишком много развернутых активаций пытаются одновременно выполнить загрузку.|[!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] ограничивает количество разных приложений, которые можно запустить одновременно. Это главным образом для защиты от вредоносных попыток проведения атак типа "отказ в обслуживании" локальной нацеленных на [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] службы; пользователи, которые пытаются запустить то же приложение несколько раз, в течение короткого промежутка времени, сводится с одного экземпляра приложение.|  
|Не удается активировать ярлыки по сети.|Сочетания клавиш для [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение можно запустить только на локальном жестком диске. Их невозможно запустить путем открытия URL-адрес, указывающий на файл ярлыка на удаленном сервере.|  
|Приложение слишком велик для работы в интерактивном режиме с частичным доверием. Обратитесь за помощью к поставщику приложения или к системному администратору.|Приложения, работающего в режиме частичного доверия, не может быть больше половины размера квоты интерактивного приложения, который по умолчанию — 250 МБ.|  
  
## <a name="see-also"></a>См. также  
 [Развертывание и безопасность технологии ClickOnce](../deployment/clickonce-security-and-deployment.md)   
 [Устранение неполадок развертывания ClickOnce](../deployment/troubleshooting-clickonce-deployments.md)
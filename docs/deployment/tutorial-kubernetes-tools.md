---
title: Руководстве по Kubernetes инструменты | Документация Майкрософт
ms.custom: ''
ms.date: 06/08/2018
ms.technology: vs-ide-deployment
ms.topic: conceptual
author: ghogen
ms.author: ghogen
manager: douge
ms.workload:
- azure
ms.openlocfilehash: 778ad9112d4133871bd15292847d21af73c3ad86
ms.sourcegitcommit: 12e2f963dac76d53f87569c01198f6d0396d64cf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/12/2018
ms.locfileid: "44701713"
---
# <a name="get-started-with-visual-studio-kubernetes-tools"></a>Начало работы с Visual Studio Tools для Kubernetes

В Visual Studio Tools Kubernetes помощи в упрощении разработки контейнерных приложений, предназначенных для Kubernetes. Visual Studio может автоматически создавать код конфигурации как файлы, необходимые для поддержки развертывания Kubernetes, такие как файлы Dockerfile и Helm диаграммы. Отладку кода в службе Azure Kubernetes (AKS) кластеру в оперативном режиме с помощью пространств разработки Azure или публиковать непосредственно в кластер AKS в Visual Studio.

## <a name="prerequisites"></a>Предварительные требования

Чтобы использовать эти новые функции, вам потребуется:

- Последнюю версию [Visual Studio 2017](https://visualstudio.microsoft.com/download) с *ASP.NET и веб-разработка* рабочей нагрузки.

- [Kubernetes средства для Visual Studio](https://aka.ms/get-vsk8stools), которые доступны для загрузки.

- [Docker для Windows](https://store.docker.com/editions/community/docker-ce-desktop-windows) на рабочей станции разработки (то есть когда вы запускаете Visual Studio), если вы хотите создать образы Docker, отладка контейнеров Docker, работающих локально, или опубликовать в AKS.

- Если вы хотите опубликовать AKS из Visual Studio:

    1.  [AKS, средства публикации](https://aka.ms/get-vsk8spublish), которые доступны для загрузки.

    1.  Кластер Azure Kubernetes Service. Дополнительные сведения см. в разделе [создание кластера AKS](/azure/aks/kubernetes-walkthrough-portal#create-aks-cluster). Убедитесь, что [подключитесь к кластеру](/azure/aks/kubernetes-walkthrough#connect-to-the-cluster) на рабочей станции разработки.

    1.  Helm CLI установлена на рабочей станции разработки. Дополнительные сведения см. в разделе [установке Helm](https://github.com/kubernetes/helm/blob/master/docs/install.md).

    1.  Helm, настроенным для кластера AKS с помощью `helm init` команды. Дополнительные сведения о том, как это сделать, см. в разделе [Настройка Helm](/azure/aks/kubernetes-helm#configure-helm).

## <a name="create-a-new-kubernetes-project"></a>Создайте новый проект Kubernetes

Получив соответствующие средства установлены, запустите Visual Studio и создайте новый проект. В разделе **Cloud**, выберите **приложение-контейнер для Kubernetes** тип проекта. Выберите этот тип проекта и выберите **ОК**.

![Снимок экрана создания нового проекта приложения Kubernetes](media/k8s-tools-new-k8s-app.png)

Затем можно выбрать тип ASP.NET Core веб-приложение для создания. Выберите **веб-приложение** и выберите **ОК**. Обычные **Включение поддержки Docker** параметр не отображается в этом диалоговом окне.  Поддержка docker включена по умолчанию для приложения-контейнера для Kubernetes.

![Снимок экрана: Выбор веб-приложения](media/k8s-tools-web-app-selection-screen.png)

## <a name="add-kubernetes-support-to-an-existing-project"></a>Добавить поддержку Kubernetes в существующий проект

Кроме того поддержка Kubernetes можно добавить существующий проект веб-приложения ASP.NET Core. Чтобы сделать это, щелкните правой кнопкой мыши проект и выберите **добавить** > **поддержки оркестратора контейнеров**.

![Снимок экрана: Добавление оркестратор контейнеров пункта меню](media/k8s-tools-add-container-orchestrator.png)

В диалоговом окне щелкните «Kubernetes/Helm» и выберите **ОК**.

![Снимок экрана: Добавление оркестратор контейнеров диалоговое окно](media/k8s-tools-add-container-orchestrator-dialog-box.PNG)

## <a name="what-visual-studio-creates-for-you"></a>Visual Studio создаст для вас

После создания нового **приложение-контейнер для Kubernetes** проект или добавление поддержки оркестратора контейнеров Kubernetes в существующий проект, вы видите некоторые дополнительные файлы в проекте, которые облегчают развертывание в Kubernetes.

![Снимок экрана обозревателя решений после добавления поддержки оркестратора контейнеров](media/k8s-tools-solution-explorer.png)

Добавлены файлы представляют собой:

- файл Dockerfile, который позволяет создавать Docker образ контейнера, размещение этого веб-приложения. Как вы увидите, инструменты Visual Studio использует этот файл Dockerfile, при отладке и развертывании в Kubernetes. Если вы предпочитаете работать непосредственно с образа Docker, можно щелкнуть файл Dockerfile и выбрать **сборки образа Docker**.

   ![Снимок экрана сборки образа Docker](media/k8s-tools-build-docker-image.png)

- чарт Helm и *диаграммы* папки. Эти файлы yaml составляющие диаграмма Helm для приложения, который можно использовать для развертывания на Kubernetes. Дополнительные сведения о Helm, см. в разделе [ https://www.helm.sh ](https://www.helm.sh).

- *azds.yaml*. Он содержит параметры для пространств разработки Azure, который обеспечивает быстрое, итеративные возможности отладки в службе Azure Kubernetes. Дополнительные сведения см. на [документации по Azure Dev пробелы](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces).

## <a name="publish-to-azure-kubernetes-service-aks"></a>Публикация в службу Azure Kubernetes (AKS)

Все эти файлы в месте можно использовать Visual Studio IDE также создавать и отлаживать код приложения, так же, как у вас всегда есть.

Получив ваш код, запущенный нужным образом, можно опубликовать непосредственно из Visual Studio в кластер AKS.

Чтобы сделать это, сначала необходимо еще раз убедиться, что вы установили все, как описано в разделе [предварительные требования](#prerequisities) раздел элемента, для публикации в AKS и выполните все приведенные в ссылки действия командной строки. Затем настройте профиль публикации, который публикует образ контейнера в реестр контейнеров Azure (ACR). Затем AKS можно получить образ контейнера из ACR и развернуть его в кластер.

1. В **обозревателе решений**, щелкните правой кнопкой мыши ваш *проекта* и выберите **публикации**.

   ![Снимок экрана публикации пункта меню](media/k8s-tools-publish-project.png)

1. В **публикации** экрана **реестр контейнеров** как публикация назначения, а затем следуйте инструкциям на экране выберите реестр контейнеров. Если у вас еще нет в реестр контейнеров, выберите **Создание нового реестра контейнеров Azure** создание его с Visual Studio. Дополнительные сведения см. в разделе [публикации контейнера в реестр контейнеров Azure](#publish-your-container-to-azure-container-registry).

   ![Снимок экрана выбора целевой экран публикации](media/k8s-tools-publish-to-acr.png)

1. В обозревателе решений щелкните правой кнопкой мыши ваш *решение* и нажмите кнопку **опубликовать в Azure AKS**.

   ![Снимок экрана из публикации в Azure AKS пункта меню](media/k8s-tools-publish-solution.png)

1. Выберите свою подписку и кластера AKS, вместе с ACR опубликовать профиль, который вы только что создали. Затем нажмите кнопку **ОК**.

   ![Снимок экрана из публикации экран AKS](media/k8s-tools-publish-to-aks.png)

   Вы перейдете к **опубликовать в Azure AKS** экрана.

1.  Выберите **Настройка Helm** ссылку, чтобы обновить строки команды, использованной для установки чарты Helm на сервере.

   ![Снимок экрана: Настройка Helm ссылку](media/k8s-tools-configure-helm.png)

   Обновление командной строки полезно в том случае, если пользовательские аргументы командной строки, которые вы хотите задать, например другое имя контекста или диаграммы Kubernetes.

   ![Снимок экрана с итоговыми из Helm Настройка экрана](media/k8s-tools-helm-configure-screen.png)

1. Когда вы готовы к развертыванию, нажмите кнопку **публикации** кнопку, чтобы опубликовать приложение в AKS.

   ![Снимок экрана: публикация в Azure AKS экрана](media/k8s-tools-publish-screen.png)

Поздравляем! Теперь можно использовать всю мощь Visual Studio для всех разработку приложений Kubernetes.

## <a name="next-steps"></a>Следующие шаги

Узнайте больше о разработке Kubernetes в Azure, считывая [документацией по AKS](/azure/aks).

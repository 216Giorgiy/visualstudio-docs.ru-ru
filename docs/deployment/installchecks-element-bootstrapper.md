---
title: "&lt;InstallChecks&gt; элемент (загрузчик) | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-deployment
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords: <InstallChecks> element [bootstrapper]
ms.assetid: ad329c87-b0ad-4304-84de-ae9496514c42
caps.latest.revision: "23"
author: stevehoag
ms.author: shoag
manager: wpickett
ms.openlocfilehash: 2a731c504355cbd3869790720af1f67f6c6bf0eb
ms.sourcegitcommit: aadb9588877418b8b55a5612c1d3842d4520ca4c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2017
---
# <a name="ltinstallchecksgt-element-bootstrapper"></a>&lt;InstallChecks&gt; элемент (загрузчик)
`InstallChecks` Элемент поддерживает запуск тестов на локальном компьютере, чтобы убедиться в том, что всех необходимых компонентов для приложения были установлены.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
<InstallChecks>  
    <AssemblyCheck   
        Property  
        Name  
        PublicKeyToken  
        Version  
        Language  
        ProcessorArchitecture  
    />  
    <RegistryCheck  
        Property  
        Key  
        Value  
    />  
    <ExternalCheck   
        PackageFile  
        Property  
        Arguments  
    />  
    <FileCheck   
        Property  
        FileName  
        SearchPath  
        SpecialFolder  
        SearchDepth  
    />  
    <MsiProductCheck   
        Property  
        Product  
        Feature  
    />  
    <RegistryFileCheck   
        Property  
        Key  
        Value  
        FileName  
        SearchDepth  
    />  
</InstallChecks>  
```  
  
## <a name="assemblycheck"></a>AssemblyCheck  
 Этот элемент является необязательным дочерним элементом элемента `InstallChecks`. Для каждого экземпляра `AssemblyCheck`, загрузчик проверит наличие сборку, указанную в элементе в глобальный кэш сборок (GAC). Он не содержит элементов и имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Property`|Обязательный. Имя свойства для хранения результата. Это свойство может ссылаться тест `InstallConditions` элемент, который является дочерним для `Command` элемента. Дополнительные сведения см. в разделе [ \<команды > элемент](../deployment/commands-element-bootstrapper.md).|  
|`Name`|Обязательный. Полное имя сборки.|  
|`PublicKeyToken`|Обязательный. Сокращенное название открытый ключ, связанный с этим строгое имя сборки. Все сборки, хранящиеся в глобальном кэше СБОРОК должны иметь имя, версию и открытый ключ.|  
|`Version`|Обязательный. Версия сборки.<br /><br /> Номер версии имеет формат \< *основной номер версии*>.\< *дополнительный номер версии*>.\< *версия сборки*>.\< *редакция*>.|  
|`Language`|Необязательно. Язык локализованной сборки. Значение по умолчанию — `neutral`.|  
|`ProcessorArchitecture`|Необязательно. Процессор компьютера предназначена эта установка. Значение по умолчанию — `msil`.|  
  
## <a name="externalcheck"></a>ExternalCheck  
 Этот элемент является необязательным дочерним элементом элемента `InstallChecks`. Для каждого экземпляра `ExternalCheck`, загрузчик выполнение именованную внешнюю программу в отдельном процессе и сохранить ее код выхода в свойстве, указанным с `Property`. `ExternalCheck`полезен для реализации проверок сложных зависимостей, единственным способом проверки наличия компонента при необходимости создавать его экземпляр.  
  
 `ExternalCheck`не содержит элементов и имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Property`|Обязательный. Имя свойства для хранения результата. Это свойство может ссылаться тест `InstallConditions` элемент, который является дочерним для `Command` элемента. Дополнительные сведения см. в разделе [ \<команды > элемент](../deployment/commands-element-bootstrapper.md).|  
|`PackageFile`|Обязательный. Внешнюю программу для выполнения. Программа должна быть частью установочного пакета.|  
|`Arguments`|Необязательно. Аргументы командной строки для исполняемого файла с именем `PackageFile`.|  
  
## <a name="filecheck"></a>FileCheck  
 Этот элемент является необязательным дочерним элементом элемента `InstallChecks`. Для каждого экземпляра `FileCheck`, загрузчик определяет, существует ли файл с именем и возвращает номер версии файла. Если файл не имеет номер версии, начальный загрузчик задает свойства с именем `Property` значение 0. Если файл не существует, `Property` не задано любое значение.  
  
 `FileCheck`не содержит элементов и имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Property`|Обязательный. Имя свойства для хранения результата. Это свойство может ссылаться тест `InstallConditions` элемент, который является дочерним для `Command` элемента. Дополнительные сведения см. в разделе [ \<команды > элемент](../deployment/commands-element-bootstrapper.md).|  
|`FileName`|Обязательный. Имя файла для поиска.|  
|`SearchPath`|Обязательный. Диск или папку, в которой выполняется поиск файла. Это должен быть относительным путем, если `SpecialFolder` назначенный; в противном случае он должен быть абсолютным путем.|  
|`SpecialFolder`|Необязательно. Папки, которая имеет специальное значение в Windows или [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)]. Значение по умолчанию — для интерпретации `SearchPath` как абсолютный путь. Допустимы следующие значения:<br /><br /> `AppDataFolder`. Папке данных приложения, это [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение; только к текущему пользователю.<br /><br /> `CommonAppDataFolder`. Папке данных приложения, используемых всеми пользователями.<br /><br /> `CommonFilesFolder`. Папка общих файлов для текущего пользователя.<br /><br /> `LocalDataAppFolder`. Папка данных для приложений, не перемещается.<br /><br /> `ProgramFilesFolder`. Стандартная папка Program Files для 32-разрядных приложений.<br /><br /> `StartUpFolder`. Папка, содержащая все приложения, запускаемые при запуске системы.<br /><br /> `SystemFolder`. Папка, содержащая 32-разрядной системе библиотеки DLL.<br /><br /> `WindowsFolder`. Папка, содержащая операционной системе Windows.<br /><br /> `WindowsVolume`. Диск или раздел, содержащий операционной системе Windows.|  
|`SearchDepth`|Необязательно. Глубина, на котором выполняется поиск вложенные папки для указанного файла. Поиск в глубину. Значение по умолчанию — 0, что ограничивает поиск в папке верхнего уровня, заданной параметром `SpecialFolder` и **SearchPath**.|  
  
## <a name="msiproductcheck"></a>MsiProductCheck  
 Этот элемент является необязательным дочерним элементом элемента `InstallChecks`. Для каждого экземпляра `MsiProductCheck`, начальный загрузчик проверяет, выполнялась ли указанный установки установщика Windows до его завершения. Значение свойства устанавливается в зависимости от состояния установленного продукта. Положительное значение указывает, установлен продукт, 0 или -1 указывает, она не установлена. (См. в разделе MsiQueryFeatureState функции пакета SDK установщика Windows для получения дополнительной информации.) . Если на компьютере не установлен установщик Windows `Property` не задано.  
  
 `MsiProductCheck`не содержит элементов и имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Property`|Обязательный. Имя свойства для хранения результата. Это свойство может ссылаться тест `InstallConditions` элемент, который является дочерним для `Command` элемента. Дополнительные сведения см. в разделе [ \<команды > элемент](../deployment/commands-element-bootstrapper.md).|  
|`Product`|Обязательный. Идентификатор GUID для установленного продукта.|  
|`Feature`|Необязательно. Идентификатор GUID для определенного компонента, установленного приложения.|  
  
## <a name="registrycheck"></a>RegistryCheck  
 Этот элемент является необязательным дочерним элементом элемента `InstallChecks`. Для каждого экземпляра `RegistryCheck`, начальный загрузчик проверяет, существует ли указанный раздел реестра или содержит указанное значение.  
  
 `RegistryCheck`не содержит элементов и имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Property`|Обязательный. Имя свойства для хранения результата. Это свойство может ссылаться тест `InstallConditions` элемент, который является дочерним для `Command` элемента. Дополнительные сведения см. в разделе [ \<команды > элемент](../deployment/commands-element-bootstrapper.md).|  
|`Key`|Обязательный. Имя раздела реестра.|  
|`Value`|Необязательно. Имя извлекаемого значения реестра. По умолчанию используется для возврата текстового значения по умолчанию. `Value`должна быть строка или тип DWORD.|  
  
## <a name="registryfilecheck"></a>RegistryFileCheck  
 Этот элемент является необязательным дочерним элементом элемента `InstallChecks`. Для каждого экземпляра `RegistryFileCheck`, начальный загрузчик извлекает номер версии указанного файла впервые пытается получить путь к файлу из указанного раздела реестра. Это особенно полезно в том случае, если вы хотите найти файл в каталоге, указанном в качестве значения в реестре.  
  
 `RegistryFileCheck`не содержит элементов и имеет следующие атрибуты.  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|`Property`|Обязательный. Имя свойства для хранения результата. Это свойство может ссылаться тест `InstallConditions` элемент, который является дочерним для `Command` элемента. Дополнительные сведения см. в разделе [ \<команды > элемент](../deployment/commands-element-bootstrapper.md).|  
|`Key`|Обязательный. Имя раздела реестра. Его значение интерпретируется как путь к файлу, если только `File` атрибут имеет значение. Если этот ключ не существует, `Property` не задано.|  
|`Value`|Необязательно. Имя извлекаемого значения реестра. По умолчанию используется для возврата текстового значения по умолчанию. `Value`должно быть строкой.|  
|`FileName`|Необязательно. Имя файла. Если указано, значение, полученное из раздела реестра считается путь к каталогу, и оно добавляется к нему. Если не указан, предполагается, что значение, возвращаемое из реестра быть полный путь к файлу.|  
|`SearchDepth`|Необязательно. Глубина, на котором выполняется поиск вложенные папки для указанного файла. Поиск в глубину. Значение по умолчанию — 0, ограничивающее поиск папкой верхнего уровня, заданного значением раздела реестра.|  
  
## <a name="remarks"></a>Примечания  
 Хотя элементов, расположенных под `InstallChecks` определение тестов для запуска, но не выполняют их. Для выполнения тестов, необходимо создать `Command` элементов, расположенных под `Commands` элемента.  
  
## <a name="example"></a>Пример  
 В следующем примере кода показано `InstallChecks` элемент, как оно используется в файле продукта для [!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)].  
  
```  
<InstallChecks>  
    <ExternalCheck Property="DotNetInstalled" PackageFile="dotnetchk.exe" />  
    <RegistryCheck Property="IEVersion" Key="HKLM\Software\Microsoft\Internet Explorer" Value="Version" />  
</InstallChecks>  
```  
  
## <a name="installconditions"></a>InstallConditions  
 Когда `InstallChecks` , вычисляется, они создают свойства. Свойства используются `InstallConditions` для определения, должен ли пакет установки, обход или вызвать сбой. В следующей таблице перечислены `InstallConditions`:  
  
|||  
|-|-|  
|`FailIf`|При наличии `FailIf` условие принимает значение true, выполнение пакета завершится ошибкой. Остальные условия не проверяются.|  
|`BypassIf`|При наличии `BypassIf` условие принимает значение true, пакет не выполняется. Остальные условия не проверяются.|  
  
## <a name="predefined-properties"></a>Стандартные свойства  
 В следующей таблице перечислены `BypassIf` и `FailIf` элементы:  
  
|Свойство|Примечания|Возможные значения|  
|--------------|-----------|---------------------|  
|`Version9X`|Номер версии операционной системы Windows 9 X.|4.10 = Windows 98|  
|`VersionNT`|Номер версии операционной системы на базе Windows NT.|Major.Minor.ServicePack<br /><br /> 5.0 = Windows 2000<br /><br /> 5.1.0 Windows XP =<br /><br /> 5.1.2 = Windows XP Professional SP2<br /><br /> 5.2.0 = Windows Server 2003|  
|`VersionNT64`|Номер версии на базе Windows NT 64-разрядной операционной системе.|То же, как описано выше.|  
|`VersionMsi`|Номер версии службы установщика Windows.|2.0 = установщика Windows версии 2.0|  
|`AdminUser`|Указывает, имеет ли пользователь права администратора в операционной системе на базе Windows NT.|0 = нет привилегий администратора<br /><br /> 1 = права администратора|  
  
 Например чтобы заблокировать установку на компьютере под управлением Windows 95, используйте следующий код:  
  
```  
<!-- Block install on Windows 95 -->  
    <FailIf Property="Version9X" Compare="VersionLessThan" Value="4.10" String="InvalidPlatform"/>  
```  
  
## <a name="see-also"></a>См. также  
 [\<Команды > элемент](../deployment/commands-element-bootstrapper.md)   
 [Справочные сведения о схеме пакетов и продуктов](../deployment/product-and-package-schema-reference.md)
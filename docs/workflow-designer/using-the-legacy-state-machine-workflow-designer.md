---
title: "В конструкторе рабочих процессов прежних версий машины | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: reference
helpviewer_keywords:
- StateFinalizationActivity activity
- StateActivity activity
- SetStateActivity activity
- EventDrivenActivity activity
- state machine workflow designer
- state machine workflows, designer
- state machine workflows, activities
- StateInitializationActivity activity
ms.assetid: 2cd21123-35c2-4eaf-82f6-86fce7a8f04d
caps.latest.revision: "5"
author: ErikRe
ms.author: erikre
manager: erikre
ms.workload: multiple
ms.openlocfilehash: 99be4338bcee9ffb5c7cb9cf28f6187128345f85
ms.sourcegitcommit: 32f1a690fc445f9586d53698fc82c7debd784eeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="using-the-legacy-state-machine-workflow-designer"></a>Использование конструктора рабочих процессов конечного автомата для прежних версий
При создании нового проекта рабочего процесса состояние компьютера в [!INCLUDE[vs2010](../misc/includes/vs2010_md.md)] , ориентированного [!INCLUDE[netfx35_long](../workflow-designer/includes/netfx35_long_md.md)] или [!INCLUDE[vstecwinfx](../workflow-designer/includes/vstecwinfx_md.md)], вы можете использовать любой **рабочего процесса консольного приложения автомата** или  **Состояние библиотеки рабочего процесса машины** шаблонов проекта прежних версий. Если выбрать один из этих шаблонов проекта конечного автомата, то конструктор конечного автомата использует пользовательский интерфейс конструктора рабочих процессов прежней версии. Сведения об устаревших шаблонов проекта конечного автомата см. в разделе [как: создать состояние компьютера рабочего процесса консольных приложений (для прежних версий)](../workflow-designer/how-to-create-state-machine-workflow-console-applications-legacy.md) и [как: Создание библиотеки рабочего процесса автомата (для прежних версий)](../workflow-designer/how-to-create-a-state-machine-workflow-library-legacy.md).  
  
 Рабочий процесс конечного автомата состоит из набора состояний. Одно состояние обозначается как начальное состояние. Каждое состояние может получить определенный набор событий. В зависимости от события, может быть сделан переход в другое состояние. Рабочий процесс конечного автомата может иметь конечное состояние. При переходе в конечное состояние рабочий процесс завершается.  
  
## <a name="state-machine-designer-views"></a>Представления конструктора конечных автоматов  
 Конструктор конечных автоматов - это конструктор свободных форм, что в свою очередь означает, что действия могут свободно перемещаться в рабочей области конструктора. Конструктор конечных автоматов имеет два представления: *состояние* представление и *событиями* представления.  
  
 В представлении состояния показываются действия, связанные с состоянием, и действия, управляемые событиями, которые могут содержаться в действии, связанном с состоянием. В этом представлении переход из одного состояние в другое представляется линиями, которые исходят из действия, управляемого событием, из одного состояния в другое. Также можно создавать переходы путем рисования линии. Чтобы нарисовать переход, выберите действие, управляемое событием, далее выберите один из маркеров в действии и перетащите его. При этом рисуется линия. Далее эта линия прикрепляется в целевому состоянию с указанием перехода между состояниями.  
  
 Для доступа к представлению, управляемому событием, дважды щелкните действие, управляемое событиями. Появившийся конструктор очень похож на конструктор последовательных рабочих процессов. На панели переходов в верхней части конструктора показана иерархия действий до отображаемого действия, управляемого событиями. Переход назад к представлению состояния можно выполнить по щелчку любого элемента в показанной иерархии. Если в представлении состояния был нарисован переход из одного состояния в другое и если для этого действия отображается представление, управляемое событиями, то к действию, управляемому событием, добавляется действие установки состояния. Если изменить свойства действия установки состояния, то это отражается в представлении состояния.  
  
## <a name="state-machine-workflow-activities"></a>Действия рабочего процесса конечного автомата  
 В следующей таблице представлены основные действия, которые используются в конструкторе рабочих процессов конечного автомата.  
  
|Имя панели элементов|Действие|Описание:|  
|------------------|--------------|-----------------|  
|**Состояние**|[StateActivity](http://go.microsoft.com/fwlink?LinkID=65042)|Представляет состояние в конечном автомате; может содержать дополнительные **StateActivity** действия. Дополнительные сведения см. в разделе [использование действия StateActivity](http://go.microsoft.com/fwlink?LinkID=65083).|  
|**SetState**|[SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65041)|Задает переход к новому состоянию. Дополнительные сведения см. в разделе [использование действия SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65082).|  
|**StateInitialization**|[StateInitializationActivity](http://go.microsoft.com/fwlink?LinkID=65044)|Выполняется при входе в состояние; может содержать другие действия. Дополнительные сведения см. в разделе [использование действия StateInitialization](http://go.microsoft.com/fwlink?LinkID=65006).|  
|**StateFinalization**|[StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65043)|Выполняет вложенные операции при выходе из [StateActivity](http://go.microsoft.com/fwlink?LinkID=65042) действия. Дополнительные сведения см. в разделе [использование действия StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65008).|  
|**EventDriven**|[EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65029)|Используется для состояний, которые начинают выполняться при возникновении внешних событий. **EventDrivenActivity** действия должен быть действием, которое реализует [IEventActivity](http://go.microsoft.com/fwlink?LinkID=65032) интерфейс в качестве первого дочернего действия. Дополнительные сведения см. в разделе [использование действия EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65068).|  
  
 Основным компонентом в конечного автомата является [StateActivity](http://go.microsoft.com/fwlink?LinkID=65042) действия. Поскольку события захватываются в различных точках рабочего процесса конечного автомата, вводятся различные состояния для обработки задач, которые связаны с событиями. В течение времени существования рабочий процесс может выходить и входить в несколько различных состояний. Эти состояния соединяются друг с другом с помощью [SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65041) действия.  
  
 При перетаскивании нового **StateActivity** в область конструктора рабочих процессов, можно добавить [EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65029), [StateInitializationActivity](http://go.microsoft.com/fwlink?LinkID=65044), [ StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65043), или дополнительные **StateActivity** действия в качестве дочерних действий.  
  
> [!CAUTION]
>  При использовании конструктор конечных автоматов рабочего процесса для создания рабочих процессов, необходимо отслеживать структуру рабочего процесса с **Структура документа** окно просмотра. Представление структуры рабочего потока конечного компьютера в **Структура документа** представление окна отражает логическую структуру действий в файле разметки рабочего процесса. Физическая структура действий рабочего процесса в том виде, в котором они появляются в рабочей области конструктора, может не отражать логическую структуру действий в файле разметки рабочего процесса.  
>   
>  Чтобы открыть **Структура документа** окна на **представление** последовательно выберите пункты **другие окна**и выберите **Структура документа**.  
  
## <a name="see-also"></a>См. также  
 [Как: Создание консольного приложения рабочего процесса конечного автомата (для прежних версий)](../workflow-designer/how-to-create-state-machine-workflow-console-applications-legacy.md)   
 [Как: Создание библиотеки рабочего процесса конечного автомата (для прежних версий)](../workflow-designer/how-to-create-a-state-machine-workflow-library-legacy.md)   
 [Рабочие процессы конечного автомата](http://go.microsoft.com/fwlink?LinkID=65016)   
 [Использование действия StateActivity](http://go.microsoft.com/fwlink?LinkID=65083)   
 [Используя действие StateInitializationActivity](http://go.microsoft.com/fwlink?LinkID=65006)   
 [Использование действия StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65008)   
 [Использование действия SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65082)   
 [Использование действия EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65068)
---
title: "Использование конструктора рабочих процессов конечного автомата для прежних версий | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "reference"
helpviewer_keywords: 
  - "действие EventDrivenActivity"
  - "действие SetStateActivity"
  - "конструктор рабочих процессов конечного автомата"
  - "рабочие процессы конечного автомата, действия"
  - "рабочие процессы конечного автомата, конструктор"
  - "действие StateActivity"
  - "действие StateFinalizationActivity"
  - "действие StateInitializationActivity"
ms.assetid: 2cd21123-35c2-4eaf-82f6-86fce7a8f04d
caps.latest.revision: 5
caps.handback.revision: 5
author: "ErikRe"
ms.author: "erikre"
manager: "erikre"
---
# Использование конструктора рабочих процессов конечного автомата для прежних версий
При создании в [!INCLUDE[vs2010](../modeling/includes/vs2010_md.md)] нового проекта рабочего процесса конечного автомата, ориентированного на [!INCLUDE[netfx35_long](../workflow-designer/includes/netfx35_long_md.md)] или [!INCLUDE[vstecwinfx](../workflow-designer/includes/vstecwinfx_md.md)], можно выбрать один из шаблонов проекта прежних версий: **Консольное приложение рабочего процесса конечного автомата** или **Библиотека рабочего процесса конечного автомата**.Если выбрать один из этих шаблонов проекта конечного автомата, то конструктор конечного автомата использует пользовательский интерфейс конструктора рабочих процессов прежней версии.Дополнительные сведения о шаблонах проектов конечного автомата прежних версий см. в разделах [Как создать консольные приложения рабочих процессов конечных автоматов \(для прежних версий\)](../Topic/How%20to:%20Create%20State%20Machine%20Workflow%20Console%20Applications%20\(Legacy\).md) и [Как создать библиотеку рабочих процессов конечного автомата \(для прежних версий\)](../Topic/How%20to:%20Create%20a%20State%20Machine%20Workflow%20Library%20\(Legacy\).md).  
  
 Рабочий процесс конечного автомата состоит из набора состояний.Одно состояние обозначается как начальное состояние.Каждое состояние может получить определенный набор событий.В зависимости от события может быть сделан переход в другое состояние.Рабочий процесс конечного автомата может иметь конечное состояние.При переходе в конечное состояние рабочий процесс завершается.  
  
## Представления конструктора конечных автоматов  
 Конструктор конечных автоматов — это конструктор свободных форм, что в свою очередь означает, что действия могут свободно перемещаться в рабочей области конструктора.Конструктор конечных автоматов имеет два представления: представление *состояния* и представление, *управляемое событиями*.  
  
 В представлении состояния показываются действия, связанные с состоянием, и действия, управляемые событиями, которые могут содержаться в действии, связанном с состоянием.В этом представлении переход из одного состояние в другое представляется линиями, которые исходят из действия, управляемого событием, из одного состояния в другое.Также можно создавать переходы путем рисования линии.Чтобы нарисовать переход, выберите действие, управляемое событием, далее выберите один из маркеров в действии и перетащите его.При этом рисуется линия.Далее эта линия прикрепляется в целевому состоянию с указанием перехода между состояниями.  
  
 Для доступа к представлению, управляемому событием, дважды щелкните действие, управляемое событиями.Появившийся конструктор очень похож на конструктор последовательных рабочих процессов.На панели переходов в верхней части конструктора показана иерархия действий до отображаемого действия, управляемого событиями.Переход назад к представлению состояния можно выполнить по щелчку любого элемента в показанной иерархии.Если в представлении состояния был нарисован переход из одного состояния в другое и если для этого действия отображается представление, управляемое событиями, то к действию, управляемому событием, добавляется действие установки состояния.Если изменить свойства действия установки состояния, то это отражается в представлении состояния.  
  
## Действия рабочего процесса конечного автомата  
 В следующей таблице представлены основные действия, которые используются в конструкторе рабочих процессов конечного автомата.  
  
|Имя панели элементов|Действие|Описание|  
|--------------------------|--------------|--------------|  
|**Состояние**|[StateActivity](http://go.microsoft.com/fwlink?LinkID=65042)|Представляет состояние в конечном автомате; может содержать дополнительные действия **StateActivity**.Дополнительные сведения см. в разделе [Использование действия StateActivity](http://go.microsoft.com/fwlink?LinkID=65083).|  
|**SetState**|[SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65041)|Задает переход к новому состоянию.Дополнительные сведения см. в разделе [Использование действия SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65082).|  
|**StateInitialization**|[StateInitializationActivity](http://go.microsoft.com/fwlink?LinkID=65044)|Выполняется при входе в состояние; может содержать другие действия.Дополнительные сведения см. в разделе [Использование действия StateInitialization](http://go.microsoft.com/fwlink?LinkID=65006).|  
|**StateFinalization**|[StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65043)|Выполняет содержащиеся действия при выходе из действия [StateActivity](http://go.microsoft.com/fwlink?LinkID=65042).Дополнительные сведения см. в разделе [Использование действия StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65008).|  
|**EventDriven**|[EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65029)|Используется для состояний, которые начинают выполняться при возникновении внешних событий.Действие **EventDrivenActivity** должно содержать действие, которое реализует интерфейс [IEventActivity](http://go.microsoft.com/fwlink?LinkID=65032) как первое дочернее действие.Дополнительные сведения см. в разделе [Использование действия EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65068).|  
  
 Основным компонентом в рабочем процессе конечного автомата является действие [StateActivity](http://go.microsoft.com/fwlink?LinkID=65042).Поскольку события захватываются в различных точках рабочего процесса конечного автомата, вводятся различные состояния для обработки задач, которые связаны с событиями.В течение времени существования рабочий процесс может выходить и входить в несколько различных состояний.Эти состояния соединяются между собой с помощью действия [SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65041).  
  
 При перетаскивании нового действия **StateActivity** на рабочую область конструктора можно добавить действия [EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65029), [StateInitializationActivity](http://go.microsoft.com/fwlink?LinkID=65044), [StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65043) или дополнительное действие **StateActivity** в качестве дочерних действий.  
  
> [!CAUTION]
>  При использовании конструктора рабочих процессов конечного автомата необходимо отслеживать структуру разрабатываемого рабочего процесса с помощью окна представления **Структура документа**.Представление структуры рабочего процесса конечного автомата в окне представления **Структура документа** отражает логическую структуру действий в файле разметки рабочего процесса.Физическая структура действий рабочего процесса в том виде, в котором они появляются в рабочей области конструктора, может не отражать логическую структуру действий в файле разметки рабочего процесса.  
>   
>  Чтобы открыть окно **Структура документа**, в меню **Вид** выберите **Другие окна**, далее выберите **Структура документа**.  
  
## См. также  
 [Как создать консольные приложения рабочих процессов конечных автоматов \(для прежних версий\)](../Topic/How%20to:%20Create%20State%20Machine%20Workflow%20Console%20Applications%20\(Legacy\).md)   
 [Как создать библиотеку рабочих процессов конечного автомата \(для прежних версий\)](../Topic/How%20to:%20Create%20a%20State%20Machine%20Workflow%20Library%20\(Legacy\).md)   
 [Рабочие процессы конечного автомата](http://go.microsoft.com/fwlink?LinkID=65016)   
 [Использование действия StateActivity](http://go.microsoft.com/fwlink?LinkID=65083)   
 [Использование действия StateInitializationActivity](http://go.microsoft.com/fwlink?LinkID=65006)   
 [Использование действия StateFinalizationActivity](http://go.microsoft.com/fwlink?LinkID=65008)   
 [Использование действия SetStateActivity](http://go.microsoft.com/fwlink?LinkID=65082)   
 [Использование действия EventDrivenActivity](http://go.microsoft.com/fwlink?LinkID=65068)
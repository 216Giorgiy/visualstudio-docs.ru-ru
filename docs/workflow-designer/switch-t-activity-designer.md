---
title: "Конструктор действия Switch&lt;T&gt; | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "reference"
f1_keywords: 
  - "System.Activities.Presentation.ModelItemKeyValuePair.UI"
  - "System.Activities.Statements.Switch`1.UI"
ms.assetid: 18a6c96e-49a9-4356-ab61-fbd7e3ab44bb
caps.latest.revision: 3
author: "ErikRe"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 3
---
# Конструктор действия Switch&lt;T&gt;
Действие <xref:System.Activities.Statements.Switch%601> оценивает указанное выражение и выполняет действие из коллекции действий, где связанные ключи соответствуют значениям, полученным от оценки.  
  
 Конструктор операций **Switch\<T\>** используется для создания и настройки действия <xref:System.Activities.Statements.Switch%601> в [!INCLUDE[wfd1](../workflow-designer/includes/wfd1_md.md)].  
  
## Действие Switch\<T\>Activity  
 Действие <xref:System.Activities.Statements.Switch%601> состоит из <xref:System.Activities.Statements.Switch%601.Expression%2A> и словаря <xref:System.Activities.Statements.Switch%601.Cases%2A>.Каждый вариант в словаре содержит пару, в которой присутствует *key*, и действие, которое соответственно служит его *value*.Действие <xref:System.Activities.Statements.Switch%601> выполняет оценку <xref:System.Activities.Statements.Switch%601.Expression%2A> и сравнивает его с каждым ключом.Если обнаружено совпадение, выполняется соответствующее действие.Возможно только одно совпадение, поскольку словарные ключи должны быть уникальны согласно типу равенства, определенному в модуле сравнения словаря.Если совпадения не обнаружено, выполняется действие <xref:System.Activities.Statements.Switch%601.Default%2A>.  
  
## Использование конструктора операций Switch\<T\>  
 Конструктор операций **Switch\<T\>** можно найти в категории **Поток управленияОбласти элементов**, нажав на вкладку **Область элементов** в [!INCLUDE[wfd2](../workflow-designer/includes/wfd2_md.md)] \(Иначе выберите **Область элементов** из меню **Просмотр**, или же CTRL\+ALT\+X.\) После его перетаскивания [!INCLUDE[wfd2](../workflow-designer/includes/wfd2_md.md)] отображается диалоговое окно «**Выбор типов**», в котором пользователь может указать универсальный тип *T*, используемый для действия <xref:System.Activities.Statements.Switch%601> activity.Значение по умолчанию — **Int32**.Как только универсальный тип *T* выбран, конструктор **Switch\<T\>** добавляется в конструктор рабочего процесса.  
  
 Ниже указаны свойства конструктора **Switch\<T\>**.Все эти свойства можно изменить при помощи таблицы свойств.Некоторые из них можно также изменить в поверхности конструктора.  
  
 В следующей таблице показаны наиболее используемые свойства действия <xref:System.Activities.Statements.Switch%601>, а также приводится описание их использования в конструкторе.  
  
|Имя свойства|Обязательное|Использование|  
|------------------|------------------|-------------------|  
|<xref:System.Activities.Activity.DisplayName%2A>|Нет|Указывает понятное имя конструктора операции <xref:System.Activities.Statements.Switch%601>.Значение по умолчанию — Switch\<Int32\>.Значение можно изменить в окне **Свойства** или напрямую в заголовке конструктора.<br /><br /> Несмотря на то, что значения <xref:System.Activities.Activity.DisplayName%2A> не является обязательным, его все же рекомендуется использовать.|  
|<xref:System.Activities.Statements.Switch%601.Expression%2A>|Да|Указывает выражение, которое используется для сравнения ключей в коллекции вариантов для определения, какой вариант следует выполнить.|  
|<xref:System.Activities.Statements.Switch%601.Default%2A>||Указывает действие, которое следует выполнить, если совпадений не обнаружено.Нажмите кнопку конструктора «**Добавить действие**», чтобы открыть диалоговое окно «**По умолчанию**», в которое можно поместить действие.|  
|<xref:System.Activities.Statements.Switch%601.Cases%2A>||Указание вариантов для оценки.Чтобы добавить вариант, щелкните «**Добавить вариант**» в нижней части конструктора **Switch\<T\>**.Кнопка преобразуется в текстовое поле \(поле со списком, если выбран универсальный тип String или Enum при добавлении Switch\<T\>\).После добавления ключа в окне **Значение варианта** область вариантов расширяется, и теперь в него можно добавить действие, перетащив его к подсказке «Перетащить действие сюда», чтобы определить логику выполнения для варианта.|  
  
 Можно добавлять несколько вариантов, однако необходимо исключить дублирование ключей.При вводе дублирующего ключа отобразится диалоговое окно, указывающее, что ключ варианта уже существует и что необходимо выбрать другой ключ.В конструкторе **Switch\<T\>** можно одновременно просмотреть только одну область варианта case.Если область вариантов отображается в свернутом представлении, область вариантов можно развернуть, щелкнув его.Обратите внимание, что в свернутом варианте конструктор показывает отображаемое имя действия внутри варианта справа, если оно назначено.В противном случае отображается кнопка «**Добавить действие**», с помощью которой можно развернуть вариант и добавить действие.  
  
 Щелчок ключа существующего варианта преобразует ключ метки в текстовом поле так, что он становится доступным для изменения.  
  
 Есть два способа удаления варианта:  
  
1.  Выбрать вариант и удалить.  
  
2.  Выбрать вариант, щелкнуть правой кнопкой, чтобы отобразить контекстное меню и выбрать пункт **Удалить**.  
  
 Обратите внимание, что для удаления необходимо выбрать сам вариант.Выбор и удаление действия в рамках варианта удаляет действие, но не вариант.  
  
## См. также  
 [Управление потоком](../workflow-designer/control-flow-activity-designers.md)
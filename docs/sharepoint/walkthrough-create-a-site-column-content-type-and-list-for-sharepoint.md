---
title: "Пошаговое руководство. Создание столбца сайта, типа содержимого и списка для SharePoint"
ms.custom: ""
ms.date: "02/02/2017"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "office-development"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "VS.SharePointTools.ListDesigner.GeneralMessageHelp"
  - "Microsoft.VisualStudio.SharePoint.Designers.ListDesigner.ViewModels.ListViewModel.SortingAndGrouping"
  - "VS.SharePointTools.ListDesigner.SortingGrouping"
dev_langs: 
  - "VB"
  - "CSharp"
  - "VB"
  - "CSharp"
helpviewer_keywords: 
  - "разработка приложений SharePoint в Visual Studio, типы контента"
  - "разработка приложений SharePoint в Visual Studio, поля"
  - "разработка приложений SharePoint в Visual Studio, определения списков"
  - "разработка приложений SharePoint в Visual Studio, экземпляры списков"
ms.assetid: caebacc2-616c-4373-8e21-edc7979338e7
caps.latest.revision: 54
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
caps.handback.revision: 53
---
# Пошаговое руководство. Создание столбца сайта, типа содержимого и списка для SharePoint
  Следующая последовательность действий демонстрирует, как создать пользовательский столбец сайта SharePoint \(или *поля*\), а также тип содержимого, который использует столбцы сайтов.  Также показано, как создать список, использующий новый тип содержимого.  
  
 Это пошаговое руководство включает в себя следующие задачи:  
  
-   [Создание пользовательских столбцов сайтов](#BKMK_CreatingCustSiteCols).  
  
-   [Создание пользовательского типа содержимого](#BKMK_CreateCustContType).  
  
-   [Создание списка](#BKMK_CreateList).  
  
-   [Создание списка](#BKMK_CreateList).  
  
-   [Тестирование приложения](#BKMK_TestApp).  
  
 [!INCLUDE[note_settings_general](../sharepoint/includes/note-settings-general-md.md)]  
  
## Обязательные компоненты  
 Ниже приведены компоненты, необходимые для выполнения данного пошагового руководства.  
  
-   Поддерживаемые версии Windows и SharePoint.  Для получения дополнительной информации см. [Требования по разработке решений SharePoint](../sharepoint/requirements-for-developing-sharepoint-solutions.md).  
  
-   Visual Studio.  
  
##  <a name="BKMK_CreatingCustSiteCols"></a> Создание пользовательских столбцов сайтов  
 В этом примере создается список для управления пациентами в больнице.  Во\-первых, необходимо создать новый проект SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] и добавить столбцы сайтов в него следующим образом.  
  
#### Создание проекта  
  
1.  В меню [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)]**Файл** выберите **Создать**, **Проект**.  
  
2.  В диалоговом окне **Создание проекта** разверните папку **Visual Basic** или **Visual C\#**, разверните узел **SharePoint** и выберите **2010**.  
  
3.  В панели **Шаблоны** выберите **Проект SharePoint 2010**, назовите проект Clinic, а затем нажмите кнопку **ОК**.  
  
     Шаблон проекта SharePoint 2010 это пустой проект, который используется в этом примере для хранения столбцов сайта и других элементов проекта, добавленных позже.  
  
4.  На странице **Укажите сайт и уровень безопасности для отладки** введите URL\-адрес локального сайта SharePoint, в который требуется добавить пользовательский элемент поля, или примите расположение по умолчанию \(`http://<`*SystemName*`>/)`.  
  
5.  В разделе **Какова степень доверия для этого решения SharePoint?** используйте значение по умолчанию **Развернуть как изолированное решение**.  
  
     Дополнительные сведения об изолированных решениях и решениях фермы см. в разделе [Замечания об обезвреженных решениях](../sharepoint/sandboxed-solution-considerations.md).  
  
6.  Нажмите кнопку **Готово**.  Теперь проект должен быть указан в **Обозреватель решений**.  
  
#### Добавление столбцов сайта  
  
1.  Добавьте новый столбец сайта.  В **обозревателе решений** откройте контекстное меню для **Clinic** и последовательно выберите пункты **Добавить**, **Новый элемент**.  
  
2.  В диалоговом окне **Добавить новый элемент** выберите **Столбец сайта**, измените имя на Patient Name, а затем нажмите кнопку **Добавить**.  
  
3.  В файле Elements.xml столбца сайта, оставьте параметр **Тип** в **Текст** и измените параметр **Группа** на столбцы сайта клиники.  При полной, файл Elements.xml столбца сайта должен выглядеть как в следующем примере.  
  
    ```  
    <Field  
         ID="{f9ba60d1-5631-41fb-b016-a38cf48eef63}"  
         Name="Clinic - Patient Name"  
         DisplayName="Patient Name"  
         Type="Text"  
         Required="FALSE"  
         Group="Clinic Site Columns">  
    </Field>  
    ```  
  
4.  С помощью той же последовательности действий, добавьте два дополнительных столбца сайта на в проект: Patient ID \(Type \= «Integer»\) и Doctor Name \(Type \= «Text»\).  Задайте значение параметра Группы равным Clinic Site Columns.  
  
##  <a name="BKMK_CreateCustContType"></a> Создание пользовательского типа содержимого  
 Теперь создайте тип содержимого \(основанный на типе содержимого Контакт\), который включает столбцы сайта созданные на предыдущем шаге.  Базируя тип содержимого на существующем типе содержимого, можно сэкономить время, так как базовый тип содержимого имеет несколько столбцов сайта для использования в новом типе содержимого.  
  
#### Создание пользовательского типа содержимого  
  
1.  Добавьте тип содержимого в проект.  Чтобы сделать это, в области **Обозреватель решений** выберите узел проекта.  
  
2.  В строке меню выберите **Проект**, **Добавить новый элемент**.  
  
3.  Разверните узел **SharePoint**, расположенный в области **Visual C\#** или **Visual Basic**, и выберите узел **2010**.  
  
4.  В области **Шаблоны** выберите шаблон **Тип содержимого**, измените имя на Patient Info, а затем нажмите кнопку **Добавить**.  
  
     Появится окно **Мастер настройки SharePoint**.  
  
5.  В списке **От какого базового типа содержимого должен наследоваться тип содержимого** выберите **Contact** в качестве типа содержимого, на котором основан новый тип содержимого, а затем нажмите кнопку **Готово**.  
  
     Это позволит получить доступ к другим потенциально полезным столбцам сайта в типе содержимого Contact, помимо столбцов, определенных ранее.  
  
6.  После того как конструктор типа содержимого отображается, на вкладке **Столбцы** добавьте 3 столбца сайта, определенного ранее. **Patient Name**, **Patient Id** и **Doctor Name**.  Чтобы добавить эти столбцы, выберите первый список столбцов сайта в разделе **Отображаемое имя**, а затем выберите каждый столбец сайта в списке по одному.  
  
    > [!TIP]  
    >  Чтобы выбрать столбцы сайта быстрее, надо отфильтровать список, введя первых нескольких букв имени столбца.  
  
7.  В дополнение к пользовательским 3 столбцов сайта, добавьте столбец сайта **Comments** из списка столбцов сайта.  
  
8.  Выделите флажок **Обязательно** для столбца сайта **Patient Name** и **Patient ID**, чтобы сделать их обязательными полями.  
  
9. На вкладке **Тип содержимого** убедитесь, что имя типа содержимого **Patient Info**, а затем изменить описание на Patient Information Card.  
  
10. Измените **Имя группы** на Clinic Content Types и оставьте другие параметры в значениях по умолчанию.  
  
11. В строке меню выберите **Файл**, **Сохранить все**, а затем закройте конструктор типа содержимого.  
  
##  <a name="BKMK_CreateList"></a> Создание списка  
 Теперь создайте список, который использует новый тип содержимого и столбцы сайтов.  
  
#### Создание списка  
  
1.  Добавление списка в проект.  Чтобы сделать это, в области **Обозреватель решений** выберите узел проекта.  
  
2.  В строке меню выберите **Проект**, **Добавить новый элемент**.  
  
3.  Разверните узел **SharePoint**, расположенный в области **Visual C\#** или **Visual Basic**, и выберите узел **2010**.  
  
4.  В области **Шаблоны** выберите шаблон **Список**, измените имя на Patients, а затем нажмите кнопку **Добавить**.  
  
5.  Оставьте параметр **Настройка списка основана на** равным **Значение по умолчанию \(пустой\)**, а затем нажмите кнопку **Готово**.  
  
6.  В конструкторе списка, нажмите кнопку **Типы содержимого**, чтобы открыть диалоговое окно **Параметры типа содержимого**.  
  
7.  Выберите новую строку, выберите тип содержимого **Patient Info** в списке типов содержимого, а затем нажмите кнопку **ОК**.  
  
     Это добавляет все столбцы из сайта тип содержимого в список **Patient Info**.  
  
8.  Удалите все столбцы сайтов в списке, кроме следующих.  
  
    -   Patient ID  
  
    -   Patient Name  
  
    -   Home phone  
  
    -   E\-Mail  
  
    -   Doctor Name  
  
    -   Комментарии  
  
9. В разделе **Отображаемое имя столбца** выберите пустую строку, добавьте столбец пользовательского списка и назовите его Hospital.  Оставьте его тип данных как **Single Line of Text**.  
  
     Столбец пользовательского списка применяется только к этому списку.  При добавлении пользовательского столбца списка, новый список типа содержимого, включая все столбцы, добавленные в список, создаются как список по умолчанию.  
  
    > [!TIP]  
    >  Если вы выберете столбец из списка столбцов сайта, существующий столбец сайта будет использоваться.  Однако если ввести значение имени столбца без какого\-либо столбца в списке, столбец пользовательского списка создается, даже если столбец с таким же именем уже существует в списке.  
  
     Кроме того, вместо установки типа данных для столбца пользовательского списка в **Single Line of Text**, можно вместо этого задать тип данных этого столбца как поисковый, и его значения, которые могут быть извлечены из таблицы или других списков.  Дополнительные сведения о столбцах поиска см. в разделе [Отношения между списками в SharePoint 2010](http://go.microsoft.com/fwlink/?LinkId=224994) и [Поиск и отношения между списками](http://go.microsoft.com/fwlink/?LinkID=224995).  
  
10. Рядом с полями **Patient ID** и **Patient Name** выберите флажок **Обязательно**.  
  
11. На вкладке **Представления** выберите пустую строку для создания представления.  Введите Patient Details.  
  
     На вкладке **Представления** можно задать столбцы, которые должны отображаться в списке SharePoint.  
  
12. Выберите новую строку **Patient Details**, а затем нажмите кнопку **По умолчанию**.  
  
     Новое представление стало представлением по умолчанию для списка.  
  
13. Добавьте следующие столбцы в список **Выбранные столбцы** в следующем порядке:  
  
    -   Patient ID  
  
    -   Patient Name  
  
    -   Home phone  
  
    -   E\-Mail  
  
    -   Doctor Name  
  
    -   Hospital  
  
    -   Комментарии  
  
14. В списке **Свойства** выберите свойство **Сортировка и группировка**, затем нажмите кнопку ![Значок эллипса](~/sharepoint/media/ellipsisicon.gif "Значок эллипса") с многоточием, чтобы открыть диалоговое окно **Сортировка и группировка**.  
  
15. В списке **Имя столбца** выберите **Patient Name**, убедитесь, что столбец **Сортировка** имеет значение **По возрастанию**, а затем кнопку **ОК**.  
  
##  <a name="BKMK_TestApp"></a> Тестирование приложения  
 Теперь, когда пользовательские столбцы сайтов, тип содержимого и список готовы, можно развернуть их в SharePoint и запустить приложение для тестирования.  
  
#### Тестирование приложения  
  
1.  В строке меню выберите **Файл**, **Сохранить все**.  
  
2.  Нажмите клавишу F5, чтобы запустить приложение.  
  
     Приложение компилировано, а затем его функции развернуты в SharePoint и активированы.  
  
3.  На панели быстрых переходов выберите ссылку **Patients** для отображения списка **Patients**.  
  
     Имена столбцов в списке должны соответствовать тем, были введены на вкладке **Представления** в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)].  
  
4.  Выберите ссылку **Добавить новый элемент**, чтобы создать информационной карточки пациента.  
  
5.  Введите данные в поля, а затем нажмите кнопку **Сохранить**.  
  
     В списке будет присутствовать новая запись.  
  
## См. также  
 [Практическое руководство. Создайте пользовательский тип настраиваемого поля](http://go.microsoft.com/fwlink/?LinkId=192079)   
 [Типы содержимого](http://go.microsoft.com/fwlink/?LinkId=192080)   
 [Создание столбцов сайта, типов содержимого и списков для SharePoint](../sharepoint/creating-site-columns-content-types-and-lists-for-sharepoint.md)   
 [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)   
 [Столбцы](http://go.microsoft.com/fwlink/?LinkId=192081)  
  
  
---
caps.handback.revision: 24
---
# Устранение неполадок, связанных с упаковкой и развертыванием решений SharePoint
  В разделе рассмотрены различные проблемы, которые могут возникнуть при упаковке и развертывании решений SharePoint.  
  
 [!INCLUDE[autoOutline](../Token/autoOutline_md.md)]  
  
## Включение улучшенной отладки  
 Чтобы выявить причины неполадок в Visual Studio, SharePoint и на других уровнях, можно воспользоваться разделом реестра EnableDiagnostics для просмотра трассировки стека.  Дополнительные сведения см. в разделе [Отладка решений SharePoint](../sharepoint/debugging-sharepoint-solutions.md).  
  
## Добавление выходных данных проекта в пакет решения  
 Выходные данные проекта можно добавлять с помощью "Конструктора пакетов".  Однако при добавлении выходных данных пакета, убедитесь, что платформа проекта соответствует платформе решения SharePoint.  Для сборок, разворачиваемых на сервере SharePoint, рекомендуется использовать целевую платформу **Любой ЦП**.  Дополнительные сведения см. в разделах [Страница "Компиляция" в конструкторе проектов &#40;Visual Basic&#41;](../ide/reference/compile-page-project-designer-visual-basic.md) и [Диалоговое окно "Дополнительные параметры компилятора" &#40;Visual Basic&#41;](../ide/reference/advanced-compiler-settings-dialog-box-visual-basic.md).  
  
## Предупреждения и ошибки проверки  
 Средства разработки SharePoint в Visual Studio выполняют проверочные шаги для проверки правильности формирования пакета решения.  Также, для компонентов и пакетов, можно создать пользовательские проверочные шаги.  Дополнительные сведения см. в разделе [How to: Create Custom Feature and Package Validation Rules for SharePoint Solutions](../sharepoint/how-to-create-custom-feature-and-package-validation-rules-for-sharepoint-solutions.md).  
  
## Разрешение конфликтов развертывания  
 При развертывании решения SharePoint может возникнуть конфликт, когда элемент на сервере и элемент в пакете решения имеют одинаковое имя, URL\-адрес или идентификатор.  Можно изменить свойство **Разрешение конфликтов развертывания**, чтобы разрешить, игнорировать или составить отчет о конфликте для модулей, веб\-частей, списка экземпляров и типов контента.  
  
 В следующей таблице продемонстрированы параметры свойства **Разрешение конфликтов развертывания**.  
  
|Значение|Описание|  
|--------------|--------------|  
|Automatic|Обнаруживает и разрешает конфликты автоматически.|  
|Запрос|Обнаруживает и выводит отчет о конфликтах для разработчика перед их разрешением.|  
|Нет|Не обнаруживает конфликты.|  
  
## Различия в развертывании с помощью клавиши F5  
 При использовании [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] для развертывания проекта SharePoint на локальном сервере SharePoint с целью тестирования и отладки, [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] выполняет некоторые дополнительные действия.  
  
1.  Сброс службы IIS во время выполнения развертывания.  
  
2.  Автоматическое назначение рабочих процессов.  
  
3.  Задание в конструкторе пакетов порядка активации компонентов в соответствии с иерархией.  
  
 Для дополнительного изменения поведения при нажатии клавиши F5 можно добавить пользовательские действия по развертыванию.  Дополнительные сведения см. в разделе [Walkthrough: Creating a Custom Deployment Step for SharePoint Projects](../sharepoint/walkthrough-creating-a-custom-deployment-step-for-sharepoint-projects.md).  
  
## Задержка в отображении страницы SharePoint при развертывании визуальной веб\-части  
 Странице SharePoint требуется длительный промежуток времени для отображения при развертывании визуальной веб\-части в папке Bin в [!INCLUDE[wiprlhext](../sharepoint/includes/wiprlhext-md.md)], [!INCLUDE[win7](../sharepoint/includes/win7-md.md)] или [!INCLUDE[winsvr08](../sharepoint/includes/winsvr08-md.md)].  При изменении любых файлов каталога верхнего уровня [!INCLUDE[vstecasp](../sharepoint/includes/vstecasp-md.md)], например, каталога Bin, происходит рекомпилирование всего веб\-приложения.  Это может привести к задержке рендеринга страницы SharePoint до 25 секунд.  
  
### Сообщение об ошибке  
 Нет.  
  
### Решение  
 Чтобы решить эту проблему, выполните следующие действия:  
  
1.  Установите обновление КВ967535, как описано в статье службы поддержки Майкрософт [ИСПРАВЛЕНИЕ. Доступно исправление для решения двух проблем ASP.NET в IIS 7.0 для Windows Vista и Windows Server 2008](http://go.microsoft.com/fwlink/?LinkId=179055).  
  
2.  Добавьте следующую строку в файл Web.config:  
  
    ```  
    <compilation batch="false" optimizeCompilations="true">  
    ```  
  
## Ошибка при развертывание проекта SharePoint "В решении не удалось извлечь CAB\-файл"  
 Если имя любого элемента проекта SharePoint содержит круглые скобки, при развертывании решения возникнет ошибка.  
  
### Сообщение об ошибке  
 Ошибка в шаге развертывания "Добавление решения": В решении не удалось извлечь CAB\-файл.  
  
### Решение  
 Чтобы решить эту проблему, удалите круглые скобки в именах элементов проектов SharePoint.  
  
## Ошибка при развертывании визуальной веб\-части на сайт другого веб\-приложения  
 При первом развертывании визуальной веб\-части на сайт веб\-приложения, отличного от развернутого в настоящий момент \(в результате изменения свойства веб\-части SiteUrl\), возникает сообщение об ошибке.  
  
### Сообщение об ошибке  
 Ошибка в шаге развертывания "Добавление решения": Компонент с идентификатором \[\#\] уже установлен для данной фермы.  Используйте атрибут "force" для явной переустановки компонента.  
  
### Решение  
 Эта ошибка возникает из\-за механизма отзыва компонентов визуальных веб\-частей в SharePoint.  Для успешного развертывания визуальной веб\-части повторите развертывание, нажав клавишу F5.  
  
## Предупреждение появляется при развертывании вложенных пользовательских элементов управления  
 Это предупреждение появляется при развертывании решения SharePoint, которое содержит вложенные пользовательские элементы управления, например визуальная веб\-часть содержит пользовательский элемент управления или пользовательский элемент управления содержит веб\-часть или другой пользовательский элемент управления.  Данное предупреждение появляется при добавлении элемента управления в конструктор с помощью перетаскивания его из панели элементов или с помощью директивы @Register в представлении исходного кода.  
  
### Сообщение об ошибке  
 Предупреждение 1: элемент "\[*Control Name*\]" не является известным элементом.  Это может произойти, если существует ошибка компиляции или отсутствует файл web.config.  
  
### Решение  
 Если в системе работы с проектами [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] нет информации о вложенных пользовательских элементах управления, она не может обеспечить поддержку технологии IntelliSense и выдает предупреждение.  Система работы с проектами не имеет информации о вложенных пользовательских элементах управления, если проект не был построен, а конструктор не был закрыт и затем повторно открыт или если параметр автоматического отзыва не включен, что приводит к отзыву пользовательского элемента управления из куста SharePoint после отладки.  
  
 Чтобы удалить это предупреждение, постройте проект, закройте и повторно откройте конструктор или отключите параметр автоматического отзыва для проекта.  Для этого на вкладке **SharePoint** диалогового окна параметров проекта снимите флажок **Автоматически отозвать после отладки**.  
  
## См. также  
 [Упаковка и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md)  
  
  
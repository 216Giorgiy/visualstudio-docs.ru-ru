---
title: "Замечания об обезвреженных решениях | Microsoft Docs"
ms.custom: ""
ms.date: "02/02/2017"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "office-development"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "VS.SharePointTools.Project.SandboxedSolutions"
  - "VS.SharePointTools.Security.SandboxedSolutions"
dev_langs: 
  - "VB"
  - "CSharp"
  - "VB"
  - "CSharp"
helpviewer_keywords: 
  - "решения фермы [разработка приложений SharePoint в Visual Studio]"
  - "изолированные решения [разработка приложений SharePoint в Visual Studio]"
  - "разработка приложений SharePoint в Visual Studio, решения фермы"
  - "разработка приложений SharePoint в Visual Studio, изолированные решения"
ms.assetid: 6c2d2dc6-4acb-4b68-ba94-a61087e8dff0
caps.latest.revision: 23
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
caps.handback.revision: 22
---
# Замечания об обезвреженных решениях
  *Обезвреженные решения* — это функция Microsoft SharePoint 2010, позволяющая пользователям семейства веб\-сайтов загружать собственные решения с пользовательским кодом.  В типичных обезвреженных решениях пользователи самостоятельно загружают веб\-части на сервер.  
  
 Изолированное приложение SharePoint запускается в защищенном, контролируемом процессе, имеющем доступ к ограниченной части веб\-фермы.  В Microsoft SharePoint 2010 поддержка обезвреженных решений реализована с помощью сочетания компонентов, коллекций решений, контроля решений и структуры проверки.  
  
## Указание уровня доверия проекта  
 [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] поддерживает изолированные решения с помощью логического свойства проекта с именем *Sandboxed Solution*.  Это свойство можно в любой момент задать в проекте либо указать при создании проекта в **Мастере настройки SharePoint**.  
  
> [!NOTE]  
>  Изменение свойства *Sandboxed Solution* проекта после его создания может вызвать ошибки при проверке.  
  
 Если свойству *Sandboxed Solution* задано значение **false** или выбран параметр **Развернуть как решение фермы**, решение считается решением из области фермы.  Впрочем, если свойству *Sandboxed Solution* задано значение **true** или в мастере выбран параметр **Развернуть как изолированное решение**, решение обрабатывается иначе, чем решение фермы.  
  
## Иерархия сайтов SharePoint  
 Принцип действия обезвреженных решений наглядно иллюстрирует иерархическая структура сайтов.  Верхний элемент называется веб\-фермой, а остальные элементы являются подчиненными по отношению к нему.  
  
 Веб\-ферма  
  
 Веб\-приложение A  
  
 Семейство сайтов A1  
  
 Сайт A1a  
  
 Веб\-приложение B  
  
 Семейство сайтов B1  
  
 Сайт B1a  
  
 Сайт B1b  
  
 Семейство сайтов B2  
  
 Сайт B2a  
  
 Таким образом, веб\-фермы могут содержать одно или несколько веб\-приложений, каждое из которых, в свою очередь, может иметь дочерние сайты, и т. д.  Изменения, внесенные в одно из семейств сайтов, не затрагивают другие семейства.  Впрочем, изменения на уровне веб\-фермы влияют на все содержащиеся в ней семейства сайтов.  
  
 Службы Windows SharePoint Services \(WSS\) 3.0 позволяют развертывать решения только на уровне фермы, однако в [!INCLUDE[wss_14_long](../sharepoint/includes/wss-14-long-md.md)] можно развертывать их как на уровне фермы \(решения фермы\), так и на уровне семейства сайтов \(обезвреженные решения\).  
  
## В чем преимущества обезвреженных решений?  
 Службы WSS 3.0 позволяют развертывать решения только на уровне фермы.  Таким образом, не исключается возможность развертывания потенциально вредоносных или нестабильных решений, которые могут затронуть всю веб\-ферму и входящие в ее состав семейства сайтов и приложения.  Тогда как поддержка обезвреженных решений позволяет развертывать решения в более низких иерархических структурах фермы — в отдельных семействах сайтов.  Степень защиты дополнительно повышается за счет того, что сборка решения не загружается в главный процесс [!INCLUDE[TLA2#tla_iis5](../sharepoint/includes/tla2sharptla-iis5-md.md)] \(w3wp.exe\).  Вместо этого она загружается в отдельный процесс \(SPUCWorkerProcess.exe\).  Процесс отслеживается, кроме того, для защиты фермы от изолированных решений, совершающих вредоносные действия \(например, запускающих непрерывные циклы, которые поглощают циклы ЦП\) используются квоты и регулирование количества запросов.  
  
## Коллекция решений семейств сайтов  
 В [!INCLUDE[sharepointShort](../sharepoint/includes/sharepointshort-md.md)] 2010 входит компонент под названием «коллекция решений для семейств веб\-сайтов». Доступ к этому компоненту осуществляется на странице центра администрирования SharePoint 2010 или можно открыть меню **Действия сайта**, выбрав команду **Настройки сайта**, а затем выберите ссылку **Решения** в  **Коллекции** на сайте SharePoint.  Коллекции решений являются репозитариями решений и позволяют администраторам семейств сайтов управлять решениями, размещенными в этих семействах сайтов.  
  
 Коллекция решений — это библиотека документов, сохраненных в корневом веб\-каталоге сайта SharePoint.  Коллекция решений заменяет собой шаблоны сайтов и поддерживает пакеты решений.  Когда пакет решений SharePoint \(WSP\-файл\) загружается на сервер, он обрабатывается как обезвреженное решение.  
  
## Ограничения изолированных решений  
 При развертывании обезвреженного решения ему доступна лишь ограниченная часть функциональных возможностей SharePoint, что позволяет снизить потенциально возможные уязвимости безопасности для этого решения.  Ниже приведены некоторые из этих ограничений.  
  
-   Обезвреженным решениям доступен ограниченный набор элементов развертываемых решений.  Потенциально уязвимые шаблоны проектов SharePoint, такие как определения сайтов и рабочие процессы, недоступны.  
  
-   В системе SharePoint код обезвреженных решений выполняется в процессе SPUCWorkerProcess.exe, отдельном от главного пула процессов приложений [!INCLUDE[TLA2#tla_iis5](../sharepoint/includes/tla2sharptla-iis5-md.md)] \(w3wp.exe\).  
  
-   В проект нельзя добавлять сопоставленные папки.  
  
-   Типы в сборке Microsoft.Office.Server [!INCLUDE[moss_14_long](../sharepoint/includes/moss-14-long-md.md)] невозможно использовать в изолированных решениях.  Кроме того, только типы в сборке Microsoft.SharePoint [!INCLUDE[wss_14_long](../sharepoint/includes/wss-14-long-md.md)] можно использовать в изолированных решениях.  
  
 Следует отметить, что если указать, что решение SharePoint является изолированным, это не повлияет на сервер SharePoint. Это действие повлияет только на то, как проект SharePoint развертывается в SharePoint из [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] и с какими сборками он связывается.  Это действие никак не повлияет на созданный WSP\-файл, и этот файл не содержит данных, непосредственно сопоставляемых со свойством *Sandboxed Solution*.  
  
## Возможности и элементы обезвреженных решений  
 Обезвреженные решения поддерживают следующие возможности и элементы:  
  
-   поля\/типы содержимого;  
  
-   настраиваемые действия;  
  
-   декларативные рабочие процессы.  
  
-   приемники событий;  
  
-   вызовы компонентов;  
  
-   определения списков;  
  
-   экземпляры списков;  
  
-   модули\/файлы;  
  
-   Навигация  
  
-   Onet.xml;  
  
-   SPItemEventReceiver;  
  
-   SPListEventReceiver;  
  
-   SPWebEventReceiver;  
  
-   поддержка всех веб\-частей, производных от `System.Web.UI.WebControls.WebParts.WebPart`;  
  
-   Веб\-части  
  
-   элементы функции WebTemplate \(вместо Webtemp.xml\);  
  
-   визуальные веб\-части;  
  
 Обезвреженные решения не поддерживают следующие возможности и элементы:  
  
-   Страницы приложения  
  
-   настраиваемая группа действий;  
  
-   функции из области веб\-фермы;  
  
-   элемент `HideCustomAction`;  
  
-   функции из области веб\-приложений;  
  
-   рабочие процессы с кодом.  
  
## См. также  
 [Различия между изолированными решениями и решениями фермы](../sharepoint/differences-between-sandboxed-and-farm-solutions.md)   
 [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)  
  
  
---
title: "Упаковка и развертывание решений SharePoint | Microsoft Docs"
ms.custom: ""
ms.date: "02/02/2017"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "office-development"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "VB"
  - "CSharp"
helpviewer_keywords: 
  - "развертывание [разработка приложений SharePoint в Visual Studio]"
  - "упаковка [разработка приложений SharePoint в Visual Studio]"
  - "разработка приложений SharePoint в Visual Studio, упаковка и развертывание"
ms.assetid: 39072fa7-9f94-49c0-9a67-cbcce0147e61
caps.latest.revision: 34
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
caps.handback.revision: 33
---
# Упаковка и развертывание решений SharePoint
  Как правило, решение SharePoint развертывается на сервере SharePoint с помощью файла пакета решения \(WSP\-файла\).  В Visual Studio можно объединить элементы проекта SharePoint в компоненты и создать пакет для развертывания компонентов SharePoint.  
  
 В данном разделе содержатся следующие сведения:  
  
-   [Создание компонентов и пакетов](#Creating)  
  
-   [Поддержка средств создания компонентов и пакетов](#Tools)  
  
-   [Развертывание решений SharePoint](#Deploying)  
  
-   [Развертывание файлов в решениях SharePoint](#DeployingFiles)  
  
##  <a name="Creating"></a> Создание компонентов и пакетов  
 В Visual Studio можно объединить взаимосвязанные элементы SharePoint в *компонент*.  Например, компонент для определения списка "Контакты" может содержать экземпляр списка и определение списка.  Эти два элемента можно объединить в компонент для удобства развертывания.  Дополнительные сведения о компонентах см. в разделе [Building Block: Features](http://go.microsoft.com/fwlink/?LinkID=169183).  
  
 Затем можно создать пакет решения SharePoint \(WSP\-файл\), объединив несколько компонентов, определений сайтов, сборок и других файлов в один пакет, где они будут храниться в формате, необходимом для развертывания на сервере с помощью SharePoint.  Дополнительные сведения см. в разделе [Building Block: Solutions](http://go.microsoft.com/fwlink/?LinkID=169186).  
  
##  <a name="Tools"></a> Поддержка средств создания компонентов и пакетов  
 С помощью средств разработки SharePoint в Visual Studio можно быстро объединять файлы SharePoint в компоненты и пакеты решений для удобства развертывания.  Для настройки компонентов и пакета решения можно использовать следующие средства.  
  
-   Конструктор компонентов и конструктор пакетов.  
  
-   Обозреватель пакетов, окно инструментов.  
  
-   Обозреватель решений.  
  
### Конструктор компонентов и конструктор пакетов  
 С помощью конструктора компонентов можно создавать компоненты, задавать их области и отмечать другие компоненты как зависимости.  Конструктор также отображает конечный XML\-файл с описанием каждого компонента.  Для получения дополнительной информации см. [Создание компонентов SharePoint](../sharepoint/creating-sharepoint-features.md).  
  
 Компонент можно применять к определенному веб\-сайту или группе сайтов, задав параметр *область* в конструкторе компонентов.  Если компонент активирован для отдельного веб\-сайта, он действует только для этого сайта.  Если компонент активирован для семейства сайтов, содержащиеся в нем элементы действуют для всего семейства сайтов.  Дополнительные сведения см. в разделе [Element Scope](http://go.microsoft.com/fwlink/?LinkID=169189).  
  
 Если для работы компонента требуются другие компоненты, можно задать *зависимость активации компонентов*, чтобы перед активацией компонента отметить зависимые компоненты.  Зависимость активации компонентов проверяет, были ли зависимые компоненты активированы в соответствующей области.  Дополнительные сведения см. в разделе [Activation Dependencies and Scope](http://go.microsoft.com/fwlink/?LinkID=169190).  
  
 В конструкторе пакетов можно сгруппировать элементы SharePoint в единый пакет решения и указать, требуется ли выполнять сброс веб\-сервера при развертывании.  Для задания типа сервера развертывания используйте окно **Свойства**.  Конструктор также создает XML\-файл с описанием содержимого пакета.  Для получения дополнительной информации см. [Создание пакетов решений SharePoint](../sharepoint/creating-sharepoint-solution-packages.md).  
  
 При развертывании службы IIS останавливаются для копирования файлов решения на сервер SharePoint.  С помощью конструктора пакетов в Visual Studio можно указать, требуется ли перезапускать веб\-сервер.  Указать, на каком сервере развертывается решение \(на внешнем веб\-сервере или на сервере приложений\), можно с помощью окна **Свойства**.  Дополнительные сведения см. в разделе [Solution Element \(Solution\)](http://go.microsoft.com/fwlink/?LinkID=169191).  
  
### Обозреватель пакетов  
 Помимо конструктора компонентов и конструктора пакетов для группирования элементов SharePoint в компоненты и пакеты можно использовать обозреватель пакетов.  Кроме того, с его помощью можно просматривать иерархическое представление пакетов, компонентов, элементов проектов SharePoint и файлов.  Обозреватель пакетов представляет собой окно инструментов, в котором можно выполнять следующие задачи:  
  
-   Открывать файлы и элементы проектов SharePoint.  
  
-   Перетаскивать мышью элементы проектов SharePoint из одного компонента в другой.  
  
-   Перетаскивать мышью элементы проектов SharePoint и компоненты из одного пакета в другой.  
  
-   Добавлять новые компоненты в пакет.  
  
-   Открывать конструкторы компонентов и пакетов.  
  
-   Проверять компоненты и пакеты.  
  
 Средства разработки SharePoint в Visual Studio содержат правила проверки, позволяющие убедиться, что пакет решения сформирован правильно.  Кроме того, эти правила позволяют проверить, можно ли развернуть и активировать на сервере SharePoint WSP\-файл решения.  Дополнительные сведения о схеме XML для компонентов см. в разделе [Feature Schemas](http://go.microsoft.com/fwlink/?LinkID=169192).  
  
 В систему проектов SharePoint можно добавить пользовательские правила проверки компонентов и пакетов.  Для получения дополнительной информации см. [How to: Create Custom Feature and Package Validation Rules for SharePoint Solutions](../sharepoint/how-to-create-custom-feature-and-package-validation-rules-for-sharepoint-solutions.md).  
  
 Дополнительные сведения об обозревателе пакетов см. в разделе [Практическое руководство. Добавление и удаление компонентов и элементов в пакете с помощью обозревателя пакетов](../sharepoint/how-to-add-and-remove-features-and-items-to-a-package-by-using-the-packaging-explorer.md).  
  
### Обозреватель решений  
 С помощью обозревателя решений можно просматривать и открывать файлы проектов SharePoint.  Контекстное меню обозревателя решений позволяет добавлять компоненты, приемники событий компонентов и ресурсы компонентов.  Кроме того, в нем можно открывать конструкторы компонентов и пакетов и с их помощью настраивать компоненты и пакеты для развертывания.  
  
##  <a name="Deploying"></a> Развертывание решений SharePoint  
 После настройки компонентов и пакета в Visual Studio можно создать WSP\-файл для развертывания на серверах SharePoint.  С помощью Visual Studio можно отлаживать и тестировать WSP\-файлы только на сервере SharePoint на компьютере разработчика.  Дополнительные сведения о развертывании решений SharePoint на удаленном сервере SharePoint см. в разделе [Deploying a Solution](http://go.microsoft.com/fwlink/?LinkID=169194).  
  
 Также можно настраивать действия по развертыванию на компьютере разработчика.  Для получения дополнительной информации см. [Развертывание, публикация и обновление пакетов решений SharePoint](../sharepoint/deploying-publishing-and-upgrading-sharepoint-solution-packages.md).  
  
##  <a name="DeployingFiles"></a> Развертывание файлов в решениях SharePoint  
 Как правило, при добавлении элемента проекта SharePoint в решение SharePoint добавляются все необходимые файлы.  Файлы, которые можно компилировать \(файлы кода\), включаются в выходную сборку решения.  Однако может также потребоваться добавить некомпилируемые файлы, такие как XML\-файлы, TXT\-файлы или файлы ресурсов, в проект SharePoint.  Эти файлы не упаковываются автоматически в ваше решение.  Чтобы обеспечить упаковку данных файлов, добавьте их в сопоставленную папку или в элемент проекта SharePoint.  
  
 При развертывании решения файлы, которые добавлены в сопоставленную папку, автоматически копируются в куст SharePoint.  Файлы, добавленные в элемент проекта SharePoint, разворачиваются в расположение, указанное в свойстве **Расположение развертывания** каждого файла, которое частично задается на основании свойства **Тип развертывания**.  По умолчанию свойство **Тип развертывания** имеет значение **NoDeployment**, которое означает, что файл не разворачивается вместе с решением.  Для включения файла в пакет необходимо указать другое значение в данном свойстве.  
  
 Например, чтобы добавить XML\-файл в проект SharePoint, выполните одно из следующих действий:  
  
-   добавьте сопоставленную папку SharePoint "Layouts" в свой проект.  В **обозревателе решений** создается папка с именем **Layouts**, которая содержит вложенную папку для проекта.  Добавьте XML\-файл в новую вложенную папку.  По умолчанию файл разворачивается в файловой системе SharePoint в папке ..\\TEMPLATE\\LAYOUTS\\*Folder Name*\\.  Дополнительные сведения о добавлении сопоставленных папок см. в разделе [Практическое руководство. Добавление и удаление сопоставленных папок](../sharepoint/how-to-add-and-remove-mapped-folders.md);  
  
-   добавьте XML\-файл в папку элемента проекта SharePoint и затем измените значение **NoDeployment** свойства XML\-файла **Тип развертывания** на другое значение, например **RootFile** или **ElementFile**.  Допустимое значение параметра **Тип развертывания** зависит от файла и проекта.  Дополнительные сведения о параметрах свойства **Тип развертывания** см. в разделе [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md).  
  
 Если добавленный файл не относится к какому\-либо проекту в решении, можно добавить в свое решение пустой проект SharePoint, а затем добавить к нему дополнительные файлы.  Другим вариантом развертывания файлов в SharePoint, особенно в базу данных контента, является добавление модуля в проект и последующее добавление файлов в модуль.  Для получения дополнительной информации см. [Использование модулей для включения файлов в решение](../sharepoint/using-modules-to-include-files-in-the-solution.md).  
  
## См. также  
 [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)   
 [Построение и отладка решений SharePoint](../sharepoint/building-and-debugging-sharepoint-solutions.md)  
  
  
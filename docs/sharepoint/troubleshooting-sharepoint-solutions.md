---
title: "Устранение неполадок решений SharePoint | Документы Microsoft"
ms.custom: 
ms.date: 02/22/2017
ms.reviewer: 
ms.suite: 
ms.technology: office-development
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: Microsoft.VisualStudio.Tools.SharePoint.Errors.Debugging
dev_langs:
- VB
- CSharp
- VB
- CSharp
helpviewer_keywords: SharePoint development in Visual Studio, troubleshooting
ms.assetid: d3c8a01c-8fac-40d0-bf9e-476901f1490a
caps.latest.revision: "42"
author: gewarren
ms.author: gewarren
manager: ghogen
ms.openlocfilehash: fa3ecb6be4ba458c7a703e77e56c6ba51490887d
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2017
---
# <a name="troubleshooting-sharepoint-solutions"></a>Устранение неполадок решений SharePoint
  Следующие проблемы или предупреждения могут возникнуть при отладке решения SharePoint с помощью [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] отладчика. Дополнительные сведения см. в разделе [отладку решений рабочих процессов SharePoint 2007](http://msdn.microsoft.com/en-us/3a5392f3-66f3-48be-956e-02de23fa6247).
  
## <a name="token-restrictions-in-sandboxed-visual-web-parts"></a>Ограничения токенов в изолированных визуальных веб-частях  
 Визуальные веб-части в изолированных решениях не могут обрабатывать стандартные токены, например $SPUrl, которые поддерживает среда выполнения SharePoint. В результате URL-адрес не может быть разрешен, и нельзя просмотреть содержимое в представлении кода в конструкторе визуальной веб-части при ссылке на него непосредственно в элементе скрипта, как в следующем примере:  
  
```xml  
<script src="<% $SPUrl:~site/SiteAssets/ListOperations.js %>"></script>  
```  
  
 Для обхода этого ограничения и разрешения токенов на него ссылаются с помощью литералов:  
  
```xml  
<asp:literal ID="Literal1" runat="server" Text="<script src='" />  
<asp:literal ID="Literal2" runat="server" Text="<% $SPUrl:~site/SiteAssets/ListOperations.js %>" />  
<asp:literal ID="Literal3" runat="server" Text="' type='text/javascript' ></script>" />  
```  
  
## <a name="character-restrictions-in-names-of-projects-and-project-items"></a>Ограничения на символы в именах проектов и элементах проектов  
 Названия проекта и его элементов могут содержать только символы, допустимые для пути развертывания в SharePoint 2010. Другие символы не допускаются.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Сообщение об ошибке «Недопустимый символы».  
  
### <a name="resolution"></a>Решение  
 Для названий проектов SharePoint и элементов проектов используйте только следующие знаки:  
  
-   Буквенно-цифровые символы ASCII  
  
-   Пробел  
  
-   Точка (.)  
  
-   Запятая ()  
  
-   Символ подчеркивания (_)  
  
-   Тире (—)  
  
-   Обратная косая черта (\\)  
  
 Во время упаковки проекта правило проверки проверяет, что свойство "Путь развертывания" каждого разворачиваемого файла содержит только допустимые знаки.  
  
## <a name="errors-when-creating-custom-fields"></a>Ошибки при создании настраиваемых полей  
 Настраиваемые поля в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] определяются в XML. Может возникнуть ошибка, если поле не определено или на него не существует ссылка в определенном формате.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Сообщение об ошибке «Недопустимые символы» во время упаковки.  
  
### <a name="resolution"></a>Решение  
 Идентификатор для определения поля должен представлять собой GUID, заключенный в фигурные скобки, как показано в следующем примере:  
  
```xml  
<Field ID="{5744d18c-305e-4632-8bd1-09d134f4830d}"   
    Type="Note"   
    Name="PatientName"   
    DisplayName="Patient Name"   
    Group="A Custom Group">  
</Field>.  
```  
  
 Как показано в следующем примере, ссылка на поле в типе содержимого должны определяться с помощью формата пустого элемента (\<FieldRef / >), не с помощью элементов начало/конец (\<FieldRef >\</FieldRef >):  
  
```xml  
<FieldRef ID="{5744d18c-305e-4632-8bd1-09d134f4830d}"   
    Name="PatientName"   
    DisplayName="Patient Name"   
    Required="TRUE"/>  
```  
  
 Если для поля существует проблема с исходным XML-файлом, например, неверный формат или недопустимый XML-файл, возникает ошибка "Невозможно обработать файл".  
  
## <a name="new-non-english-site-definitions-do-not-appear-in-site-creation-page-after-deployment"></a>Новое определение локализованной сайта не отображается на странице создания сайта после развертывания  
 После создания и развертывания нового определения сайта с помощью локализованной версии [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] (то есть версия с локальным [!INCLUDE[TLA2#tla_id](../sharepoint/includes/tla2sharptla-id-md.md)] отличным от 1033), **пользовательские разработки SharePoint** вкладка не отображается в **Выбор шаблона** и новый шаблон сайта не отображается в **новый сайт SharePoint** страницы.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Отсутствует.  
  
### <a name="resolution"></a>Решение  
 Эта проблема возникает из-за неверное значение в **путь** свойство webtemp определение файла конфигурации узла, например webtemp_SiteDefinitionProject1.xml. В **путь** свойства для файла webtemp, расположенного в **расположение развертывания**, соответствующий языковой стандарт, замените 1033 [!INCLUDE[TLA2#tla_id](../sharepoint/includes/tla2sharptla-id-md.md)]. Например чтобы использовать японский языковой стандарт измените значение на 1041. Дополнительные сведения см. в разделе [языкового стандарта, назначаемые в Майкрософт](http://go.microsoft.com/fwlink/?LinkID=165561) на сайте MSDN.  
  
## <a name="error-appears-when-a-workflow-project-is-deployed-on-a-clean-system"></a>Ошибка возникает при развертывании проекта рабочего процесса в чистой системе  
 Эта проблема возникает при развертывании проекта рабочего процесса в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] в чистой системе. Чистая система является компьютером, с недавно установленными [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] и SharePoint, но на котором не развернуты проекты рабочего процесса.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Не удается найти список SharePoint: журнал рабочего процесса.  
  
### <a name="resolution"></a>Решение  
 Эта ошибка возникает из-за отсутствующих список журнала рабочего процесса. Поскольку среда разработки чистой системе, рабочих процессов не развертываются и список журнала рабочего процесса еще не существует. Чтобы устранить эту проблему, повторно откройте мастер рабочего процесса, который вызывает список журнала рабочего процесса должен быть создан.  
  
##### <a name="to-reenter-the-workflow-wizard"></a>Чтобы повторно установить мастер рабочего процесса  
  
1.  В **обозревателе решений**, выберите узел рабочего процесса.  
  
2.  В **свойства** окно, нажмите кнопку с многоточием (...) на всех свойств, имеющих кнопку с многоточием.  
  
## <a name="user-must-refresh-application-page-in-browser-while-debugging-to-view-updated-image"></a>Пользователь должен обновить страницу приложения в браузере во время отладки для просмотра обновленного изображения  
 При отладке решения SharePoint, содержащего страницу приложения с элементом управления, отображающий изображение, такие как [!INCLUDE[TLA2#tla_html](../sharepoint/includes/tla2sharptla-html-md.md)] рисунка, необходимо обновить страницу в браузере, чтобы отобразить любые изменения, внесенные в изображение.  
  
## <a name="error-the-site-location-is-not-valid"></a>Ошибка: Недопустимое расположение узла  
 Эта проблема может возникнуть, если [!INCLUDE[moss_14_short](../sharepoint/includes/moss-14-short-md.md)] не установлен. Он также может возникнуть, если у вас доступ с правами администратора на сайте SharePoint, указанный в **мастер настройки SharePoint**.  
  
### <a name="error-message"></a>Сообщение об ошибке  
  
-   Недопустимое расположение сайта SharePoint.  
  
### <a name="resolution"></a>Решение  
  
-   Установите [!INCLUDE[moss_14_short](../sharepoint/includes/moss-14-short-md.md)].  
  
-   Убедитесь, что у вас есть права администратора на сайте SharePoint. Дополнительные сведения см. в разделе [!INCLUDE[TLA2#tla_office](../sharepoint/includes/tla2sharptla-office-md.md)] интерактивной статьи [предоставить доступ к сайту портала](http://go.microsoft.com/fwlink/?LinkId=98310).  
  
## <a name="site-deletion-web-event-does-not-occur-in-event-receiver-project"></a>Веб-событие удаления сайта отсутствует в проекте приемника событий  
 При создании проекта приемника событий и выборе некоторых событий, такие как «удаляется сайт», событие не происходит.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Отсутствует.  
  
### <a name="resolution"></a>Решение  
 Эта проблема возникает, поскольку область компонента должен быть «Сайт» для обработки событий на уровне сайта, однако область компонента по умолчанию для проекта приемника событий «Web». Веб событиям относятся:  
  
-   Сайт удален (WebDeleting)  
  
-   Удален сайт (WebDeleted)  
  
-   Сайт перемещен (WebMoving)  
  
-   Перемещен сайт (WebMoved)  
  
 Чтобы устранить проблему, измените область компонента приемника событий, следующим образом.  
  
##### <a name="to-change-the-feature-scope-of-the-event-receiver"></a>Чтобы изменить область компонента приемника событий  
  
1.  В **обозревателе решений**, откройте файл .feature приемника событий в **конструкторе компонентов** , дважды щелкнув файл или открыв его контекстное меню и затем выбрав **откройте**.  
  
2.  Щелкните стрелку рядом с **область**и нажмите кнопку **сайта** в появившемся списке.  
  
## <a name="deployment-error-appears-after-the-name-of-an-identifier-in-a-business-data-connectivity-model-project-is-changed"></a>После изменения имени идентификатора в проекте модели подключения к бизнес-данным, возникает ошибка развертывания  
 Эта проблема возникает при изменении имени идентификатора сущности в модели бизнес-данным (BDC) и попробуйте развернуть решение.  
  
### <a name="error-messages"></a>Сообщения об ошибках  
  
-   \<*Имя модели*> содержит следующие ошибки активации внешнего типа содержимого...  
  
-   Объекта IMetadataObject с именем "\<*имя модели*>" имеет значение в поле «имя» дублируется...  
  
### <a name="resolution"></a>Решение  
 Чтобы устранить эту проблему, вручную удалите модели и затем повторно развернуть решение.  Модель можно удалить с помощью любого из следующих средств:  
  
-   Центр администрирования SharePoint 2010. Дополнительные сведения см. в разделе [управление модели BDC](http://go.microsoft.com/fwlink/?LinkID=181472) на сайте Microsoft TechNet.  
  
-   Windows PowerShell Можно удалить модель, введя следующую команду в командной строке: **SPBusinessDataCatalogModel удаление**. Дополнительные сведения см. в разделе [общие командлеты (SharePoint Server 2010)](http://go.microsoft.com/fwlink/?LinkID=182375) на сайте Microsoft TechNet.  
  
## <a name="an-error-appears-when-you-try-to-view-a-visual-web-part-in-sharepoint"></a>Отображается сообщение об ошибке при попытке просмотра визуальной веб-части в SharePoint  
 Эта проблема возникает при **путь** свойства пользовательского элемента управления не начинается со строки «шаблоны элементов УПРАВЛЕНИЯ\\».  
  
### <a name="error-messages"></a>Сообщения об ошибках  
  
-   Файл "/_CONTROLTEMPLATES/*\<имя проекта >*/*\<имя веб-части >*/*\<пользовательский элемент управления имя >*.ascx "не существует.  
  
-   Ошибка сервера в приложении '/'.  
  
### <a name="resolution"></a>Решение  
  
##### <a name="to-resolve-this-issue"></a>Чтобы устранить эту проблему  
  
1.  В **обозревателе решений**, выберите файл пользовательского элемента управления, с расширением имени файла .ascx.  
  
2.  В строке меню выберите **представление**, **окно свойств**.  
  
3.  В **свойства** окна, разверните **расположение развертывания** узла.  
  
4.  Убедитесь, что значение **путь** свойство начинается со строки «шаблоны элементов УПРАВЛЕНИЯ\\».  
  
## <a name="error-appears-when-an-imported-reusable-workflow-that-contains-a-task-form-field-is-run"></a>Ошибка возникает при запуске импортируемого рабочего процесса для повторного использования, содержащий поле формы задач.  
 Эта проблема возникает, если импортируется рабочий процесс, содержащий форму задачи с полем, а затем запустите новый рабочий процесс на той же системе, из которого она была импортирована.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Ошибка в шаге развертывания «Активация компонентов»: поле с идентификатором [*Guid*] определенное в компоненте [*Guid*] найден в текущей коллекции веб-сайта или дочернем сайте.  
  
### <a name="resolution"></a>Решение  
 Эта ошибка является результатом конфликтов ИД полей применялась, так как проект рабочего процесса для повторного использования импорта [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] не изменяет ИД поля формы задачи. Конфликты ИД полей возникают при развертывании импортируемого рабочего процесса на том же сервере, который содержит исходный рабочий процесс.  
  
 Чтобы устранить эту проблему, следует используйте функцию поиска и замены для изменения значения атрибута ID поля во всех файлах импортируемого рабочего процесса.  
  
## <a name="error-appears-when-a-renamed-imported-list-instance-is-run"></a>Ошибка появляется, когда переименованный импортированы не выполнится экземпляра списка  
 Эта проблема возникает при переименовании импортируемого экземпляра списка, а затем запустите его в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)].  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Ошибка сборки: произошла ошибка в шаге развертывания «Активация компонентов»: файл Template\Features\\[*Импорт проекта**функция**имя*] \Files\Lists \\[*старый**имя списка*] \Schema.xml не существует.  
  
### <a name="resolution"></a>Решение  
 При импорте экземпляр списка, атрибут с именем CustomSchema добавляется в файл Elements.xml экземпляра списка. Elements.XML включает путь пользовательского файла schema.xml для экземпляра списка. При переименовании экземпляра списка в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)], изменяет путь развертывания пользовательского файла Schema.XML, но значение пути атрибута CustomSchema не обновляется. В результате экземпляр списка не удается найти файл schema.xml в пути, который указан в атрибуте CustomSchema при активации компонента.  
  
 Чтобы устранить эту проблему, обновите путь файла schema.xml в атрибуте CustomSchema расположение развертывания.  
  
## <a name="sharepoint-debugging-session-terminated-by-iis"></a>Сеанс завершен службами IIS отладки SharePoint  
 Эта проблема возникает, если установить точку останова в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] решения SharePoint, нажмите клавишу F5, чтобы выполнить ее и последующей остановке в точке останова дольше 90 секунд.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Был отлаживаемый процесс веб-сервера был завершен в Internet Information Services (IIS). Этого можно избежать, настроив параметры тестового опроса для пула приложений в IIS. В разделе справки для получения дополнительных сведений.  
  
### <a name="resolution"></a>Решение  
 По умолчанию пула приложений IIS ожидает в течение 90 секунд ответа перед его закрытием приложения. Этот процесс известен как «применение команды ping» приложения. Чтобы устранить эту проблему, можно увеличить время ожидания или отключить опрос приложения.  
  
##### <a name="to-access-the-iis-app-pool-settings"></a>Для доступа к параметрам пула приложений IIS  
  
1.  Откройте диспетчер IIS.  
  
2.  В **подключений** панели, раскройте узел сервера SharePoint и выберите **пулы приложений** узла.  
  
3.  На **пулы приложений** выберите пул приложения SharePoint (как правило «SharePoint - 80»), а затем в **действия** области, выберите **Дополнительные параметры** ссылка.  
  
4.  Чтобы увеличить время ожидания до истечения времени ожидания IIS, измените значение **максимальное время отклика пинга (в секундах)** значение, превышающее 90 секунд.  
  
5.  Чтобы отключить проверку связи IIS, установите **Пинг включен** для **False**.  
  
## <a name="auto-retract-leaves-orphaned-list-instance-in-sharepoint"></a>Автоматический отзыв оставляет потерянные экземпляры списка в SharePoint  
 Эта проблема возникает, если вы выполните следующие действия.  
  
1.  Создайте определение списка с экземпляром списка в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)].  
  
2.  Нажмите клавишу F5, чтобы запустить решение.  
  
3.  Остановите отладку, или закройте сайт SharePoint.  
  
4.  Снова откройте сайт SharePoint и открытие экземпляра списка.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Ошибка сервера в приложении '/'.  
  
### <a name="resolution"></a>Решение  
 Это происходит, поскольку после закрытия сеанса отладки решения SharePoint, автоматического отзыва отзывает решение. Отзыв удаляет определение списка из SharePoint, но не удаляет экземпляр из списка. Базовое определение списка требуется экземпляр списка.  
  
 Чтобы устранить эту проблему, необходимо развернуть решение, в строке меню, выберите **построения**, **развернуть**. (Не выполняйте отладку решения нажатием клавиши F5). Удалите экземпляры списка в SharePoint.  
  
## <a name="original-sharepoint-solution-is-replaced-by-an-exported-version"></a>Экспортируемая версия заменяется исходное решение SharePoint  
 При экспорте решения SharePoint, импорт в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)]и затем развернуть решение обратно в том же сайте, из которого он был экспортирован, заменяются в исходном решении SharePoint. Эта проблема не возникает, если развертывание решения на сервере, у которого нет исходного решения активирован на нем.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Отсутствует.  
  
### <a name="resolution"></a>Решение  
 Чтобы избежать перезаписи решения на сайте, из которого он был экспортирован, изменить идентификаторы GUID для ИД решения и ИД компонента у всех компонентов, импортируемых в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] проекта.  
  
## <a name="error-appears-when-debugging-starts"></a>Возникает ошибка при запуске отладки  
 При запуске отладки решения SharePoint в Visual Studio ошибка сигнализирует о том, что Visual Studio не удалось загрузить файл конфигурации Web.config, поскольку данный ключ отсутствует в словаре.  
  
### <a name="error-message"></a>Сообщение об ошибке  
 Не удалось загрузить файл конфигурации Web.config. Проверьте файл имеет неправильный формат XML-элементы и повторите попытку. Произошла следующая ошибка: данный ключ не найден в словаре.  
  
### <a name="resolution"></a>Решение  
 Для решения проблемы следует убедиться, что значение свойства URL-адреса сайта проекта SharePoint в Visual Studio соответствует URL-адресу, назначенному зоне по умолчанию для сопоставлений альтернативного доступа веб-приложения. Использование для URL-адреса другой зоны, например интрасети, не решит проблему. URL-адрес сайта проекта и URL-адрес зоны по умолчанию должны совпадать. Для доступа к сопоставлений альтернативного доступа, откройте Центр администрирования SharePoint 2010 программы, выберите **управление приложениями** ссылку, а затем на вкладке **веб-приложений**, выберите  **Настройка альтернативного сопоставления доступа** ссылку. Дополнительные сведения см. в разделе [создать зоны для веб-приложений](http://go.microsoft.com/fwlink/?LinkId=192274).  
  
## <a name="see-also"></a>См. также  
 [Устранение неполадок SharePoint упаковки и развертывания](../sharepoint/troubleshooting-sharepoint-packaging-and-deployment.md)   
 [Построение и отладка решений SharePoint](../sharepoint/building-and-debugging-sharepoint-solutions.md)   
 [Отладка в Visual Studio](/visualstudio/debugger/debugging-in-visual-studio)  
  
  

---
title: Предоставление упаковке и сведения о развертывании в элементах проекта | Документы Microsoft
ms.custom: ''
ms.date: 02/02/2017
ms.technology:
- office-development
ms.topic: conceptual
f1_keywords:
- VS.SharePointTools.Project.SafeControlEntries
- VS.SharePointTools.Project.ProjectOutputReference
- VS.SharePointTools.Project.FeatureProperties
dev_langs:
- VB
- CSharp
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, safe controls
- project output references [SharePoint development in Visual Studio]
- SharePoint development in Visual Studio, feature properties
- SharePoint development in Visual Studio, project output references
- SharePoint development in Visual Studio, advanced packaging tools
- feature properties [SharePoint development in Visual Studio]
- SharePoint development in Visual Studio, feature receiver
- feature receiver [SharePoint development in Visual Studio]
- safe controls [SharePoint development in Visual Studio]
author: TerryGLee
ms.author: tglee
manager: douge
ms.workload:
- office
ms.openlocfilehash: 078715380bb5ddc570d745d76fabe4d8a264eef0
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="providing-packaging-and-deployment-information-in-project-items"></a>Providing Packaging and Deployment Information in Project Items
  Все элементы проекта SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] имеют свойства, которые можно использовать для предоставления дополнительных данных, когда проект развернут в SharePoint. Список содержит следующие свойства.  
  
-   Свойства компонента  
  
-   Приемники компонентов  
  
-   Выходные ссылки проекта  
  
-   Записи безопасных элементов управления  
  
 Эти свойства отображаются в **свойства** окна.  
  
## <a name="feature-properties"></a>Свойства компонента  
 Используйте **свойства компонента** свойство для указания данных, используемых компонентом. Данные свойства компонента — это ряд значений (сохраняемых в виде пар "ключ значение"), поставляемый с компонентом при его развертывании в SharePoint. После развертывания функции значения свойств можно использовать в коде.  
  
 При добавлении значения свойства компонента для элемента проекта, значение добавляется как элемент в манифесте компонента элемента. В проекте модели бизнес-данным (BDC) например, свойство компонента ModelFileName отображается следующим образом:  
  
```  
<Property Key="ModelFileName" Value="BdcModel1\BdcModel1.bdcm" />   
```  
  
 После задания значения свойства компонента, он добавляется как элемент FeatureProperty в SPDATA-файл проекта. Сведения о доступе к свойствам в SharePoint см. в разделе [SPFeaturePropertyCollection класса](http://go.microsoft.com/fwlink/?LinkId=177391).  
  
 Одинаковые значения свойства компонента из всех элементов проекта объединяются вместе в манифесте компонента. Тем не менее если два различных элемента проекта укажите одинаковый ключ свойства компонента с несовпадающими значениями, возникает ошибка проверки.  
  
 Добавление свойства компонента непосредственно в файл компонента (* .feature), вызовите [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] метод модели объекта SharePoint <xref:Microsoft.VisualStudio.SharePoint.Features.IPropertyCollection.Add%2A>. При использовании этого метода, имейте в виду, что правило добавления одинаковых значений свойства компонента в свойствах компонента также применяется к свойствам, добавленное непосредственно в файл компонента.  
  
## <a name="feature-receiver"></a>Приемник компонента  
 Приемники компонентов представляют собой код, который выполняется при возникновении определенных событий для элемента проекта, содержащего функцию. Например можно определить приемников, которые выполняются при установке, активировать или обновлении компонента. Один из способов добавления приемника компонента является добавление либо возможность, как описано в [Пошаговое руководство: Добавление приемников событий компонентов](../sharepoint/walkthrough-add-feature-event-receivers.md). Другой способ — ссылка на имя класса приемника компонента и сборки в **приемника компонента** свойство.  
  
### <a name="direct-method"></a>Прямой метод  
 При добавлении приемника компонента в компонент напрямую, файл кода находится в **функция** узел в обозревателе решений. При создании решения SharePoint, код компилируется в сборку и развертывание SharePoint. По умолчанию свойства компонента **сборку приемника** и **класс приемника** ссылаются на имя класса и сборки.  
  
### <a name="reference-method"></a>Reference-метод  
 Другим способом добавления приемника компонента — с помощью **приемника компонента** свойства элемента проекта для ссылки на сборку приемника компонента. Значение свойства приемника компонента имеет для вложенных свойства: **сборки** и **имя класса**. Сборка должна использовать полное имя, «строгое» имя и имя класса должно быть полное имя типа. Подробнее см. в статье [Сборки со строгими именами](http://go.microsoft.com/fwlink/?LinkID=169573). После развертывания решения в SharePoint, компонент использует ссылочный приемник компонента для обработки событий компонента.  
  
 Во время построения решения значения свойства приемника компонента в компоненте и его проекты объединяются вместе для установления атрибутов ReceiverAssembly и ReceiverClass элемента компонента в манифесте компонента SharePoint файл решения (WSP-файл). Таким образом Если сборка и имя класса значения свойств в элемент проекта, а компонент указаны, значения свойств элементов и возможность проекта должны совпадать. Если значения не совпадают, вы получите ошибку проверки. Если требуется, чтобы элемент проекта для ссылки на сборку приемника компонента, отличной от его компонентом, переместите его в другой компонент.  
  
 При ссылке на сборку приемника компонента, который еще не находится на сервере, необходимо включить сам файл сборки в пакете; [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] не добавляются автоматически. При развертывании компонента, файл сборки копируется либо в системе [!INCLUDE[TLA#tla_gac](../sharepoint/includes/tlasharptla-gac-md.md)] или в папку Bin в физическом каталоге SharePoint. Дополнительные сведения см. в разделе как: [как: Добавление и удаление дополнительных сборок](../sharepoint/how-to-add-and-remove-additional-assemblies.md).  
  
 Дополнительные сведения о приемниках компонента см. в разделе [приемника событий компонента](http://go.microsoft.com/fwlink/?LinkID=169574) и [событий компонента](http://go.microsoft.com/fwlink/?LinkID=169575).  
  
## <a name="project-output-references"></a>Выходные ссылки проекта  
 Выходные ссылки проекта свойство задает зависимость, например сборку, которую должен запустить элемент проекта. Например предположим, что решение содержит проект BDC и проект класса. Если проект BDC имеет зависимость от сборки, которая выводится в проекте класс, можно ссылаться на сборку в свойстве проекта BDC выходных ссылок проекта. Во время упаковки проекта BDC зависимая сборка включена в пакет.  
  
 Выходные ссылки проекта обычно являются сборками, но в некоторых случаях (например, проекты Silverlight) могут иметь другие типы файлов.  
  
 Дополнительные сведения см. в разделе [как: Добавление ссылки на выходные данные проекта](../sharepoint/how-to-add-a-project-output-reference.md).  
  
## <a name="safe-control-entries"></a>Записи безопасных элементов управления  
 SharePoint предоставляет механизм безопасности, называемый записи безопасных элементов управления, для ограничения доступа недоверенных пользователей к определенным элементам управления. По умолчанию SharePoint позволяет недоверенных пользователей для отправки и создать ASPX-страницы на сервере SharePoint. Чтобы предотвратить эти пользователи добавление небезопасного кода на страницы ASPX, SharePoint ограничивает доступ к *безопасные элементы управления*. Безопасные элементы управления являются элементами управления ASPX и веб-частей, которые обозначены как безопасные и может использоваться любым пользователем на веб-узле. Дополнительные сведения см. в разделе [шаг 4: добавить в список безопасных элементов управления веб-части](http://go.microsoft.com/fwlink/?LinkID=171014).  
  
 Каждый элемент проекта SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] имеет свойство с именем **записи безопасных элементов управления** , имеет два логических вложенных свойства: **безопасном** и **безопасен в отношении скриптов**. Свойство "Безопасно" определяет, возможен ли доступ к элементу управления для недоверенных пользователей. Свойство безопасен в отношении скриптов, указывает ли ненадежные пользователи могут просматривать и изменять свойства элемента управления.  
  
 Записи безопасных элементов управления можно ссылаться на основании сборки. Добавить записи безопасных элементов управления в сборку проекта, указав их в элементе проекта **записи безопасных элементов управления** свойство. Однако можно также добавить записи безопасных элементов управления для сборки проекта с помощью **Дополнительно** вкладке **конструктора пакетов** при добавлении дополнительную сборку в пакет. Дополнительные сведения см. в разделе [как: элементы управления пометить как безопасные элементы управления](../sharepoint/how-to-mark-controls-as-safe-controls.md) или [регистрации веб-часть сборки как безопасный элемент управления](http://go.microsoft.com/fwlink/?LinkID=171013).  
  
### <a name="xml-entries-for-safe-controls"></a>Записи XML для безопасных элементов управления  
 При добавлении запись безопасного элемента управления для элемента проекта или сборку проекта, ссылка записывается в манифест пакета в следующем формате:  
  
```xml  
<Assemblies>  
    <Assembly Location="<assembly name>.dll"     
      DeploymentTarget="<'GlobalAssemblyCache' or 'WebApplication'">>  
        <SafeControls>  
            <SafeControl Assembly="<assembly name>.dll" Namespace=  
              "<SharePoint project name>" Safe="<true/false>"     
                TypeName="<control name>"   
                SafeAgainstScript="<true/false>" />  
        </SafeControls>  
    </Assembly>  
</Assemblies>  
```  
  
## <a name="see-also"></a>См. также  
 [Упаковка и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md)   
 [Использование модулей для включения файлов в решении](../sharepoint/using-modules-to-include-files-in-the-solution.md)   
 [Расширение упаковки и развертывания проектов SharePoint](../sharepoint/extending-sharepoint-packaging-and-deployment.md)  
  
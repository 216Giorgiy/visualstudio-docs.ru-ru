---
title: "Предоставление сведений об упаковке и развертывании в элементах проекта | Microsoft Docs"
ms.custom: ""
ms.date: "02/02/2017"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "office-development"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "VS.SharePointTools.Project.SafeControlEntries"
  - "VS.SharePointTools.Project.ProjectOutputReference"
  - "VS.SharePointTools.Project.FeatureProperties"
dev_langs: 
  - "VB"
  - "CSharp"
  - "VB"
  - "CSharp"
helpviewer_keywords: 
  - "свойства компонента [разработка приложений SharePoint в Visual Studio]"
  - "приемник компонента [разработка приложений SharePoint в Visual Studio]"
  - "выходные ссылки на данные проекта [разработка приложений SharePoint в Visual Studio]"
  - "безопасные элементы управления [разработка приложений SharePoint в Visual Studio]"
  - "разработка приложений SharePoint в Visual Studio, расширенные средства создания пакетов"
  - "разработка приложений SharePoint в Visual Studio, свойства компонента"
  - "разработка приложений SharePoint в Visual Studio, приемник компонента"
  - "разработка приложений SharePoint в Visual Studio, выходные ссылки проекта"
  - "разработка приложений SharePoint в Visual Studio, безопасные элементы управления"
ms.assetid: 209ff3b9-d701-4d27-9d24-005fcc811cbe
caps.latest.revision: 10
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
caps.handback.revision: 9
---
# Предоставление сведений об упаковке и развертывании в элементах проекта
  Все элементы проекта SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] имеют свойства, которые можно использовать для предоставления дополнительных данных, когда проект развернут в SharePoint.  Список содержит следующие свойства.  
  
-   Свойства компонента  
  
-   приемники компонента;  
  
-   Выходные ссылки проекта  
  
-   Записи безопасных элементов управления  
  
 Эти свойства отображаются в окне **Свойства**.  
  
## Свойства компонента  
 Свойство **Свойства компонента** используется для указания данных, используемых компонентом.  Данные свойств компонента представляют собой набор значений \(сохраненных как пары ключ\/значение\), включенный в компонент при его развертывании в SharePoint.  После развертывания компонента, доступ к значениям свойства можно получить через код.  
  
 При добавлении значения свойства компонента в элемент проекта, значение добавляется, как элемент в манифесте компонента элемента.  В модели проекта подключения бизнес\-данных \(BDC\), например, свойство компонента ModelFileName отображается как:  
  
```  
<Property Key="ModelFileName" Value="BdcModel1\BdcModel1.bdcm" />   
```  
  
 После установки значения свойства компонента, оно добавляется как элемент FeatureProperty в SPDATA\-файл проекта.  Дополнительные сведения о доступе к свойствам в SharePoint см. в разделе [SPFeaturePropertyCollection Class](http://go.microsoft.com/fwlink/?LinkId=177391).  
  
 Одинаковые значения свойства компонента из всех элементов проекта объединяются вместе в манифесте компонента.  Однако если два различных элемента проекта показывают одинаковый ключ свойства компонента с несовпадающими значениями, возникнет ошибка проверки.  
  
 Чтобы добавить свойства компонента непосредственно в файл компонента \(\*.feature\), вызовите метод модели объекта [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] SharePoint <xref:Microsoft.VisualStudio.SharePoint.Features.IPropertyCollection.Add%2A>.  При использовании этого метода необходимо помнить, что правило добавления одинаковых значений свойства компонента в свойствах компонента также применяется к свойствам, добавленным непосредственно в файл компонента.  
  
## Приемник компонента  
 Приемники компонентов представляют собой код, который выполняется при возникновении определенных событий в компоненте, содержащем элемент проекта.  Например, можно определить приемник компонента, который работает после установки, активации или обновления компонента.  Одним из способов добавления приемника компонента является его непосредственное добавление в компонент, как описано в [Пошаговое руководство. Добавление приемников событий компонентов](../sharepoint/walkthrough-add-feature-event-receivers.md).  Другой способ — ссылка на имя класса приемника компонента и сборки в свойстве **Приемник компонента**.  
  
### Прямой метод  
 При добавлении приемника компонента непосредственно в компонент, файл исходного кода помещается в узел **Компонент** в "обозревателе решений".  При построении решения SharePoint, код компилируется в сборку и развертывается в SharePoint.  По умолчанию свойства компонента **Сборка приемника** и **Класс приемника** ссылаются на имя класса и сборки.  
  
### Метод ссылки  
 Другим способом добавления приемника компонента является использование свойства элемента проекта **Приемник компонента** для ссылки на сборку приемника компонента.  Значение свойства "Приемник компонента" имеет для вложенных свойства: **Сборка** и **Имя класса**.  Сборка должна использовать полное имя, "строгое" имя и имя класса должны быть полными именами типа.  Дополнительные сведения см. в разделе [Strong\-Named Assemblies](http://go.microsoft.com/fwlink/?LinkID=169573).  После развертывания решения в SharePoint, компонент использует ссылочный приемник компонента для обработки событий компонента.  
  
 Во время построения решения, значения свойства приемника компонента в компоненте и его проектах объединяются вместе для установления атрибутов ReceiverAssembly и ReceiverClass элемента "Компонент" в манифест компонента файла решения SharePoint \(.wsp\).  Таким образом, если указаны значения свойств "Сборка" и "Имя класса" элемента проекта и компонента, элемент проекта и значения свойств компонента должны совпадать.  Если значения не совпадают, отобразится ошибка проверки.  Если элемент проекта ссылается на сборку приемника компонента, отличную от одного из используемых его компонентом, переместите его в другой компонент.  
  
 При ссылке на сборку приемника компонента, который еще не находится на сервере, в пакет также необходимо включить сам файл сборки; [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] самостоятельно его не добавит.  При развертывании компонента, файл сборки копируется в [!INCLUDE[TLA#tla_gac](../sharepoint/includes/tlasharptla-gac-md.md)] системы или папку Bin в физическом каталоге SharePoint.  Дополнительные сведения см. в разделе [Практическое руководство. Добавление и удаление дополнительных сборок](../sharepoint/how-to-add-and-remove-additional-assemblies.md).  
  
 Дополнительные сведения о приемниках компонента см. [Feature Event Receiver](http://go.microsoft.com/fwlink/?LinkID=169574) и [Feature Events](http://go.microsoft.com/fwlink/?LinkID=169575).  
  
## Выходные ссылки проекта  
 Свойство "Выходные ссылки проекта" определяет зависимость, такую как сборка, которую должен выполнить элемент проекта.  Например, предположим решение содержит проект BDC и проект класса.  Если проект BDC содержит зависимость от выходной сборки проекта класса, сослаться на сборку можно в свойстве BDC проекта "Выходные ссылки проекта".  После упаковки BDC проекта, зависимая ссылка включается в пакет.  
  
 Выходные ссылки проекта обычно являются сборками, но в отдельных случаях \(как проекты Silverlight\) могут иметь другие типы файлов.  
  
 Для получения дополнительной информации см. [Практическое руководство. Добавление ссылки на выходные данные проекта](../sharepoint/how-to-add-a-project-output-reference.md).  
  
## Записи безопасных элементов управления  
 SharePoint предоставляет механизм безопасности, так называемые записи безопасных элементов управления, для ограничения доступа недоверенных пользователей к определенным элементам управления.  По проекту, SharePoint позволяет недоверенным пользователям отправлять и создавать страницы ASPX на сервере SharePoint.  Чтобы предотвратить добавление пользователями небезопасного кода на страницы ASPX, SharePoint ограничивает доступ к *безопасным элементам управления*.  Безопасные элементы управления являются элементами управления ASPX; разработаны как безопасные и могут использоваться любыми пользователями сайта.  Дополнительные сведения см. в разделе [Step 4: Add your Web Part to the Safe Controls List](http://go.microsoft.com/fwlink/?LinkID=171014).  
  
 Каждый элемент проекта SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] имеет свойство **Записи безопасных элементов управления**, которое содержит два логических вложенных свойства: **Безопасно** и **Безопасно в отношении скриптов**.  Свойство "Безопасно" определяет, возможен ли доступ к элементу управления для недоверенных пользователей.  Свойство "Безопасно в отношении скриптов" определяет, возможен ли просмотр и изменение свойств элемента управления для недоверенных пользователей.  
  
 Ссылка на записи безопасных элементов управления происходит на основании сборки.  Добавление записей безопасных элементов управления в сборку проекта происходит посредством их введения в свойство элемента проекта **Записи безопасных элементов управления**.  Однако записи безопасных элементов управления добавлять в сборку проекта посредством можно также на вкладке **Дополнительно** в **Конструкторе пакетов** при добавлении в пакет дополнительной сборки.  Дополнительные сведения см. в разделе [Практическое руководство. Пометка элементов управления как безопасных](../sharepoint/how-to-mark-controls-as-safe-controls.md) или [Registering a Web Part Assembly as a Safe Control](http://go.microsoft.com/fwlink/?LinkID=171013).  
  
### Записи XML для безопасных элементов управления  
 При добавлении записи безопасного элемента управления в элемент или сборку проекта, ссылка записывается в манифест пакета в следующем формате:  
  
```  
<Assemblies>  
    <Assembly Location="<assembly name>.dll"     
      DeploymentTarget="<'GlobalAssemblyCache' or 'WebApplication'">>  
        <SafeControls>  
            <SafeControl Assembly="<assembly name>.dll" Namespace=  
              "<SharePoint project name>" Safe="<true/false>"     
                TypeName="<control name>"   
                SafeAgainstScript="<true/false>" />  
        </SafeControls>  
    </Assembly>  
</Assemblies>  
```  
  
## См. также  
 [Упаковка и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md)   
 [Использование модулей для включения файлов в решение](../sharepoint/using-modules-to-include-files-in-the-solution.md)   
 [Extending SharePoint Packaging and Deployment](../sharepoint/extending-sharepoint-packaging-and-deployment.md)  
  
  
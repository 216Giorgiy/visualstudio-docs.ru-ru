---
title: Создание решений рабочих процессов SharePoint | Документы Microsoft
ms.custom: ''
ms.date: 02/02/2017
ms.technology:
- office-development
ms.topic: conceptual
f1_keywords:
- VSTO.NewSharePointWorkflowWizard.Page3
- VS.SharePointTools.Workflow.WorkflowName
- VSTO.NewSharePointWorkflowWizard.Page2
- VSTO.NewSharePointWorkflowWizard.Page1
dev_langs:
- VB
- CSharp
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, workflows
- workflows [SharePoint development in Visual Studio]
author: TerryGLee
ms.author: tglee
manager: douge
ms.workload:
- office
ms.openlocfilehash: bc78726146b67a39f8e8988dda6c7d2baf5c49b3
ms.sourcegitcommit: 0aafcfa08ef74f162af2e5079be77061d7885cac
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34691928"
---
# <a name="creating-sharepoint-workflow-solutions"></a>Создание решений рабочих процессов SharePoint
  [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] предоставляет средства для создания пользовательских рабочих процессов, которые управляют жизненным циклом документов и элементов списка веб-сайте SharePoint. Предоставляется конструктор, набор элементов управления действием и ссылки на необходимые сборки. [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] также включает **мастер настройки SharePoint**, помогающие создавать и настраивать рабочие процессы.  
  
 Список предварительных требований для создания проектов SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)], в разделе [требования к разработке решений SharePoint](../sharepoint/requirements-for-developing-sharepoint-solutions.md). Дополнительные сведения о SharePoint см. в разделе [Microsoft продуктов и технологий SharePoint](http://go.microsoft.com/fwlink/?LinkId=178470).  
  
## <a name="workflows-in-sharepoint"></a>Рабочие процессы в SharePoint  
 При добавлении рабочего процесса в библиотеку SharePoint или список, можно применять бизнес-процесс для всех элементов в библиотеку или список. Рабочий процесс описывает действия, которые система или пользователь должен выполнить для каждого элемента, например, элемент, чтобы изменить, а затем проверить отправку. Эти действия, известные как *действия*, являются стандартными блоками рабочего процесса.  
  
 Можно создать рабочие процессы SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] и развертывать их на веб-сайта SharePoint. После развертывания рабочего процесса в SharePoint, его нужно связать с библиотеку или список. Он затем запускается автоматически, с помощью процесса, вручную или пользователем. Дополнительные сведения об операции рабочего процесса см. в разделе [рабочих процессов разработки SharePoint, с помощью Visual Studio](https://docs.microsoft.com/sharepoint/dev/general-development/develop-sharepoint-workflows-using-visual-studio).  
  
## <a name="create-custom-sharepoint-workflows"></a>Создание пользовательских рабочих процессов SharePoint
 Два проекта рабочих процессов доступны для вас в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)]: **последовательный рабочий процесс** и **конечного автомата**.  
  
 Объект *последовательный рабочий процесс* представляет ряд шагов. Эти шаги выполняются один за другим, пока не будет выполнено последнее действие. Последовательные рабочие процессы всегда являются строго последовательно, их выполнение. Поскольку они могут принимать внешние события и использовать параллельную логику потоков, точный порядок их выполнения может отличаться. Ниже показан пример последовательного рабочего процесса.  
  
 ![Последовательный рабочий процесс](../sharepoint/media/sp-sequential.png "последовательный рабочий процесс")  
  
 Объект *конечного автомата* представляет набор состояний, переходов и действий. Асинхронное выполнение действия в рабочий процесс конечного компьютера. Это означает, что они не обязательно выполняются один за другим, но вызываются при наступлении действия и состояния. Одно состояние задается как начальное, а затем на основе события, переходе в другое состояние. Конечный автомат может иметь конечное состояние, которое определяет конец рабочего процесса. В примере ниже показан пример рабочего потока конечного компьютера.  
  
 ![Состояние конечного автомата](../sharepoint/media/sp-state.png "состояние конечного автомата")  
  
 Дополнительные сведения о типах рабочего процесса см. в разделе [типов рабочих процессов](http://go.microsoft.com/fwlink/?LinkId=178995).  
  
### <a name="using-the-wizard"></a>С помощью мастера
 При создании проекта рабочего процесса SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)], сначала необходимо указать его параметры в **мастер настройки SharePoint**. Мастер использует эти параметры для создания проекта в **обозревателе решений**. Этот проект содержит файл кода, несколько файлов, которые будут использоваться для развертывания рабочего процесса, и ссылки на сборки, необходимые для создания настраиваемого рабочего процесса SharePoint.  
  
 После создания рабочего процесса, можно изменить его свойства в окне «Свойства». Несмотря на то, что многие свойства можно изменять непосредственно в окне «Свойства», некоторые потребуется нажать кнопку с многоточием (![эллипс конструктора ASP.NET Mobile](../sharepoint/media/mwellipsis.gif "эллипс конструктора ASP.NET Mobile")) для Измените их значения. Эта кнопка перезапускает **мастер настройки SharePoint**. После внесения изменив значения свойств, выберите **Готово** кнопку, чтобы подтвердить их.  
  
> [!NOTE]  
>  **Тип рабочего процесса** свойство доступно только для чтения и не может быть изменено. Если вы хотите изменить тип рабочего процесса, необходимо создать другой рабочий процесс.  
  
## <a name="design-a-sharepoint-workflow"></a>Разработка рабочего процесса SharePoint
 Определив все действия бизнес-процесса, используйте [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] конструктора рабочих процессов для разработки рабочего процесса SharePoint. Чтобы открыть конструктор, дважды щелкните Workflow1.cs или Workflow1.vb в **обозревателе решений**, или откройте контекстное меню для любого из этих файлов и выберите **откройте**.  
  
### <a name="activities"></a>Действия  
 Для создания рабочего процесса, добавьте действия из **элементов** для *расписания рабочего процесса* в конструкторе. Расписания рабочего процесса содержит последовательность действий в том порядке, что они должны выполняться.  
  
 Существует два вида действий:  
  
-   *Простые действия* выполняют простые единицы работы, такие как «задержка на 1 день» или «запуск веб-службы».  
  
-   *Составные действия* содержат другие действия, например, условное действие может содержать две ветви.  
  
 Обоих типов действий, доступных в **элементов**.  
  
 Действия могут иметь свойства, методы и события. Используйте **свойства** окно, чтобы задать свойства действия.  
  
 Также можно создать пользовательское действие. Дополнительные сведения см. в разделе [Пошаговое руководство: Создание пользовательского действия рабочего процесса сайта](../sharepoint/walkthrough-create-a-custom-site-workflow-activity.md).  
  
 Действия расположены на следующих вкладках в **элементов**:  
  
-   **Рабочий процесс SharePoint**  
  
-   **Рабочий процесс Windows версии 3.0**  
  
-   **Рабочий процесс Windows версии 3.5**  
  
 SharePoint поддерживает не все базовые операции рабочего процесса. Дополнительные сведения см. в разделе [рабочих процессов для Windows SharePoint Services Общие сведения о действиях](http://go.microsoft.com/fwlink/?LinkID=156094).  
  
#### <a name="sharepoint-workflow-activities"></a>Действия рабочего процесса SharePoint
 **Рабочего процесса SharePoint** содержатся специальные действия для использования в [!INCLUDE[wss_14_long](../sharepoint/includes/wss-14-long-md.md)]. Эти действия упростить и ускорить разработку рабочих процессов жизненного цикла документа. Дополнительные сведения о действиях на **рабочего процесса SharePoint** см. в разделе [рабочих процессов для Windows SharePoint Services Общие сведения о действиях](http://go.microsoft.com/fwlink/?LinkID=156094).  
  
#### <a name="windows-workflow-activities"></a>Действия рабочего процесса Windows
 **Рабочего процесса Windows** содержатся действия, предоставляемые [!INCLUDE[TLA#tla_workflow](../sharepoint/includes/tlasharptla-workflow-md.md)]. Эти действия можно использовать для создания расписания рабочего процесса для приложения рабочего процесса Windows любого типа.  
  
 Дополнительные сведения о действиях на **рабочих процессов Windows** см. в разделе [Windows Workflow Foundation действия](http://go.microsoft.com/fwlink/?LinkID=156096). Дополнительные сведения о Windows Workflow Foundation см. в разделе [Общие сведения о Windows Workflow Foundation](http://go.microsoft.com/fwlink/?LinkID=128632).  
  
### <a name="work-with-activities-in-the-designer"></a>Работать с действиями в конструкторе
 Расписание рабочего процесса может содержать сочетание действий рабочего процесса Windows и действий рабочих процессов SharePoint.  
  
 Конструктор показывает визуальные подсказки, которые помогают расположить и настроить действия правильно. При перетаскивании или копировании действия из расписания рабочего процесса конструктор показывает зеленые значки плюс (+), которые показывают верные расположения для этого действия в рабочем процессе. Нельзя расположить действие в месте, где он не будет действителен. Например нельзя поместить действие Send как первое действие в ветке действий Listen. Дополнительные сведения см. в разделе [центр разработки SharePoint Designer](http://go.microsoft.com/fwlink/?LinkId=178476).  
  
## <a name="collect-information-during-the-workflow"></a>Сбор данных в ходе рабочего процесса
 Вы можете собирать сведения от пользователей в заранее определенный момент в рабочем процессе. Можно собирать сведения с помощью форм или свойств элементов.  
  
### <a name="forms"></a>Формы  
 Формы — это диалоговые окна, отображаются вопросы и предоставляется для пользователей предоставить ответы.  
  
 Существует четыре типа форм, которые могут использоваться в рабочем процессе.  
  
-   Ассоциация  
  
-   Запуск  
  
-   Изменение  
  
-   Задача  
  
 Из них [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] включает шаблоны элементов для форм связывания и запуска. Пример *форма сопоставления* один, который позволяет администратору установки рабочего процесса введите параметры, относящиеся к рабочего процесса, например предельная сумма расходов для расходов рабочего процесса. Пример *формы запуска* то, которое позволяет пользователю рабочего процесса о расходах ввести сумму в рабочий процесс. Дополнительные сведения об этих типах форм см. в разделе [проект SharePoint и шаблоны элементов проекта](../sharepoint/sharepoint-project-and-project-item-templates.md).  
  
### <a name="item-properties"></a>Свойства элемента
 Можно также собирать сведения от пользователей с помощью свойств элемента в библиотеке SharePoint или списке. Основного файла кода (Workflow1.cs или Workflow1.vb) объявляет экземпляр с именем класса Microsoft.SharePoint.Workflow.SPWorkflowActivationProperties.WorkflowProperties `workflowProperties`. Используйте `workflowProperties` объекта для доступа к свойствам библиотеки или списка в коде. Пример см. в разделе [Пошаговое руководство: Создание и отладка решения рабочих процессов SharePoint](../sharepoint/walkthrough-creating-and-debugging-a-sharepoint-workflow-solution.md).  
  
## <a name="debug-a-sharepoint-workflow-template"></a>Отладка рабочих процессов SharePoint
 Можно отлаживать проект рабочего процесса SharePoint таким же образом, как другие [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] веб-проектов. При запуске [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] отладчик, [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] использует параметры, указываемые в **мастер настройки SharePoint** для открытия соответствующего веб-сайта SharePoint и автоматическое связывание шаблона рабочего процесса с помощью соответствующую библиотеку или список. [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] Кроме того, присоединяет [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] отладчик нужно [!INCLUDE[wss_14_long](../sharepoint/includes/wss-14-long-md.md)] процесса с именем w3wp.exe.  
  
 Чтобы проверить рабочий процесс, необходимо запустить ее вручную. Дополнительные сведения см в подразделе «Отладка рабочих процессов» раздела [отладка решений SharePoint](../sharepoint/debugging-sharepoint-solutions.md). Дополнительные сведения о [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] отладке веб-приложений см. в разделе [отладки веб-приложений](/visualstudio/debugger/debugging-web-applications-and-script).  
  
## <a name="deploy-a-sharepoint-workflow-template"></a>Развертывание рабочих процессов SharePoint
 [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] Развертывание проектов рабочих процессов SharePoint также, как [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] проектов SharePoint. Дополнительные сведения см. в разделе [упаковка и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md).  
  
## <a name="import-globally-reusable-workflows"></a>Импортировать глобальные рабочие процессы
 Помимо создания конкретного узла рабочих процессов для повторного использования, SharePoint Designer позволяет создавать *глобальные рабочие процессы*, — рабочих процессов, которые можно использовать на любом сайте SharePoint. Проект Импорт рабочего процесса для повторного использования в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] в настоящее время не удается импортировать глобальные рабочие процессы. Тем не менее можно либо использовать SharePoint Designer для преобразования глобального рабочего процесса в рабочий процесс для повторного использования, либо импортировать рабочий процесс как непреобразованных декларативного рабочего процесса. Дополнительные сведения см. в разделе [Импорт элементов из существующего сайта SharePoint](../sharepoint/importing-items-from-an-existing-sharepoint-site.md).  
  
## <a name="related-topics"></a>См. также
  
|Заголовок|Описание:|  
|-----------|-----------------|  
|[Пошаговое руководство. Создание и отладка решения рабочих процессов SharePoint](../sharepoint/walkthrough-creating-and-debugging-a-sharepoint-workflow-solution.md)|Пошаговые инструкции по созданию и отладке простого [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] рабочего процесса.|  
|[Пошаговое руководство. Создание рабочего процесса с формами связывания и запуска](../sharepoint/walkthrough-creating-a-workflow-with-association-and-initiation-forms.md)|Описание по шагам процедуры для создания более полнофункциональных [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] рабочего процесса с формами связывания и запуска.|  
|[Пошаговое руководство. Добавление страницы приложения в рабочий процесс](../sharepoint/walkthrough-add-an-application-page-to-a-workflow.md)|Дополнение к разделу [Пошаговое руководство: Создание рабочего процесса с формами связывания и запуска](../sharepoint/walkthrough-creating-a-workflow-with-association-and-initiation-forms.md) путем добавления приложения дополнительных ASPX-страницу, отчеты на данные, введенные в рабочем процессе.|  
|[Пошаговое руководство. Создание пользовательского действия для рабочего процесса сайта](../sharepoint/walkthrough-create-a-custom-site-workflow-activity.md)|Показано, как выполнять две основные задачи: Создание рабочего процесса на уровне сайта и создание пользовательского действия рабочего процесса.|  
|[Пошаговое руководство. Импорт рабочего процесса с возможностью повторного использования из конструктора SharePoint в Visual Studio](../sharepoint/walkthrough-import-a-sharepoint-designer-reusable-workflow-into-visual-studio.md)|Показано, как импортировать для повторного использования декларативных рабочих процессов, созданных в SharePoint Designer 2010, в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] проект SharePoint.|  
  
## <a name="see-also"></a>См. также
 [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)   
 [Построение и отладка решений SharePoint](../sharepoint/building-and-debugging-sharepoint-solutions.md)   
 [Создание страниц приложений для SharePoint](../sharepoint/creating-application-pages-for-sharepoint.md)  
  
 
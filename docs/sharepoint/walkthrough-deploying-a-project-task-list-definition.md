---
title: "Пошаговое руководство. Развертывание определения списка задач проекта"
ms.custom: ""
ms.date: "02/02/2017"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "office-development"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "VB"
  - "CSharp"
helpviewer_keywords: 
  - "разработка приложений SharePoint в Visual Studio, развертывание"
ms.assetid: 18b62016-ed30-4dd1-9dfc-0d7e82c6767f
caps.latest.revision: 34
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
caps.handback.revision: 33
---
# Пошаговое руководство. Развертывание определения списка задач проекта
  В этом пошаговом руководстве рассмотрено использование [!INCLUDE[vs_dev11_long](../sharepoint/includes/vs-dev11-long-md.md)] для создания, настройки, отладки и развертывания списка SharePoint с целью отслеживания задач проекта.  
  
 В данном пошаговом руководстве рассмотрены следующие задачи:  
  
-   [Создание списка SharePoint](#CreatingListDef).  
  
-   [Создание списка SharePoint](#CreatingListDef).  
  
-   [Добавление приемника событий](#AddEventRcvr).  
  
-   [Настройка компонента списка задач проекта](#CustomizeFeature).  
  
-   [Построение и тестирование списка задач проекта.](#BuildTest).  
  
 [!INCLUDE[note_settings_general](../sharepoint/includes/note-settings-general-md.md)]  
  
## Обязательные компоненты  
 Ниже приведены компоненты, необходимые для выполнения данного пошагового руководства.  
  
-   Поддерживаемые выпуски Microsoft Windows и SharePoint.  Для получения дополнительной информации см. [Требования по разработке решений SharePoint](../sharepoint/requirements-for-developing-sharepoint-solutions.md).  
  
-   [!INCLUDE[vs_pro_current_short](../sharepoint/includes/vs-pro-current-short-md.md)] или выпуск Visual Studio Application Lifecycle Management \(ALM\).  
  
##  <a name="CreatingListDef"></a> Создание списка SharePoint  
 Создайте проект списка SharePoint и свяжите определение списка с задачами.  
  
#### Создание проекта списка SharePoint  
  
1.  Откройте диалоговое окно **Новый проект**, разверните узел **SharePoint** и выберите узел **2010**.  
  
2.  В панели **Шаблоны** выберите шаблон **Проект SharePoint 2010**, назовите проект ProjectTaskList, а затем нажмите кнопку **ОК**.  
  
     Появится окно **Мастер настройки SharePoint**.  
  
3.  Укажите локальный сайт SharePoint, который используется для отладки, выберите переключатель **Развернуть как решение фермы**, а затем нажмите кнопку **Готово**.  
  
4.  Откройте контекстное меню проекта и выберите **Добавить**, **Новый элемент**.  
  
5.  На панели **Шаблоны** выберите шаблон **Список**, а затем нажмите кнопку **Добавить**.  
  
     Появится окно **Мастер настройки SharePoint**.  
  
6.  В поле **Какое имя списка должно отображаться?** введите "Project Task List".  
  
7.  Выберите переключатель **Создать не настраиваемый список на основе существующего типа списков**, а затем в списке, выберите **Задачи**, затем нажмите кнопку **Готово**.  
  
     В **обозревателе решений** отобразится список, компонент и пакет.  
  
##  <a name="AddEventRcvr"></a> Добавление приемника событий  
 В списке задач можно добавить приемник событий, автоматически задающий описание задачи и срок ее выполнения.  Следующая процедура позволяет добавить простой обработчик событий в экземпляр списка в качестве приемника событий.  
  
#### Добавление приемника событий  
  
1.  Откройте контекстное меню узла проекта, выберите **Добавить** и выберите **Создать элемент**.  
  
2.  В списке шаблонов SharePoint выберите шаблон **Приемник событий** и назовите его **ProjectTaskListEventReceiver**.  
  
     Появится окно **Мастер настройки SharePoint**.  
  
3.  На странице **Выбор параметров приемника событий** укажите тип приемника событий **События элементов списка** в списке **Тип приемника событий**.  
  
4.  В списке **Элемент, который должен быть источником событий** выберите **Задачи**.  
  
5.  В списке обрабатываемых событий установите флажок в пункте **Элемент добавлен** и нажмите кнопку **Готово**.  
  
     В проект добавится новый узел приемника событий с кодовым файлом под именем **ProjectTaskListEventReceiver**.  
  
6.  Добавьте код в метод `ItemAdded` кодового файла **ProjectTaskListEventReceiver**.  Для каждой добавляемой новой задачи устанавливается срок выполнения и описание, заданные по умолчанию.  Срок выполнения по умолчанию — 1 июля 2009 г.  
  
     [!code-csharp[SPProjectTaskList#1](../snippets/csharp/VS_Snippets_OfficeSP/spprojecttasklist/cs/projecttasklisteventreceiver/projecttasklisteventreceiver.cs#1)]
     [!code-vb[SPProjectTaskList#1](../snippets/visualbasic/VS_Snippets_OfficeSP/spprojecttasklist/vb/projecttasklisteventreceiver/projecttasklisteventreceiver.vb#1)]  
  
##  <a name="CustomizeFeature"></a> Настройка компонента списка задач проекта  
 При создании решения SharePoint система Visual Studio автоматически создает компоненты для элементов проекта по умолчанию.  Можно настроить параметры списка задач проекта для сайта SharePoint с помощью конструктора компонентов.  
  
#### Настройка компонента списка задач проекта  
  
1.  В **обозревателе решений** разверните узел **Компоненты**.  
  
2.  Откройте контекстное меню **Feature1** и выберите **Конструктор представлений**.  
  
3.  В поле **Название** введите **Компонент списка задач проекта**.  
  
4.  В списке **Область** выберите **Веб**.  
  
5.  В окне **Свойства** задайте свойству **Версия** значение **1.0.0.0**.  
  
##  <a name="CustomizePackage"></a> Настройка пакета списка задач проекта  
 При создании проекта SharePoint система Visual Studio автоматически добавляет в пакет компоненты, содержащие элементы проекта по умолчанию.  Можно настроить параметры списка задач проекта для сайта SharePoint с помощью конструктора пакетов.  
  
#### Настройка пакета списка задач проекта  
  
1.  В области **Обозревательрешений** откройте контекстное меню элемента **Пакет** и выберите **Конструктор представлений**.  
  
2.  В поле **Имя** введите **ProjectTaskListPackage**.  
  
3.  Установите флажок **Сброс веб\-сервера**.  
  
##  <a name="BuildTest"></a> Построение и тестирование списка задач проекта.  
 При запуске проекта открывается сайт SharePoint.  Впрочем, необходимо вручную перейти в расположение списка задач.  
  
#### Тестирование списка задач проекта  
  
1.  Нажмите клавишу F5 для построения и развертывания списка задач проекта.  
  
     Откроется сайт SharePoint.  
  
2.  Перейдите на вкладку **Главная страница**.  
  
3.  В левой боковой панели выберите ссылку **Список задач проекта**.  
  
     Откроется страница списка задач проекта.  
  
4.  На вкладке **Инструменты списка** перейдите на вкладку **Элементы**.  
  
5.  В группе **Элементы**, нажмите кнопку **Создать элемент**.  
  
6.  В текстовом поле **Название** введите Task1.  
  
7.  Нажмите кнопку **Сохранить**.  
  
     После обновления сайта появится задача **Task1** со сроком выполнения 1.07.2009.  
  
8.  Выберите **Task1**.  
  
     Появится окно с подробными сведениями о задаче с описанием "Это критическая задача".  
  
##  <a name="Deploy"></a> Развертывание списка задач проекта  
 После создания и тестирования списка задач проекта его можно развернуть в *локальную* или *удаленную систему*.  Локальная система — это тот же компьютер, на котором было разработано решение, а удаленная система — это другой компьютер.  
  
#### Развертывание списка задач проекта в локальной системе  
  
1.  В строке меню Visual Studio выберите **Построение**, **Развернуть решение**.  
  
     Visual Studio повторно использует пул приложений IIS, извлекает все существующие версии решения, копирует файл пакета решения \(WSP\-файл\) в SharePoint и активирует его компоненты.  Теперь решение можно использовать в SharePoint.  Дополнительные сведения о шагах настройки развертывания см. в разделе [Практическое руководство. Изменение конфигурации развертывания SharePoint](../sharepoint/how-to-edit-a-sharepoint-deployment-configuration.md).  
  
#### Развертывание списка задач проекта в удаленной системе  
  
1.  В строке меню Visual Studio выберите **Построение**, **Опубликовать**.  
  
2.  В диалоговом окне **Опубликовать** выберите переключатель **Опубликовать в файловой системе**.  
  
     Можно изменить целевое расположение в диалоговом окне **Опубликовать** с помощью кнопки с многоточием ![Значок эллипса](~/docs/sharepoint/media/ellipsisicon.gif "Значок эллипса") и выбора другого расположения.  
  
3.  Нажмите кнопку **Опубликовать**.  
  
     Для решения будет создан WSP\-файл.  
  
4.  Скопируйте WSP\-файл в удаленную систему SharePoint.  
  
5.  Чтобы установить пакет на удаленной системе SharePoint, введите команду PowerShell `Add-SPUserSolution`. \(Для решений фермы используйте команду `Add-SPSolution`.\)  
  
     Например, `Add-SPUserSolution C:\MyProjects\ProjectTaskList\ProjectTaskList\bin\Debug\ProjectTaskList.wsp`.  
  
6.  Чтобы развернуть решение, введите команду PowerShell `Install-SPUserSolution`. \(Для решений фермы используйте команду `Install-SPSolution`.\)  
  
     Например, `Install-SPUserSolution –Identity ProjectTaskList.wsp –Site http://NewSiteName`.  
  
     Дополнительные сведения об удаленном развертывании см. в разделах [Using Solutions](http://go.microsoft.com/fwlink/?LinkId=217680) и [Adding and Deploying Solutions with PowerShell in SharePoint 2010](http://go.microsoft.com/fwlink/?LinkId=217682).  
  
## Следующие действия  
 Дополнительные сведения о настройке и развертывании решений SharePoint см. в следующих разделах:  
  
-   [Пошаговое руководство. Создание столбца сайта, типа содержимого и списка для SharePoint](../sharepoint/walkthrough-create-a-site-column-content-type-and-list-for-sharepoint.md)  
  
-   [Практическое руководство. Создание приемника событий](../sharepoint/how-to-create-an-event-receiver.md)  
  
-   [Windows PowerShell для SharePoint Server 2010](http://go.microsoft.com/fwlink/?LinkId=217684)  
  
## См. также  
 [Упаковка и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md)  
  
  
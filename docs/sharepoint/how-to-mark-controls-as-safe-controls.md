---
title: 'Как: метки элементов управления как безопасных | Документы Microsoft'
ms.custom: ''
ms.date: 02/02/2017
ms.technology:
- office-development
ms.topic: conceptual
dev_langs:
- VB
- CSharp
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, safe controls
- SharePoint development in Visual Studio, advanced packaging tools
- safe controls [SharePoint development in Visual Studio]
author: TerryGLee
ms.author: tglee
manager: douge
ms.workload:
- office
ms.openlocfilehash: d703beb24821663b08ed69238fcf27e2a752d64b
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="how-to-mark-controls-as-safe-controls"></a>Практическое руководство. Пометка элементов управления как безопасных
  В целях безопасности SharePoint различает веб-элементы управления, которые защищены от внедрения скриптов и веб-элементы управления, которые не являются. Защищенные элементы управления, или *безопасные элементы управления*, может осуществляться непроверенных пользователей. Вы можете пометить элементы управления как безопасные в свойстве записи безопасных элементов управления элемента проекта SharePoint или в **конструктора пакетов** при добавлении сборки в пакет. Дополнительные сведения см. в разделе .  
  
 [Изменение параметров файла Web.config](http://go.microsoft.com/fwlink/?LinkId=178965) и [регистрации веб-часть сборки как безопасный элемент управления](http://go.microsoft.com/fwlink/?LinkId=171013).  
  
> [!IMPORTANT]  
>  Эти процедуры предназначены для демонстрации. Пометка элементов управления безопасно только в том случае, если вы уверены, что они безопасны.  
  
## <a name="marking-safe-controls-in-the-safe-control-entries-property"></a>Маркировки безопасных элементов управления в свойстве записи безопасных элементов управления  
  
#### <a name="to-mark-controls-as-safe-or-unsafe-in-the-safe-control-entries-property"></a>Маркировка элементов управления как безопасных или небезопасных в свойстве записи безопасных элементов управления  
  
1.  Создайте решение SharePoint с проектом визуальной веб-части.  
  
2.  Добавьте два элемента управления в веб-часть: текстовое поле и кнопку. Оставьте имя значения по умолчанию, TextBox1 и Button1 соответственно.  
  
3.  Добавьте две записи в веб-часть **записи безопасных элементов управления** свойство. Чтобы сделать это, нажмите кнопку с многоточием (![эллипс конструктора ASP.NET Mobile](../sharepoint/media/mwellipsis.gif "эллипс конструктора ASP.NET Mobile")) рядом с **записи безопасных элементов управления** свойство в  **Свойства** окна.  
  
     **Записи безопасных элементов управления** откроется диалоговое окно.  
  
4.  В **записи безопасных элементов управления** диалогового окна выберите **добавить** дважды, чтобы добавить две записи безопасных элементов управления для **члены** панели: для кнопки и текстового поля.  
  
5.  Выберите первую запись безопасного элемента управления и измените значение его **безопасном** свойства **False**, ее **имя типа** свойства **Button1**и его **безопасен в отношении скриптов** свойства **False**.  
  
     Этот шаг определяет элемент управления button как небезопасный элемент управления.  
  
6.  Выберите вторую запись безопасного элемента управления в списке. Оставьте значение по его **безопасном** свойство как **True** и задайте его **имя типа** свойства **TextBox1** и его **безопасный Для сценария** свойства **True**.  
  
     Элемент управления текстовым полем будет помечен как элемент управления, безопасный в отношении внедрения скрипта.  
  
7.  Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно.  
  
## <a name="marking-safe-controls-in-the-package-designer"></a>Маркировки безопасных элементов управления в конструкторе пакетов  
  
#### <a name="to-mark-controls-as-safe-or-unsafe-in-the-package-designer"></a>Маркировка элементов управления как безопасных или небезопасных в конструкторе пакетов  
  
1.  Создайте решение SharePoint с проектом визуальной веб-части.  
  
2.  Добавьте два элемента управления в веб-часть: текстовое поле и кнопку. Оставьте имя значения по умолчанию, TextBox1 и Button1 соответственно.  
  
     Запишите пространства имен для элемента управления, так как он используется в более поздней версии.  
  
3.  В строке меню выберите **построения**, **построить решение** для сборки проекта.  
  
4.  Создайте другое решение SharePoint.  
  
5.  В **обозревателе решений**, откройте контекстное меню для файла Package.Package и нажмите кнопку **откройте** Открытие **конструктора пакетов**.  
  
6.  В **конструктора пакетов**, выберите **Дополнительно** вкладки.  
  
7.  В разделе **дополнительных сборок**, выберите **добавить** , а затем кнопку **добавить существующую сборку** из списка.  
  
8.  В **добавить существующую сборку** диалогового окна нажмите кнопку с многоточием (![эллипс конструктора ASP.NET Mobile](../sharepoint/media/mwellipsis.gif "эллипс конструктора ASP.NET Mobile")) рядом с  **Путь к исходным файлам**.  
  
9. Выберите сборку из решения SharePoint, созданной на шаге 1, а затем выберите **откройте** кнопки.  
  
10. В этом примере оставьте **цель развертывания** параметр как GlobalAssemblyCache.  
  
     В результате этого шага сборка будет развернута в системе глобальный кэш сборок (GAC). Если требуется, чтобы сборка для развертывания в папке веб-приложения (Bin), выберите соответствующий параметр. Дополнительные сведения см. в разделе [развертывание веб-частей в SharePoint Foundation](http://go.microsoft.com/fwlink/?LinkId=177509).  
  
11. В **безопасные элементы управления** выберите **щелкните здесь, чтобы добавить новый элемент** кнопки.  
  
12. Введите значения для свойств из следующей таблицы.  
  
    |Имя свойства|Значение|  
    |-------------------|-----------|  
    |Пространство имен|Полное пространство имен для элемента управления, такие как **BdcModelProject1.VisualWebPart1**.|  
    |Имя типа|Button1|  
    |Assembly Name|Сборке строгое имя, такое как: Microsoft.Office.SharePoint.ClientExtensions, версия = 14.0.0.0, Culture = neutral, PublicKeyToken = 71e9bce111e9429c.|  
    |Safe|Очистить **безопасном** флажок.|  
    |Безопасно в отношении скриптов|Оставить **безопасен в отношении скриптов** снимите флажок.|  
  
    > [!NOTE]  
    >  **Имя сборки** значение для сборок, добавленных на **Дополнительно** вкладке **конструктора пакетов** не может быть токеном, он должен быть строгое имя сборки. Дополнительные сведения см. в разделе [Создание и использование сборок со строгими именами](http://go.microsoft.com/fwlink/?LinkId=177513).  
  
13. Нажмите клавишу TAB, чтобы создать еще одну запись безопасного элемента управления.  
  
14. Выберите **щелкните здесь, чтобы добавить новый элемент** еще раз.  
  
15. Введите значения для свойств из следующей таблицы.  
  
    |Имя свойства|Значение|  
    |-------------------|-----------|  
    |Пространство имен|Полное пространство имен для элемента управления, такие как **BdcModelProject1.VisualWebPart1**.|  
    |Имя типа|TextBox1|  
    |Assembly Name|Сборке строгое имя, такое как: Microsoft.Office.SharePoint.ClientExtensions, версия = 14.0.0.0, Culture = neutral, PublicKeyToken = 71e9bce111e9429c.|  
    |Safe|Выберите **безопасном** флажок.|  
    |Безопасно в отношении скриптов|Выберите **безопасен в отношении скриптов** флажок.|  
  
16. Нажмите клавишу Tab, а затем выберите **ОК** кнопку, чтобы закрыть диалоговое окно.  
  
## <a name="see-also"></a>См. также  
 [Предоставление упаковке и сведения о развертывании в элементах проекта](../sharepoint/providing-packaging-and-deployment-information-in-project-items.md)   
 [Упаковка и развертывание решений SharePoint](../sharepoint/packaging-and-deploying-sharepoint-solutions.md)  
  
  
---
title: "Практическое руководство. Создание приемника событий для конкретного экземпляра списка | Microsoft Docs"
ms.custom: ""
ms.date: "02/02/2017"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "office-development"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
helpviewer_keywords: 
  - "приемники событий [разработка приложений SharePoint в Visual Studio]"
  - "разработка приложений SharePoint в Visual Studio, приемники событий"
ms.assetid: 4b4b3564-161a-4327-8963-50896c084ac2
caps.latest.revision: 13
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
caps.handback.revision: 12
---
# Практическое руководство. Создание приемника событий для конкретного экземпляра списка
  Приемник событий экземпляра списка реагирует на события, возникающие в любом экземпляре определения списка.  Хотя шаблон приемника событий не позволяет отслеживать определенный экземпляр списка, можно изменить приемник событий определения списка, чтобы реагировать на события в определенном экземпляре списка.  
  
 Чтобы отслеживать определенный экземпляр списка, в файле Elements.xml для приемника событий замените `ListTemplateId` на `ListUrl` и добавьте URL\-адрес экземпляра списка.  
  
## Создание приемника событий экземпляра списка  
 Ниже показано, как изменить приемник событий элемента списка, чтобы реагировать на события, возникающие только в пользовательском экземпляре списка объявлений.  
  
#### Изменение приемника событий для реагирования на определенный экземпляр списка  
  
1.  Откройте сайт SharePoint в браузере.  
  
2.  В области переходов выберите ссылку **Списки**.  
  
3.  На странице **Все содержимое сайта** выберите ссылку **Создать**.  
  
4.  В диалоговом окне **Создание** выберите тип **Объявления**, задайте объявлению имя TestAnnouncements, а затем нажмите кнопку **Создание**.  
  
5.  В [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] создайте проект приемника событий.  
  
6.  В списке **Тип приемника событий:** выберите значение **События элемента списка**.  
  
    > [!NOTE]  
    >  Также можно выбрать другой тип приемника событий определения списка, например **List Email Events** или **События рабочего процесса списка**.  
  
7.  В списке **Элемент, который должен быть источником событий** выберите **Объявления**.  
  
8.  В списке **Обработать следующие события** выберите флажок **Добавляется элемент**, а затем нажмите кнопку **Готово**.  
  
9. В **Обозревателе решений** в разделе EventReceiver1 откройте файл Elements.xml.  
  
     В данный момент приемник событий ссылается на список объявлений с помощью следующей строки:  
  
    ```  
    <Receivers ListTemplateId="104">  
    ```  
  
     Замените эту линию следующим текстом:  
  
    ```  
    <Receivers ListUrl="Lists/TestAnnouncements">  
    ```  
  
     Таким образом, приемник событий будет реагировать только на события, возникающие в новом списке объявлений **TestAnnouncements**, который только что был создан.  Можно изменить атрибут `ListURL`, чтобы ссылаться на любой экземпляр списка на сервере SharePoint.  
  
10. Откройте файл с кодом приемника событий и добавьте точку останова в метод ItemAdding.  
  
11. Нажмите клавишу F5, чтобы собрать и запустить решение.  
  
12. В области навигации в SharePoint выберите ссылку **TestAnnouncements** в области переходов.  
  
13. Выберите ссылку **Добавить новое объявление**.  
  
14. Введите заголовок для объявления, а затем нажмите кнопку **Сохранить**.  
  
     Обратите внимание, что точка останова достигается при добавлении нового элемента в пользовательский список объявлений.  
  
15. Нажмите клавишу F5 для продолжения.  
  
16. В области переходов выберите ссылку **Списки**, а затем выберите ссылку **Объявления**.  
  
17. Добавьте новое объявление.  
  
     Обратите внимание, что приемник событий не реагирует на новое объявление, поскольку он настроен реагировать только на события в пользовательском экземпляре списка объявлений **TestAnnouncements**.  
  
## См. также  
 [Практическое руководство. Создание приемника событий](../sharepoint/how-to-create-an-event-receiver.md)   
 [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)  
  
  
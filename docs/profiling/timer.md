---
title: "Timer | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 1971868e-89fa-4452-8ee7-76e4daf31b66
caps.latest.revision: 10
caps.handback.revision: 10
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# Timer
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Параметр **Timer** команды VSPerfCmd.exe задает событие профилирования, которое дискретизируется в соответствии с циклами тактовой частоты ЦП, и при необходимости изменяет число циклов в интервале выборки \(значение по умолчанию 10 000 000\).  На процессоре с частотой 1 ГГц 10 000 000 циклов — это приблизительно 100 выборок в секунду.  Минимальное число циклов, которое можно указать — 50 000.  
  
 **Timer** можно использовать, только при применении метода выборочного профилирования, а также только в командной строке, которая содержит параметр **Launch** или **Attach**.  
  
 По умолчанию событие выборки профилировщика равно числу циклов тактовой частоты ЦП, а интервал выборки равен 10 000 000.  Параметры **Timer**, **PF**, **Sys** и **Counter** позволяют задать событие и интервал выборки.  Параметр **GC** собирает данные памяти .NET для каждого события выделения памяти и сборки мусора.  В командной строке может быть указан только один из этих параметров.  
  
 Событие и интервал выборки можно задать только в первой командной строке, которая содержит параметр **Launch** или **Attach**.  
  
## Синтаксис  
  
```  
VSPerfCmd.exe {/Launch:AppName|/Attach:PID} /Timer[:Cycles] [Options]  
```  
  
#### Параметры  
 `Cycles`  
 Целочисленное значение, которое задает количество циклов тактовой частоты ЦП в интервале выборки.  Если параметр `Cycles` не задан, используется интервал 10 000 000.  Введите значение без запятых.  
  
## Обязательные параметры  
 Параметр **Timer** можно указать только в командной строке, которая содержит один из следующих параметров.  
  
 **Launch:** `AppName`  
 Запускает профилировщик и приложение, заданное параметром `AppName`.  
  
 **Attach:** `PID`  
 Присоединяет профилировщик к процессу, заданному кодом процесса \(`PID`\).  
  
## Недопустимые параметры  
 Следующие параметры не могут быть указаны в одной командной строке с параметром **Timer**.  
  
 **PF**\[**:**`Events`\]  
 Задает в качестве события выборки ошибку выгрузки и при необходимости устанавливает интервал выборки, равный `Events`.  Интервал PF по умолчанию — 10.  
  
 **Sys**\[**:**`Events`\]  
 Задает в качестве события выборки вызовы операционной системы и при необходимости устанавливает интервал выборки, равный `Events`.  Интервал Sys по умолчанию — 10.  
  
 **Counter**\[**:**`Name,Reload,FriendlyName`\]  
 Задает в качестве события выборки счетчик производительности ЦП, указанный параметром `Name`, и устанавливает интервал выборки, равный `Reload`.  
  
 **GC**\[**:**{**Allocation**&#124;**Lifetime**}\]  
 Собирает данные .NET.  По умолчанию \(**Allocation**\) данные собираются для каждого события выделения памяти.  Если указан параметр **Lifetime**, данные также собираются для каждого события сборки мусора.  
  
## Пример  
 В этом примере показано, как задать в качестве интервала выборки профилировщика 1 000 000 циклов процессора.  
  
```  
VSPerfCmd.exe /Start:Sample /Output:TestApp.exe.vsp  
VSPerfCmd.exe /Launch:TestApp.exe /Timer:1000000  
```  
  
## См. также  
 [VSPerfCmd](../profiling/vsperfcmd.md)   
 [Профилирование автономных приложений](../profiling/command-line-profiling-of-stand-alone-applications.md)   
 [Профилирование веб\-приложений ASP.NET](../profiling/command-line-profiling-of-aspnet-web-applications.md)   
 [Службы профилирования](../profiling/command-line-profiling-of-services.md)
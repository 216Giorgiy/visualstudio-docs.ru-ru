---
title: "Легенда представления &quot;Ядра&quot; | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.cv.cores.legend"
helpviewer_keywords: 
  - "визуализатор параллелизма, легенда представления «Ядра»"
ms.assetid: e160384c-fcfe-49b3-86b7-229adb736c51
caps.latest.revision: 12
caps.handback.revision: 12
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# Легенда представления &quot;Ядра&quot;
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

В легенде представления "Ядра" каждый поток обозначается с помощью цвета и имени.  Она включает в себя столбцы, которые показывают количество переключений контекста между ядрами и процент переключений контекста между ядрами.  Строки в легенде сортируются по количеству переключений контекста между ядрами по убыванию.  
  
 Допускается выбор строк в условных обозначениях для фильтрации потоков, которые отображаются на временной шкале.  Только выбранные потоки отображаются на временной шкале.  Если строки не выделены, то все строки будут отображены на временной шкале.  
  
 Переключения контекста между ядрами требуют больше накладных расходов и расходов ресурсов, чем переключения, остающиеся на том же логическом ядре.  Во время переключений контекста сохраняются и восстанавливаются регистры процессора и код ядра операционной системы, перезагружается ассоциативный буфер трансляции инструкций и очищается конвейер процессора.  Переключения контекста между ядрами могут быть еще более дорогими по сравнению с другими переключениями контекста, поскольку данные кэша являются недопустимыми для этого потока на другом ядре.  Напротив, если поток переключился на ядро, на котором он перед этим выполнялся, то, вероятно, полезные данные все еще находятся в кэше.  Если при увеличении количества межъядерных переключений контекста было увеличено количество попыток управления сходством потоков и произошло ухудшение производительности, необходимо решить, можно ли устранить эту проблему.  Необходимо начать с устранения сходства потоков, после чего посмотреть полученное межъядерное поведение.  
  
 Элементы легенды описаны в следующей таблице.  
  
|Элемент|Определение|  
|-------------|-----------------|  
|Имя потока|Цвет потока во временной шкале предыдущих ядер выше и имя данного потока.|  
|Межъядерные переключения контекста|Количество переключений контекста для потока, который также переключается с одного логического ядра на другой.  Не существует различий между межъядерными переключениями контекста, которые осуществляются на разных ядрах процессора и теми, которые остаются на том же.|  
|Общее количество переключений контекста|Общее количество переключений контекста для данного потока во время выборки.  При каждом изменении контекста потока \(например, с выполнения на синхронизацию\) учитывается одно переключение контекста.|  
|Процент переключений контекста при переходе между ядрами|Рассчитывается как процент путем деления количества переключений контекста на количество всех переключений контекста.  Чем выше этот процент, тем больше общее влияние служебных данных межъядерных переключений контекста на производительность данного потока.|  
  
## См. также  
 [Представление "Ядра"](../profiling/cores-view.md)
---
title: "Практическое руководство. Выбор методов сбора данных | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "средства повышения производительности, выбор метода сбора"
  - "средства профилирования, выбор метода сбора"
  - "методы сбора данных производительности"
ms.assetid: c87cfd3a-0fc7-49ae-9c05-d8480891cc63
caps.latest.revision: 34
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
caps.handback.revision: 34
---
# Практическое руководство. Выбор методов сбора данных
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Средства профилирования [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] поддерживают три метода сбора данных о производительности: выборку, инструментирование и параллелизм.  Кроме того, метод выборки или инструментирования можно использовать для сбора данных о времени существования и выделении памяти .NET.  
  
 **Требования**  
  
-   [!INCLUDE[vsUltLong](../code-quality/includes/vsultlong_md.md)], [!INCLUDE[vsPreLong](../code-quality/includes/vsprelong_md.md)], [!INCLUDE[vsPro](../code-quality/includes/vspro_md.md)]  
  
 Чтобы указать оптимальный метод сбора данных для приложения, можно воспользоваться свойством **Метод** сеанса анализа производительности.  Метод сбора данных можно задать в мастере производительности, обозревателе производительности или на страницах свойств сеанса анализа производительности.  При использовании программ командной строки дополнительные сведения см. в разделе [Профилирование из командной строки](../profiling/using-the-profiling-tools-from-the-command-line.md).  
  
## Мастер производительности  
  
#### Выбор метода сбора данных с помощью мастера производительности  
  
-   На первой странице мастера выберите один из следующих параметров.  
  
|Команда|Описание|  
|-------------|--------------|  
|**Выборка ЦП**|Сбор статистики приложения, которую удобно использовать для первоначального анализа и анализа использования ЦП.|  
|**Инструментирование**|Сбор подробных сведений о времени, которые удобно использовать для целевого анализа и анализа проблем производительности при вводе\-выводе.|  
|**Выделение памяти .NET**|Сбор данных о выделении памяти [!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)] с помощью метода профилирования выборки.|  
|**Параллельность**|Сбор числовых данных о конфликтах ресурсов.|  
  
## Обозреватель производительности  
  
#### Выбор метода сбора данных с помощью обозревателя производительности  
  
1.  На панели инструментов **обозревателя производительности** щелкните стрелку рядом с раскрывающимся списком **Метод**.  
  
2.  Щелкните предпочтительный метод сбора данных.  
  
## Страницы свойств сеанса анализа производительности  
  
#### Выбор метода выборки или инструментирования с помощью свойств сеанса анализа производительности  
  
1.  В **обозревателе производительности** выберите сеанс производительности.  
  
     Имя файла сеанса производительности имеет расширение PSESS.  
  
2.  Щелкните правой кнопкой мыши сеанс производительности и выберите пункт **Свойства**.  
  
3.  В окне **Страницы свойств** перейдите на вкладку **Общие**.  
  
4.  Щелкните предпочтительный метод сбора данных.  
  
    -   Дополнительные сведения о других параметрах, доступных при сборе данных выборки, см. в разделе [Использование метода выборки для сбора статистики производительности](../profiling/collecting-performance-statistics-by-using-sampling.md).  
  
    -   Дополнительные сведения о других параметрах, доступных при сборе данных выборки, см. в разделе [Сбор подробных сведений о времени с помощью инструментирования](../profiling/collecting-detailed-timing-data-by-using-instrumentation.md).  
  
#### Выбор метода сбора данных о памяти .NET с помощью свойств сеанса анализа производительности  
  
1.  В **обозревателе производительности** выберите сеанс производительности.  
  
     Имя файла сеанса производительности имеет расширение PSESS.  
  
2.  Щелкните правой кнопкой мыши сеанс производительности и выберите пункт **Свойства**.  
  
3.  В окне **Страницы свойств** перейдите на вкладку **Общие**.  
  
4.  Щелкните **Выборка** или **Инструментирование**.  
  
5.  Выберите **Собирать сведения о выделении объектов .NET** для сбора размера и количества выделений объекта [!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)].  
  
6.  \(Необязательно.\) Выберите **Также собирать сведения о времени жизни объектов .NET** для сбора данных о поколении сборки мусора, во время которой была восстановлена память.  
  
     Дополнительные сведения о других параметрах, доступных при сборе данных о памяти .NET, см. в разделе [Сбор данных о выделении памяти для объектов .NET и времени их жизни](../profiling/collecting-dotnet-memory-allocation-and-lifetime-data.md).  
  
#### Выбор метода сбора данных о параллелизме с помощью свойств сеанса анализа производительности  
  
1.  В **обозревателе производительности** щелкните правой кнопкой мыши сеанс анализа производительности и выберите команду **Свойства**.  
  
2.  В окне **Страницы свойств** перейдите на вкладку **Общие**.  
  
3.  Выберите **Параллелизм**.  
  
## См. также  
 [Настройка сеансов анализа производительности](../profiling/configuring-performance-sessions.md)   
 [Общие сведения о значениях выборочных данных](../profiling/understanding-sampling-data-values.md)   
 [Свойства сеанса анализа производительности](../profiling/performance-session-properties.md)
---
title: "Практическое руководство. Определение расположения файлов символов с помощью командной строки | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 8aa067bb-e8bf-4081-aff0-cfbcf65934a0
caps.latest.revision: 11
caps.handback.revision: 11
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# Практическое руководство. Определение расположения файлов символов с помощью командной строки
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Для отображения символьных данных, например имен функций и номеров строк, программе командной строки VSPerfReport необходим доступ к файлам символов \(PDB\) профилируемых компонентов и к системным файлам Windows.  Файлы символов создаются после компилирования компонента.  Для получения дополнительной информации см. [VSPerfReport](../profiling/vsperfreport.md).  VSPerfReport автоматически ищет для файлов символов следующее расположение:  
  
-   пути, указанные в параметре **\/SymbolPath** или в переменной среды **\_NT\_SYMBOL\_PATH**;  
  
-   полный локальный путь, по которому был скомпилирован компонент;  
  
-   каталог с файлами данных профилирования \(VSP или VSPS\).  
  
 Для многих продуктов, PDB\-файлы предоставляются Майкрософт по сети на сервере символов.  При использовании для отчетов компьютера, подключенного к Интернету, VSPerfReport подключается к серверу символов по сети для автоматического поиска символьных данных и сохраняет файлы в локальном хранилище.  
  
 Расположение файлов символов и хранилище сервера символов Майкрософт можно указать следующим способом.  
  
-   Задайте переменную среды **\_NT\_SYMBOL\_PATH**.  
  
-   Добавьте параметр **\/SymbolPath** в командную строку VSPerfReport.  
  
 Использовать можно оба метода.  
  
> [!NOTE]
>  В случае, если [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] установлен на локальном компьютере, расположение файлов символов Windows также вероятно уже задано.  Для получения дополнительной информации см. [Практическое руководство. Справочная информация о символах Windows](../profiling/how-to-reference-windows-symbol-information.md).  Также нужно настроить VSPerfReport для использования расположения и сервера, как описано ниже в данном разделе.  
  
## Определение файлов символов Windows  
  
#### Настройка использования сервера символов Windows  
  
1.  При необходимости, создайте каталог для локального хранения файлов символов.  
  
2.  Чтобы установить переменную среды **\_NT\_SYMBOL\_PATH** или параметр VSPerfReport \/SymbolPath, воспользуйтесь следующим синтаксисом:  
  
     **srv\*** *LocalStore* **\*http:\/\/msdl.microsoft.com\/downloads\/symbols**  
  
     где *LocalStore* — путь созданного локального каталога.  
  
## Определение файлов символов компонентов  
 Средства профилирования выполняют поиск PDB\-файлов компонентов, сохраненных в компонентах или в папке с файлами данных профилирования, для профилирования в их первоначальном расположении.  Указав дополнительно один или несколько путей в параметрах **\_NT\_SYMBOL\_PATH**  или **\/SymbolPath**, можно задать поиск в другом расположении.  Разделяйте пути точкой с запятой.  
  
## Пример  
 Следующая командная строка задает в качестве значения переменной среды **\_NT\_SYMBOL\_PATH** сервер символов Windows, а в качестве локального каталога — **C:\\Symbols**.  
  
 **set  \_NT\_SYMBOL\_PATH\=srv\*C:\\symbols\*http:\/\/msdl.microsoft.com\/downloads\/symbols**  
  
 Следующая командная строка VSPerfReport добавляет каталог C:\\Projects\\Symbols в путь поиска с помощью параметра **\/SymbolPath**.  
  
 **VSPerfReport**  *MyApp* **.exe \/SymbolPath:C:\\Projects\\Symbols \/summary:all**
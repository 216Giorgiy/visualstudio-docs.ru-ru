---
title: "Attach | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 79614283-6733-4592-a53a-d428052271ad
caps.latest.revision: 12
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
caps.handback.revision: 12
---
# Attach
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Параметр **Attach** программы VSPerfCmd.exe начинает профилирование с выборкой для выполняемого процесса, указанного идентификатором процесса \(PID\).  
  
 Для использования параметра **Attach** необходимо указать метод **Sample** в параметре Start.  
  
> [!NOTE]
>  Если параметр **Start** был задан с помощью параметра **Crosssession**, все вызовы команды **VSPerfCmd \/Attach** или **VSPerfCmd \/Detach** также должны задавать параметр **Crosssession**.  
  
## Синтаксис  
  
```  
VSPerfCmd.exe /Attach:ProcessID [Options]  
```  
  
#### Параметры  
 `ProcessID`  
 Идентификатор \(PID\) выполняемого процесса.  Идентификатор выполняемого процесса отображается на вкладке "Процессы" диспетчера задач Windows.  
  
## Допустимые параметры  
 Следующие параметры **VSPerfCmd** можно сочетать с параметром **Attach** в одной командной строке.  
  
 **Crosssession**  
 Включает приложения профилирования в сеансах, отличных от сеанса входа в систему.  Является обязательным, если параметр **Start** был задан с помощью параметра **Crosssession**.  
  
 **Start:** `Method`  
 Инициализирует сеанс профилирования командной строки и задает указанный метод профилирования.  
  
 **TargetCLR**  
 Задает версию среды CLR .NET Framework для профилирования, если в сеансе профилирования загружено несколько версий.  По умолчанию профилируется первая загруженная версия.  
  
 **GlobalOn GlobalOff**  
 Возобновляет \(**GlobalOn**\) или приостанавливает \(**GlobalOff**\) профилирование, но не завершает сеанс профилирования.  
  
 **ProcessOn:** `PID` **ProcessOff:** `PID`  
 Возобновляет \(**ProcessOn**\) или приостанавливает \(**ProcessOff**\) профилирование для указанного процесса.  
  
## Параметры интервала  
 В команде Attach можно задать один из следующих параметров интервала выборки.  Интервал выборки по умолчанию равен 10 000 000 циклам тактовой частоты процессора.  
  
 **Timer**\[**:**`Cycles`\]**PF**\[**:**`Events`\]**Sys**\[**:**Events\]**Counter**\[**:**`Name`,`Reload`,`FriendlyName`\]  
 Задает числовое значение и тип интервала выборки.  
  
-   **Timer** —\- осуществляет выборку через каждые `Cycles` циклов тактовой частоты процессора без остановок.  Если параметр `Cycles` не задан, используется значение 10 000 000 циклов.  
  
-   **PF** \-— осуществляет выборку через каждые `Events` ошибок страниц.  Если параметр `Events` не задан, выборка осуществляется через каждые 10 ошибок страниц.  
  
-   **Sys** \-— осуществляет выборку через каждые `Events` вызовов операционной системы.  Если параметр `Events` не задан, выборка осуществляется через каждые 10 системных вызовов.  
  
-   **Counter** — осуществляет выборку через каждое значение `Reload` счетчика производительности ЦП, заданного параметром `Name`.  Кроме того, параметром `FriendlyName` можно задать строку, используемую в качестве заголовка столбца в отчетах профилировщика.  
  
## Пример  
 В этом примере иллюстрируется присоединение к работающему экземпляру приложения с помощью идентификатора процесса 12345.  
  
```  
VSPerfCmd.exe /Start:Sample /Output:TestApp.exe.vsp  
VSPerfCmd.exe /Attach:12345  
```  
  
## См. также  
 [VSPerfCmd](../profiling/vsperfcmd.md)   
 [Профилирование автономных приложений](../profiling/command-line-profiling-of-stand-alone-applications.md)   
 [Профилирование веб\-приложений ASP.NET](../profiling/command-line-profiling-of-aspnet-web-applications.md)   
 [Службы профилирования](../profiling/command-line-profiling-of-services.md)
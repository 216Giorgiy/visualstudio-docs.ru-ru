---
title: "Практическое руководство. Ограничение инструментирования указанными библиотеками DLL | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "средства повышения производительности, окно управления профилированием во время выполнения"
ms.assetid: 17c5996f-e3d0-4e44-b175-52b401b0f2d5
caps.latest.revision: 19
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
caps.handback.revision: 19
---
# Практическое руководство. Ограничение инструментирования указанными библиотеками DLL
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

При использовании метода профилирования с инструментированием можно ограничить сбор данных одной или несколькими библиотеками DLL, которые используются приложением.  Чтобы выполнить профилирование одной или нескольких библиотек DLL, которые используются приложением, необходимо создать сеанс анализа производительности, в который в качестве целей включены DLL\-файлы.  Можно указывать библиотеки DLL, профилирование которых требуется выполнить, как проекты в решении [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] или как независимые двоичные файлы.  
  
### Ограничение инструментирования указанными библиотеками DLL в решении Visual Studio  
  
1.  Откройте решение, содержащее библиотеки DLL, в [!INCLUDE[vsPreLong](../code-quality/includes/vsprelong_md.md)].  
  
2.  В меню **Анализ** выберите **Запустить мастер производительности**.  
  
3.  Выберите **Инструментирование** в качестве метода профилирования и нажмите кнопку **Далее**.  
  
4.  В раскрывающемся списке **Какой из следующих доступных целевых объектов следует профилировать?** выберите имя проекта DLL и нажмите кнопку **Далее**.  
  
5.  Нажмите кнопку **Готово**, чтобы завершить работу мастера и отобразить новый сеанс анализа производительности в окне **Обозревателя производительности**.  
  
6.  Щелкните правой кнопкой узел **Целевые объекты** и выберите команду **Добавить конечный проект**.  
  
7.  Из списка **Добавить конечный проект** выберите проект исполняемого файла, который следует использовать для запуска библиотеки DLL.  
  
     Необязательно.  Можно добавлять любые проекты DLL, профилирование которых следует выполнить.  
  
8.  Чтобы предотвратить сбор данных для добавленного проекта, щелкните правой кнопкой мыши имя проекта и снимите флажок **Инструментирование**.  
  
### Указание определенных библиотек DLL для профилирования как независимых двоичных файлов  
  
1.  Откройте [!INCLUDE[vsPreLong](../code-quality/includes/vsprelong_md.md)].  
  
2.  В меню **Анализ** выберите **Запустить мастер производительности**.  
  
3.  В раскрывающемся списке **Какой из следующих доступных целевых объектов следует профилировать?** выберите **Профилирование библиотеки динамической компоновки \(.DLL\)** и нажмите кнопку **Далее**.  
  
4.  На второй странице мастера выполните следующие действия.  
  
    -   В поле **Путь к DLL** введите путь и имя DLL\-файла, который необходимо профилировать.  Можно также нажать кнопку с многоточием \(...\) и выбрать файл в диалоговом окне **Библиотека динамической компоновки для профилирования**.  Обратите внимание, что необходимо указать копию DLL\-файла, запускаемого исполняемым файлом \(.exe\), выбор которого осуществляется на следующем шаге.  
  
    -   В поле **Путь к исполняемому файлу** введите путь и имя исполняемого файла \(.exe\), который будет использоваться для запуска DLL\-файла.  Можно также нажать кнопку с многоточием \(...\) и выбрать файл в диалоговом окне **Исполняемый файл для запуска**.  
  
    -   Необязательно.  В поле **Аргументы командной строки** введите аргументы командной строки, которые следует передать исполняемому файлу.  В поле **Рабочий каталог** при необходимости укажите рабочий каталог для приложения.  
  
    -   Нажмите кнопку **Далее**.  
  
5.  Выберите **Инструментирование** в качестве метода профилирования и нажмите кнопку **Далее**.  
  
6.  Нажмите кнопку **Готово**, чтобы завершить работу мастера и отобразить новый сеанс анализа производительности в окне **Обозревателя производительности**.  
  
7.  Необязательно.  Чтобы добавить дополнительные DLL\-файлы, щелкните правой кнопкой мыши **Целевые объекты** и выберите **Добавить конечный двоичный файл**.  Выберите файлы в диалоговом окне **Добавить конечный двоичный файл**.  
  
    > [!NOTE]
    >  Не следует указывать исполняемый файл \(.exe\), который используется для запуска DLL\-файла.  
  
## См. также  
 [Управление сбором данных](../profiling/controlling-data-collection.md)   
 [Практическое руководство. Ограничение инструментирования указанными функциями](../profiling/how-to-limit-instrumentation-to-specific-functions.md)
---
title: "DA0003. Много выборок в режиме ядра | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.performance.rules.DA0003"
  - "vs.performance.DA0003"
  - "vs.performance.3"
  - "vs.performance.rules.DAManyKernelSamples"
ms.assetid: c1f46f77-eb95-42e5-b340-d86bc9de41b4
caps.latest.revision: 11
caps.handback.revision: 11
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# DA0003. Много выборок в режиме ядра
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

|||  
|-|-|  
|Идентификатор правила|DA0003|  
|Категория|Использование средств профилирования|  
|Методы профилирования|Дискретизация|  
|Сообщение|Существенная часть выборок находится в режиме ядра.  Это может указывать на крупномасштабную активность ввода\-вывода или высокую частоту переключения контекстов.  Рассмотрите возможность повторного профилирования приложения в режиме инструментирования.|  
|Тип правила|Сведения|  
  
## Причина  
 Значительная часть образцов стека вызова, собранных для приложения, выполнялась в режиме ядра.  Рекомендуется воспользоваться для профилирования приложения другим методом профилирования.  
  
## Описание правила  
 В Windows код может выполняться в режиме ядра либо в пользовательском режиме. \(Режим ядра также называется привилегированным режимом.\) В режиме ядра выполняется только низкоуровневый системный код, например драйверы устройств.  Приложение, работающее в пользовательском режиме, может перейти в режим ядра для выполнения операций ввода\-вывода, ожидания примитивов синхронизации потоков или процессов либо выполнения системных вызовов.  
  
 Выборка наиболее эффективна при профилировании приложений, которые большую часть времени работают в пользовательском режиме.  Число образцов, которые были собраны при выполнении приложения в режиме ядра, может указывать на частые операции ввода\-вывода или свидетельствовать о переключениях контекста.  Ни одна из этих операций не может быть исследована с помощью метода выборки.  При взятии слишком большого количества образцов режима ядра данные выборки могут не содержать достаточное количество образцов режима пользователя для статистической значимости.  
  
## Устранение нарушений  
 Рекомендуется выполнить повторное профилирование приложения одним из следующих способов.  
  
-   Выполнить профилирование с помощью метода инструментирования.  
  
-   Увеличить частоту выборки и попытаться собрать больше образцов в пользовательском режиме.
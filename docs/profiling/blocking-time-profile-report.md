---
title: "Отчет профиля времени блокировки | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.cv.threads.report.blocking"
helpviewer_keywords: 
  - "визуализатор параллелизма, отчет профиля времени блокировки"
ms.assetid: 3bc45af0-3ba6-4fa3-a336-be8e9ae95107
caps.latest.revision: 16
caps.handback.revision: 16
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# Отчет профиля времени блокировки
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Данные отчеты профиля предоставляют сводные данные о времени блокировок для стеков вызовов по каждой из категорий блокировок \(например, «Ввод\-вывод» или «Синхронизация»\).  В отчете «Приоритетные процессы» выводится список процессов, которые вытесняли текущий процесс, а также количество вытеснений.  Для построения отчета по профилю блокировки данный инструмент собирает информацию о блокирующих вызовах интерфейса API и собирает ее в дерево стеков вызовов.  На данные в этой таблице может повлиять текущий диапазон времени, скрытые потоки и следующие два фильтра, которые могут быть включены:  
  
-   Если выбран параметр Только мой код, представлены будут только кадры стека, у которых есть пользовательский код, а также кадры на уровень ниже пользовательского кода.  
  
-   Если задано значение для снижения уровня шума, разобранные стеки с частотой ниже заданной пропускаются.  
  
 Разверните какой\-либо узел дерева вызовов, чтобы найти строку кода, в которой затрачено время на блокировку.  Чтобы найти строку исходного кода для данной записи, выберите в ее контекстном меню пункт **Просмотреть исходный код**.  Для поиска строки кода, вызвавшей данную, в контекстном меню выберите команду **Просмотреть сайты вызовов**.  Если доступно только одно место вызова, по щелчку мыши выполнится переход к выделенной строке кода, являющейся местом вызова.  Если доступно несколько сайтов вызова, то по команде откроется диалоговое окно, в котором можно выбрать сайт, а затем по нажатию на кнопку **Перейти к источнику** перейти на выбранный сайт вызова.  Зачастую полезнее всего просмотреть исходный код для таких мест вызова, которые выполняются во многих экземплярах и\/или в течение наибольшего количества времени.  
  
## Столбцы отчета времени блокировки  
 В приведенной ниже таблице показаны столбцы каждого из отчетов времени блокировки.  
  
|Имя столбца|Описание|  
|-----------------|--------------|  
|Name|Имя функции для каждого уровня стека вызова.|  
|Экземпляры|Количество экземпляров блокирующего вызова для видимого периода времени.|  
|Инклюзивное время блокировки|Общее время блокировки, затраченное на все стеки, сведенные к этому уровню дерева стека вызова.  Инклюзивное число – это сумма эксклюзивного времени блокировки для данной функции и эксклюзивного времени блокировки для всех ее дочерних узлов.|  
|Эксклюзивное время блокировки|Общее затраченное время блокировки, в течение которого данная функция находилась на нижнем уровне стека вызова.  Рассматриваемой функцией может быть уникальная запись стека вызова с высоким значением эксклюзивного времени блокировки.|  
|API\/категория ожидания|Отображается только для функций на нижнем уровне стека вызова.  При распознавании сигнатуры блокирующего вызова предоставляется имя блокирующего интерфейса API.  Если сигнатура не распознана, предоставляются сведения, выданные ядром.|  
|Подробные сведения|Полное имя функции.  Содержит число строк, если это значение доступно.|  
  
### Синхронизация  
 В отчете о синхронизации отображаются вызовы, отвечающие за сегменты, заблокированные из\-за синхронизации, с указанием совокупного времени блокировки каждого стека вызова.  Дополнительные сведения см. в разделе [Время синхронизации](../profiling/synchronization-time.md).  
  
### Sleep  
 Отчет о спящем режиме показывает вызовы, ответственные за время блокировки, отмеченное как время, проведенное в спящем режиме, а также совокупное время блокировки для каждого стека вызова.  Для получения дополнительной информации см. [Время ожидания](../profiling/sleep-time.md).  
  
### Ввод\-вывод  
 В отчете ввода\-вывода отображаются вызовы, отвечающие за сегменты, заблокированные операциями ввода\-вывода, с указанием совокупного времени блокировки каждого стека вызова.  Для получения дополнительной информации см. [Время ввода\-вывода \(представление "Потоки"\)](../profiling/i-o-time-threads-view.md).  
  
### Управление памятью  
 В отчете об управлении памятью отображаются вызовы, отвечающие за сегменты, заблокированные из\-за операций управления памятью, с указанием совокупного времени блокировки каждого стека вызова.  Для получения дополнительной информации см. [Время управления памятью](../profiling/memory-management-time.md).  
  
### Вне очереди  
 В отчете «Приоритетные процессы» отображается список процессов, которые вытесняли текущий процесс, а также количество этих вытеснений.  Можно развернуть каждый процесс для просмотра тех потоков, которые вытесняли потоки текущего процесса, а также для просмотра распределения вытеснений для каждого потока.  Этот отчет о блокировках имеет меньшее практическое значение, чем другие, поскольку вытеснение процесса чаще инициируется операционной системой, чем вызывается кодом пользователя.  Для получения дополнительной информации см. [Время вытеснения](../profiling/preemption-time.md).  
  
### Обработка пользовательского интерфейса  
 В отчете об обработке пользовательского интерфейса отображаются вызовы, отвечающие за блокирующие сегменты, которые блокируют блоки обработки пользовательского интерфейса, с указанием совокупного времени блокировки каждого стека вызова.  Для получения дополнительной информации см. [Время обработки пользовательского интерфейса](../profiling/ui-processing-time.md).  
  
## См. также  
 [Представление потоков](../profiling/threads-view-parallel-performance.md)
---
title: "Практическое руководство. Ограничение инструментирования указанными функциями | Microsoft Docs"
ms.custom: ""
ms.date: "12/08/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "средства повышения производительности, ограничение инструментирования функциями"
ms.assetid: bd98d6bf-2560-4eba-b063-2facb09f87c4
caps.latest.revision: 19
caps.handback.revision: 19
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# Практическое руководство. Ограничение инструментирования указанными функциями
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Можно ограничить инструментирование и сбор данных одной или несколькими функциями, задав соответствующие параметры на странице **Дополнительно** окна **Сеанс производительности** или на страницах свойств целевых двоичных файлов.  
  
-   Если функции указываются на странице свойств сеанса анализа производительности, то инструментирование только этих функций будет выполняться во всех двоичных файлах, входящих в сеанс.  
  
-   Если функции указываются на странице свойств целевого двоичного файла, то инструментирование только этих функций будет выполняться в указанном двоичном файле.  Инструментирование функций в других двоичных файлах, входящих в сеанс анализа производительности, будет выполняться обычным образом.  
  
 Такое ограничение сбора данных поддерживается только при профилировании с инструментированием.  
  
> [!NOTE]
>  Можно также воспользоваться страницей **Дополнительно** страниц свойств **Сеанс производительности**, чтобы задать другие параметры, связанные с инструментированием с помощью программ командной строки средств профилирования [VSInstr](../profiling/vsinstr.md).  
  
### Ограничение инструментирования указанными функциями в рамках сеанса анализа производительности  
  
1.  В окне **Обозреватель производительности** щелкните правой кнопкой мыши имя сеанса и выберите команду **Свойства**.  
  
     Откроется диалоговое окно **Страницы свойств**.  
  
2.  В диалоговом окне **Страницы свойств** нажмите **Дополнительно**.  
  
3.  Укажите имена функций для инструментирования в текстовом поле **Дополнительные параметры инструментирования**, используя следующий синтаксис:  
  
     **\/include:** `FuncSpec` **\[;** `FuncSpec` **\]** `...`  
  
     `FuncSpec` — пространство имен и имя функции.  Оно указывается в формате `Namespace`**::**`FunctionName`.  Если функций несколько, их имена разделяются точкой с запятой.  В качестве подстановочного знака для одного или нескольких символов используется символ звездочки \(\*\).  Например, **\/include:MyNS::\*** описывает все функции в пространстве имен MyNS.  
  
    > [!NOTE]
    >  Чтобы получить список функций, содержащихся в двоичном файле, откройте окно командной строки в каталоге установки средств профилирования [!INCLUDE[vsprvsts](../code-quality/includes/vsprvsts_md.md)] \(обычно это каталог \\Team Tools\\Performance Tools в каталоге установки\) и введите команду vsinstr \/DumpFuncs.  
  
### Ограничение инструментирования указанными функциями в двоичном файле  
  
1.  Найдите имя двоичного файла в узле **Целевые объекты** сеанса анализа производительности в окне **Обозреватель производительности**.  
  
2.  Щелкните правой кнопкой мыши имя двоичного файла и выберите пункт **Свойства**.  
  
     Откроется диалоговое окно **Страницы свойств**.  
  
3.  В диалоговом окне **Страницы свойств** нажмите **Дополнительно**.  
  
4.  Укажите имена функций для инструментирования в текстовом поле **Дополнительные параметры инструментирования**, используя следующий синтаксис:  
  
     **\/include:** `FuncSpec` **\[;** `FuncSpec` **\]** `...`  
  
     `FuncSpec`  — пространство имен и имя функции.  Оно указывается в формате `Namespace`**::**`FunctionName`.  Если функций несколько, их имена разделяются точкой с запятой.  В качестве подстановочного знака для одного или нескольких символов используется символ звездочки \(\*\).  Например, **\/include:MyNS::\*** описывает все функции в пространстве имен MyNS.  
  
    > [!NOTE]
    >  Чтобы получить список функций, содержащихся в двоичном файле, откройте окно командной строки в каталоге установки средств профилирования [!INCLUDE[vsprvsts](../code-quality/includes/vsprvsts_md.md)] \(обычно это каталог \\Team Tools\\Performance Tools в каталоге установки\) и введите команду vsinstr \/DumpFuncs.  
  
## См. также  
 [Управление сбором данных](../profiling/controlling-data-collection.md)   
 [Практическое руководство. Ограничение инструментирования указанными библиотеками DLL](../profiling/how-to-limit-instrumentation-to-specific-dlls.md)   
 [Практическое руководство. Указание дополнительных параметров инструментирования](../Topic/How%20to:%20Specify%20Additional%20Instrumentation%20Options.md)
---
title: "Добавление значков на команды меню | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "значки [Visual Studio], добавление в панель инструментов"
  - "Добавление значков на команды панели инструментов [Visual Studio]"
  - "Добавление значков команды [Visual Studio]"
ms.assetid: 362a0c7e-5729-4297-a83f-1aba1a37fd44
caps.latest.revision: 13
ms.author: "gregvanl"
manager: "ghogen"
caps.handback.revision: 13
---
# Добавление значков на команды меню
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Команды могут быть расположены в меню и панели инструментов. На панели инструментов чаще всего для команды для отображения только значок \(для экономии места\) при меню, команды обычно отображается значок и текст.  
  
 Значки 16 пикселов в ширину 16 пикселей и может быть 8\-разрядную глубину цвета \(256 цветов\) или глубиной цвета 32 бита \(true цвет\). 32\-разрядных цветных значков являются предпочтительными. Значки обычно располагаются в одной горизонтальной строки в одном точечном рисунке, хотя допускаются несколько растровых изображений. Это растровое изображение объявляется в файла .vsct, а также отдельные значки, доступные в точечном рисунке. См. Справочник по [Растровые изображения элемента](../extensibility/bitmaps-element.md) для получения дополнительных сведений.  
  
## Добавление значка к команде  
 Следующая процедура предполагает наличие существующего проекта VSPackage с командой меню. Чтобы узнать, как это сделать, см. раздел [Создание расширения с помощью команды меню](../extensibility/creating-an-extension-with-a-menu-command.md).  
  
1.  Создание растрового изображения с глубиной цвета 32 бита. Значок всегда равно 16 x 16, так как этот рисунок должен быть 16 пикселей и шириной, кратной 16 пикселям.  
  
     Каждый значок помещается на точечный рисунок рядом друг с другом в одной строке. Используйте альфа\-канала для указания места прозрачности в каждый значок.  
  
     При использовании 8\-разрядных цветов, используйте пурпурного, `RGB(255,0,255)`, как прозрачность. Однако предпочтительнее 32\-разрядных цветных значков.  
  
2.  Скопируйте файл значка в каталог ресурсов в проект VSPackage. В обозревателе решений добавьте значок в проект. \(Выберите ресурсы и в контекстном меню нажмите кнопку Добавить, а затем существующий элемент и выберите файл значка.\)  
  
3.  Откройте файл .vsct в редакторе.  
  
4.  Добавление `GuidSymbol` элемент с именем **testIcon**. Создать GUID \(**Сервис \/ создать GUID**, а затем выберите **Формат реестра** и щелкните "Копировать"\) и вставьте его в `value` атрибута. Результат должен выглядеть следующим образом:  
  
    ```xml  
    <!-- Create your own GUID -->  
    <GuidSymbol name="testIcon" value="{00000000-0000-0000-0000-0000}">  
    ```  
  
5.  Добавление `<IDSymbol>` для значка.`name` Атрибут имеет идентификатор значка и `value` указывает его положение на полосе, если таковые имеются. Если имеется только один значок, добавьте 1. Результат должен выглядеть следующим образом:  
  
    ```xml  
    <!-- Create your own GUID -->  
    <GuidSymbol name="testIcon" value="{00000000-0000-0000-0000-0000}">  
        <IDSymbol name="testIcon1" value="1" />  
    </GuidSymbol>  
    ```  
  
6.  Создание `<Bitmap>` в `<Bitmaps>` раздел файла .vsct для представления точечного рисунка, содержащий значки.  
  
    -   Задайте `guid` значение имени `<GuidSymbol>` элемент, созданный на предыдущем шаге.  
  
    -   Задайте `href` значение относительного пути файла точечного рисунка \(в данном случае **ресурсы\\ \< имя файла значка \>**.  
  
    -   Задайте `usedList` значение IDSymbol, созданную ранее. Этот атрибут задает разделенный запятыми список значков для использования в VSPackage. Значки, отсутствующие в списке, компиляции исключенных формы.  
  
         Блок точечный рисунок должен выглядеть следующим образом:  
  
        ```xml  
        <Bitmap guid="testIcon" href="Resources\<icon file name>" usedList="testIcon1"/>  
        ```  
  
7.  В существующем `<Button>` элемент, значение `Icon` элемента к значениям GUIDSymbol и IDSymbol, созданную ранее. Вот пример элемент Button с теми же значениями:  
  
    ```xml  
    <Button guid="guidAddIconCmdSet" id="cmdidMyCommand" priority="0x0100" type="Button">  
        <Parent guid="guidAddIconCmdSet" id="MyMenuGroup" />  
        <Icon guid="testIcon" id="testIcon1" />  
        <Strings>  
            <ButtonText>My Command name</ButtonText>  
        </Strings>  
    </Button>  
    ```  
  
8.  Для тестирования значка. Выполните сборку решения и запустите отладку. В экспериментальном экземпляре команды. Он должен отображать значок, добавленных.  
  
## См. также  
 [Расширение меню и команд](../extensibility/extending-menus-and-commands.md)   
 [Справочник по схемам VSCT XML](../extensibility/vsct-xml-schema-reference.md)
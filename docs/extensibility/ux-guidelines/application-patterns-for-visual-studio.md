---
title: Шаблоны приложений для Visual Studio | Документы Microsoft
ms.custom: ''
ms.date: 04/26/2017
ms.technology:
- vs-ide-sdk
ms.topic: conceptual
ms.assetid: 8ed68602-4e28-46fe-b39f-f41979b308a2
author: gregvanl
ms.author: gregvanl
manager: douge
ms.workload:
- vssdk
ms.openlocfilehash: a793651660c456213c0e91c0d6c6474cccf3f7d8
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
ms.locfileid: "31148838"
---
# <a name="application-patterns-for-visual-studio"></a>Шаблоны приложений для Visual Studio
##  <a name="BKMK_WindowInteractions"></a> Окно взаимодействия  
  
### <a name="overview"></a>Обзор  
Два главное окно типы, используемые в Visual Studio, редакторы документов и окна инструментов. Редко, но возможно, являются большие немодальные диалоговые окна. Несмотря на то, что они все немодальное в оболочке, их шаблоны являются существенно различается. В этом разделе рассматриваются разницу между документами, окнами и немодальные диалоговые окна. Шаблоны модальное диалоговое окно рассматриваются в [диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_Dialogs).  
  
### <a name="comparing-window-usage-patterns"></a>Сравнение шаблонов использования окна  
**Окна документов** также почти всегда отображаются в документе. Это дает редактор документов «center рабочей области» для размещения окон инструментов дополнительного вокруг.  
  
Объект **окно инструментов** наиболее часто отображается как меньшего размера окна, свернутые по краю интегрированной среды разработки. Это может быть видимым, скрытым или автоматически скрываемым. Тем не менее, иногда окна инструментов будут представлены в контейнере документа, сняв флажок **окна или закреплением** свойства в окне. Это приведет к больше свободного пространства, но также обычное Проектное решение: при попытке интегрировать в Visual Studio, необходимо решить, следует ли отображать функции окна инструментов или окна документа.  
  
**Немодальные диалоговые окна** , в Visual Studio не рекомендуется. Наиболее немодальные диалоговые окна по определению, с плавающей запятой окна инструментов и должен быть реализован таким образом. В случаях, где размер окна инструментов обычного прикрепляются к стороне оболочки может оказаться слишком ограничивающим допускаются немодальные диалоговые окна. Они также можно использовать в случаях, когда пользователь будет скорее всего переместить диалогового окна на втором мониторе.  
  
Подумайте, тщательно о подходящего контейнера требуется. Общие замечания по использованию шаблон для разработки пользовательского интерфейса, в следующей таблице.  
  
||Окно документа|Окна инструментов|Немодального диалогового окна|  
|-|---------------------|-----------------|---------------------|  
| **Положение** | Всегда располагается в документе также и не закрепление по краям интегрированной среды разработки. Он может быть «извлечено», чтобы отображается отдельно от основной оболочке. | Обычно соответствии по краям интегрированной среды разработки, но может быть настраиваемые следует, автоматически скрываемые (отменено) или также закреплено в документе.|Независимо от интегрированной среды разработки больших всплывающего окна. |  
| **Зафиксировать модели** | *Задержки фиксации транзакций*<br /><br /> Чтобы сохранить данные в документе, пользователь должен выдать **файл &gt; Сохранить**, **Сохранить как**, или **сохранить все** команды. Окно документа использует концепцию данные в ней «измененных» то завершена одно сохранения команды. При закрытии окна документа, все содержимое на жестком диске или потеряна. | *Немедленное фиксации*<br /><br /> Нет без сохранения модели. Для окон инструментов инспектора, помогающие в редактирования файла файл должен быть открыт в активном редакторе или конструкторе и редактора или конструктора, которому принадлежит сохранения. | *Отложенное или немедленное фиксации*<br /><br /> Чаще всего больших немодального диалогового окна требуется действие для фиксации изменений и позволяет операцию «Отмена», которая отменяет все изменения, внесенные в течение сеанса диалогового окна.  Это отличает немодального диалогового окна из окна инструментов, окна инструментов всегда имеет модели немедленно фиксации. |  
| **Видимость** | *Открыть или создать (файл) и закрыть*<br /><br /> Открытие окна документов осуществляется с помощью открытия существующего документа или с помощью шаблона для создания нового документа. Имеется не» откройте \<определенным редактором >» команды. | *Скрытие и отображение*<br /><br /> Окна инструментов экземпляра можно будет скрыто или показано. Содержимое и состояния в окно инструментов сохраняются ли в представлении или скрыт. Многоэкземплярные окна инструментов может быть закрыто а также скрыты. При закрытии окна инструментов многоэкземплярные удаляются содержимого и состояния в окно инструментов. | *Запуск команды*<br /><br /> Диалоговые окна, запущенных из команд на основе задач. |  
| **Экземпляры** | *Несколько экземпляров*<br /><br /> Несколько редакторов можно открыть в то же время и редактирование различных файлов, хотя в некоторых редакторах также позволяют тот же файл, необходимо открыть в более чем одного редактора (с помощью **окна &gt; новое окно** команды).<br /><br /> Возможно, один редактор изменяет один или несколько файлов одновременно (конструктор проектов). | *Одним или несколькими instance*<br /><br /> Содержимое изменяется для отражения контекста (как в браузере свойств) или передать фокус или контекста для других окон (список задач, обозревателе решений).<br /><br /> Экземпляр одного и нескольких экземпляров окон инструментов должен быть связан с окна активного документа, если нет особой причины до. | *Единственным экземпляром* |  
| **Примеры** | **Текстовые редакторы**, как и в редакторе кода<br /><br /> **Рабочие области конструирования**, такие как конструктор форм или область моделирования<br /><br /> **Управление макетами аналогично диалоговые окна**, как конструктор манифеста | **Обозревателе решений** предоставляет решение и проекты, содержащиеся в решении<br /><br /> **Обозревателя серверов** обеспечивает иерархическое представление подключений серверов и данных, которые пользователь выбирает для открытия в окне. Открытие объекта из иерархии базы данных, как запрос, откроется окно документа и позволяет пользователю изменить запрос.<br /><br /> **Обозревателе свойств** отображаются свойства объекта, выбранного в окне документа или другое окно инструментов. Свойства представлены в представлении иерархической сетки или в сложных элементов управления диалогового окна like и позволяет пользователю задать значения этих свойств. | |  
  
##  <a name="BKMK_ToolWindows"></a> Окна инструментов  
  
### <a name="overview"></a>Обзор  
Окна инструментов поддерживают работу пользователя, которая происходит в окнах документов. Они могут использоваться для отображения иерархию, которая представляет фундаментальные корневой объект, которая предоставляет Visual Studio, а также можно управлять.  
  
При рассмотрении окно инструментов в Интегрированной среде разработки, следует авторы:  
  
-   Использование соответствующей задачи существующих окон инструментов и не создавать новые со схожими возможностями. Новые окна инструментов должны быть созданы только в том случае, если они предоставляют значительно отличаются «средство» или функциональные возможности, не может быть интегрирован в окно, аналогичное или отключая существующему окну сведение концентратору.  
  
-   Используйте панель стандартных команд, при необходимости, в верхней части окна инструментов.  
  
-   Согласовываться с шаблонами, уже присутствует в других окнах инструментов для управления навигации клавиатуры и презентации.  
  
-   Согласовываться с представлением управления в остальные окна средства.  
  
-   Отображение окна инструментов конкретного документа auto-по возможности, чтобы они отображались только при активации родительский документ.  
  
-   Убедитесь, что их содержимое окна навигации с помощью клавиатуры (поддержка клавиши со стрелками).  
  
#### <a name="tool-window-states"></a>Состояния окна инструментов  
Окна инструментов Visual Studio имеют разные состояния, некоторые из них, пользователь активирован (например, возможность автоматического скрытия). Другие состояния, например автоматическим отображением и разрешить окна инструментов, отображаются в правильном контексте и скрывать, если не требуется. Существует пять состояния окна инструментов в целом.  
  
-   **Закрепить закрепленные** окна инструментов можно прикрепить к любой из четырех сторон области документа. В строке заголовка окна инструмента появляется значок канцелярской кнопки. Окна инструментов могут закрепляться горизонтально или вертикально вдоль края оболочки и других окон инструментов, а также может быть присоединено к вкладке.  
  
-   **Автоматически скрываемые** Незакрепленным окна инструментов. Окна можно сдвинуть сворачивается, оставляя (с именем окна инструментов и ее значок) на вкладке на краю области документа. В окне инструментов выдвигается, когда пользователь наведет указатель мыши на вкладку.  
  
-   **Автоматическим отображением** окна инструментов автоматически отображается при запуске другим элементом пользовательского интерфейса, например текстовый редактор, получении или потере фокуса.  
  
-   **Число с плавающей** окна инструментов, наведите указатель мыши за пределами интегрированной среды разработки. Это полезно для конфигураций с несколькими мониторами.  
  
-   **Документ с вкладками** окна инструментов могут закрепляться в документе также. Это полезно для больших средство windows, как в обозревателе объектов, для которых требуются дополнительные площадь, чем закрепление по границам кадра.  
  
![Состояния окна в Visual Studio инструментов](../../extensibility/ux-guidelines/media/0702-01_toolwindowstates.png "0702 01_ToolWindowStates")<br />Состояния окна инструментов в Visual Studio
  
#### <a name="single-instance-and-multi-instance"></a>Экземпляр одного и нескольких экземпляров  
Окна инструментов являются одним экземпляром или несколькими экземплярами. Некоторых окон инструментов экземпляра могут быть связаны с окно активного документа, хотя многоэкземплярные окна инструментов не может. Ответить на несколько экземпляров окон инструментов **окна &gt; новое окно** команды, создав новый экземпляр окна. На следующем рисунке показан окно инструментов, включение команду создания окна при активном экземпляр окна:  
  
![Окно инструментов, разрешающее команду «Новое окно» при создании экземпляра окна active](../../extensibility/ux-guidelines/media/0702-02_toolwindowenablingcommand.png "0702 02_ToolWindowEnablingCommand")<br />Окно инструментов, разрешающее команду «Новое окно» при включенном экземпляра окна  
  
Окна инструментов экземпляра можно будет скрыто или показано, пока многоэкземплярные окна инструментов можно закрыты, а также скрытые. Все окна инструментов можно прикреплять, связанном с плавающей запятой и установлен в качестве дочернего окна многодокументного интерфейса (MDI) (аналогично окну документа). Все окна инструментов должна отвечать на команды управления соответствующего окна в меню «окно»:  
  
![Команды управления окнами в меню Visual Studio окно](../../extensibility/ux-guidelines/media/0702-03_windowmanagementcontrols.png "0702 03_WindowManagementControls")<br />Команды управления окнами в меню Visual Studio окно
  
#### <a name="document-specific-tool-windows"></a>Окна инструментов, относящиеся к документам  
Некоторые окна инструментов, предназначены для изменяться в зависимости от заданного типа документа. В этих окнах постоянно обновляются, отражая функциональные возможности, применимые к окну активного документа в Интегрированной среде разработки.  
  
Примеры окон инструментов, содержимое которого изменяются в соответствии с выбранной редактора: панель инструментов и структуру документа. В этих окнах отображаются водяного знака, если редактор имеет фокус, не позволяющем контекст в окно.  
  
#### <a name="navigable-list-tool-windows"></a>Список доступных для навигации окна инструментов  
Некоторые окна инструментов отображать список элементов навигации, которые пользователь может взаимодействовать с. В этот тип окна должно всегда быть отзывы для текущего элемента в списке, даже если окно неактивно. Список должна отвечать на **GoToNextLocation** и **GoToPrevLocation** команды изменением выбранного элемента в окне  
  
Окна инструментов навигации списка приведены в обозревателе решений и окно результатов поиска.  
  
### <a name="tool-window-types"></a>Типы окон инструментов  
  
#### <a name="common-tool-windows-and-their-functions"></a>Распространенные окна инструментов и их функции

**Окна инструментов иерархической**
| Окна инструментов | Функция | 
| --- | --- | 
| обозреватель решений | Иерархическое дерево, которое отображает список документов, содержащихся в проектах, прочие файлы и элементы решения. Отображение элементов в проектах определяется в пакете, которому принадлежит тип проекта (например, типы ссылок, directory или смешанный режим). | 
| Представление классов | Иерархическое дерево, классов и различными элементами в рабочий набор документов, независимо от самих файлов. | 
| обозревателя серверов | Иерархическое дерево, которое отображает все подключения серверов и данных в решении. | 
| Структура документа | Иерархическую структуру активного документа. | 

**Окна инструментов сетки**
| Окна инструментов | Функция | 
| --- | --- | 
| Свойства | Сетка, отображающая список свойств для выбранного объекта, вместе с выбора значения для изменения этих свойств. | 
| список задач | Сетка, позволяет пользователю создание, изменение и удаление задач и комментарии. | 

**Окна инструментов содержимого**
| Окна инструментов | Функция | 
| --- | --- | 
| Справка | Окно, которое позволяет пользователям доступа к различным методам Получение справки из «Как?» видео на форумах MSDN. | 
| Динамическая справка | Окно инструментов, отображаются ссылки на разделы, применимые к текущему выбранному элементу справки. | 
| Обозреватель объектов | Набор рамок двух столбцов со списком компонентов иерархических объектов в левой панели и объект, свойства и методы в правом столбце. | 

**Окна инструментов диалогового окна**
| Окна инструментов | Функция | 
| --- | --- | 
| Find | Диалоговое окно, позволяющее пользователю поиск или поиск и замена в различных файлов в решении. |
| Расширенный поиск | Диалоговое окно, позволяющее пользователю поиск или поиск и замена в различных файлов в решении. | 

**Другие окна инструментов**
| Окна инструментов | Функция | 
| --- | --- | 
| Панель элементов | Окна средства, используемого для хранения элементов, которые будут удалены в области конструирования, обеспечивая согласованность источника перетаскивания для всех конструкторов. |
| Начальная страница | Пользовательский портал для Visual Studio с доступом к веб-каналы, новости для разработчиков, справки Visual Studio и последних проектов. Пользователи также могут создавать настраиваемые начальные страницы, скопировав файл StartPage.xaml из «Common7\IDE\StartPages\" каталог файлов программы Visual Studio в Visual Studio в папку StartPages документы каталог и затем либо изменив XAML При наличии или открыв его в Visual Studio или другого редактора кода. | 

**Окна отладчика**
| Окна инструментов | Функция | 
| --- | --- |
| Автоматические ||  
| Интерпретация ||  
| Вывод | В окне вывода можно использовать всякий раз, когда у вас есть текстовое события или состояния для объявления. |  
| Память ||  
| Точки останова ||  
| Работает ||  
| Документы ||  
| Стек вызовов ||  
| Локальные ||  
| Контрольные значения ||  
| Дизассемблированный код ||  
| Регистры ||  
| Потоки ||  
  
##  <a name="BKMK_DocumentEditorConventions"></a> Условные обозначения редактора  
  
### <a name="document-interactions"></a>Взаимодействие документа  
«Документ также» является наибольшее пространство в среде IDE и где пользователя обычно основное внимание их внимания для выполнения их задач вспомогательная операционной системой windows, дополнительного инструмента. Редакторы документа представляют собой основные единиц работы, которую пользователь открывает и сохраняет в среде Visual Studio. Они сохраняют строгой выбора привязаны к обозревателя решений или других окон активной иерархии. Пользователь должен иметь возможность указывал на один из этих окон иерархии и знать, где содержится документ и его связи решения, проекта или другой корневой объект, предоставляемую пакетом Visual Studio.  
  
Для редактирования документа необходим целостное взаимодействие с пользователем. Чтобы разрешить пользователю сосредоточиться на поставленной задачи вместо на управление окнами и поиск команд, выберите стратегию представление документа, которая оптимально подходит для задачи пользователя для редактирования этого типа документов.  
  
#### <a name="common-interactions-for-the-document-well"></a>Общие взаимодействия для документа  
  
-   Использовать модель согласованного взаимодействия, обычно **новый файл** и **открыть файл** возникает.  
  
-   Обновите связанные функциональные возможности в связанных окон и меню, при открытии окна документа.  
  
-   Команды меню, соответствующим образом интегрированы в типичных меню как **изменить**, **формат**, и **представление** меню. Если доступно достаточное число специальные команды, можно создать новое меню. Это новое меню должны быть видимыми только в том случае, если документ имеет фокус.  
  
-   Можно поместить встроенной панели инструментов в верхней части редактора. Это предпочтительнее с отдельной панель инструментов, которая находится за пределами редактора.  
  
-   Всегда сохраняйте выбор в обозревателе решений или как активный окно иерархии.  
  
-   Дважды щелкните документ, в обозревателе решений должен выполнить те же действия, что **откройте**.  
  
-   Если в типе документа может использоваться более одного редактора, пользователь должен иметь права переопределить или сбросить действие по умолчанию для типа данных документа с помощью **открыть с помощью** диалоговое окно, щелкните правой кнопкой мыши на файле и выбрав **Open С** в контекстном меню.  
  
-   Также не сборки мастера в документе.  
  
### <a name="user-expectations-for-specific-document-types"></a>Ожиданий пользователя для определенных типов документов  
Существует несколько различные базовые типы редакторов документа и каждый имеет набор взаимодействия, которые согласованы с другими того же типа.  
  
-   **Текстовый редактор:** редактора кода, файлов журнала  
  
-   **Область конструктора:** WPF формы конструктор Windows forms  
  
-   **Редактор стилей-диалоговое окно:** конструктор манифеста, свойства проекта  
  
-   **Конструктор моделей:** конструктора рабочих процессов, codemap, схема архитектуры, продвижения  
  
Существует несколько типов не редактор, и использовать документ. Хотя они не изменять самих документов, они должны следовать стандартных действий для окон документов.  
  
-   **Отчеты о** IntelliTrace отчет, Hyper-V, отчет профилировщика  
  
-   **Панель мониторинга:** концентратора диагностики  
  
#### <a name="text-based-editors"></a>Текстовых редакторов  
  
-   Документ может участвовать в модель вкладку предварительного просмотра, разрешение для предварительного просмотра документа без его открытия.  
  
-   Структура документа может быть представлен в окне инструментов помощник по поиску, например структуру документа.  
  
-   Согласованное поведение IntelliSense (если применимо) и другие редакторы кода.  
  
-   Всплывающие окна или вспомогательных пользовательского интерфейса выполните аналогичные стили и шаблоны для существующих похожего пользовательского интерфейса, например CodeLens.  
  
-   Сообщения о состоянии документа отображается в элементе управления информационной панели в верхней части документа или в строке состояния.  
  
-   Пользователь должен быть недоступными для настройки внешнего вида шрифты и цвета с помощью **Сервис > Параметры** страницы на общей странице шрифты и цвета или одно конкретное в редактор.  
  
#### <a name="design-surfaces"></a>Области конструктора  
  
-   Пустой конструктор должен иметь водяного знака в рабочей области, указывающее, как приступить к работе.  
  
-   Переключение представлений механизмы будет следовать существующие шаблоны, например дважды щелкните, чтобы открыть редактор кода или вкладок в окне документа, позволяя взаимодействия с обеими областями.  
  
-   Добавление элементов в рабочей области конструирования следует сделать с помощью панели элементов Если высокой конкретному окну инструмента не требуется.  
  
-   Элементов в рабочей области будет следовать модели согласованное выделение.  
  
-   Внедренные панели инструментов содержать команды только, как правило, не определенного документа команды, такие как **Сохранить**.  
  
#### <a name="dialog-style-editors"></a>Редакторы стиля диалогового окна  
  
-   Макет элемента управления необходимо соблюдать соглашения макета обычного диалогового окна.  
  
-   Внешний вид вкладок документов не должны совпадать с вкладок в редакторе, должны быть одного из двух стилей разрешенных внутренних вкладку.  
  
-   Пользователи должны иметь возможность взаимодействия с элементами управления, с помощью клавиатуры. либо активации в редакторе и переходов по элементам управления или с помощью стандартных назначенные клавиши.  
  
-   Конструктор должен использовать общий сохранить модель. Не общее сохранения или фиксации кнопки должны размещаться в рабочей области, несмотря на то, что другие кнопки может быть полезным.  
  
#### <a name="model-designers"></a>Конструкторы моделей  
  
-   Пустой конструктор должен иметь водяного знака в рабочей области, указывающее, как приступить к работе.  
  
-   Добавление элементов в рабочей области конструирования следует сделать с помощью панели элементов.  
  
-   Элементов в рабочей области будет следовать модели согласованное выделение.  
  
-   Внедренные панели инструментов содержать команды только, как правило, не определенного документа команды, такие как **Сохранить**.  
  
-   Условные обозначения появляются в рабочей области — отражать или водяного знака.  
  
-   Пользователь должен быть недоступными для настройки внешнего вида шрифты и цвета с помощью **Сервис > Параметры** страницы на общей странице шрифты и цвета или одно конкретное в редактор.  
  
#### <a name="reports"></a>Отчеты  
  
-   Отчеты обычно предназначены только для информации и не участвуют в сохранить модель. Тем не менее они могут включать взаимодействия, таких как ссылки на другие важные сведения или разделы, которые можно разворачивать и сворачивать.  
  
-   Большинство команд в рабочей области должен быть гиперссылки, а не кнопки.  
  
-   Макет должен включать заголовок или выполнить действия, макет стандартного отчета.  
  
#### <a name="dashboards"></a>Панели мониторинга  
  
-   Панели мониторинга модель взаимодействия самостоятельно необязательно, но служить в качестве средства для обеспечения множество других средств.  
  
-   Они не участвуют в сохранить модель.  
  
-   Пользователи должны иметь возможность взаимодействия с элементами управления, с помощью клавиатуры, активация редактора и переходов по элементам управления, либо с помощью стандартных назначенные клавиши.  
  
##  <a name="BKMK_Dialogs"></a> Диалоговые окна  
  
### <a name="introduction"></a>Вступление  
Диалоговые окна в Visual Studio обычно должен поддерживать один дискретный единица работы пользователя и затем закрывается.  
  
Если решено необходимые диалоговое окно, в порядке предпочтения имеется три возможности:  
  
1.  Интегрировать функции в один из общих диалоговых окон в Visual Studio.  
  
2.  Создание собственного диалогового окна с помощью шаблона, найден в существующих аналогичном диалоговом окне.  
  
3.  Создайте новое диалоговое окно, следующие взаимодействия и рекомендации по макету.  
  
В этом разделе описывается выберите шаблон правильный диалоговое окно, в рамках рабочих процессов Visual Studio и общие соглашения для диалогового окна конструктора.  
  
### <a name="themes"></a>Темы  
Диалоговые окна в Visual Studio выполните одно из двух основные стили.  
  
#### <a name="standard-unthemed"></a>Standard (unthemed)  
Большинство диалоговых окон, диалоговых окон Стандартная служебная программа и должен быть unthemed. Не не стандартные элементы управления изменять шаблон и попытаться создать стилизованные кнопок «современное» или элементов управления. Элементы управления и хром внешний вид выполните [стандартные правила взаимодействия рабочего стола Windows по диалоговым окнам](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742499\(v=vs.85\).aspx).  
  
#### <a name="themed"></a>Тематические  
Специальные шаги в диалоговых окнах «подпись» может быть включен в тему. Тематические диалоговые окна имеют особый внешний вид, который также имеет некоторые специальные взаимодействие шаблоны, связанные со стилем. Тема ваше диалоговое окно только в том случае, если он удовлетворяет этим требованиям:  
  
-   Диалоговое окно имеет общий интерфейс, который будет видеть и использовать часто или с несколькими пользователями (например, **новый проект** диалогового окна.  
  
-   Диалоговое окно содержит элементы фирменного стиля Показательным продукта (например, **параметры учетной записи** диалогового окна).  
  
-   Диалоговое окно отображается как неотъемлемой частью поток большего размера, который включает другие теме диалоговых окон (например, **добавление подключенной службы** диалогового окна).  
  
-   Диалоговое окно является важной частью работы, который играет роль стратегического в повышении или дифференцирования версии продукта.  
  
При создании теме диалоговое окно, используйте цвета среды и следуйте правильный макет и используемых для взаимодействия. (См. [макета для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md).)  
  
### <a name="dialog-design"></a>Диалоговое окно конструктора  
Хорошо спроектированный диалоговые окна учитывайте следующие элементы.  
  
-   Поддерживаемый задачи пользователя  
  
-   Терминология, язык и стиль текста диалогового окна  
  
-   Выбор элемента управления и соглашения пользовательского интерфейса  
  
-   Спецификация и управления выравнивание визуального макета  
  
-   Доступ с клавиатуры  
  
#### <a name="content-organization"></a>Содержимого организации  
Необходимо учитывайте различия между этими типами основных диалоговых окон.  
  
-   [Простые диалоги](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_SimpleDialogs) представления элементов управления в одном модальное окно. Представление может включать варианты сложных шаблонов элементов управления, включая выбор полей или панели значков.  
  
-   [Многоуровневая диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_LayeredDialogs) позволяет максимально эффективно использовать возможности площадь экрана при небольшой части пользовательского интерфейса состоит из нескольких групп элементов управления. Диалоговое окно группирования, «располагаются» через элементы управления вкладка, элементы управления навигацией по списка или кнопки, чтобы пользователь может выбрать, какие группирования, чтобы просмотреть в любой момент.  
  
-   [Мастеры](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_Wizards) полезны для перенаправления пользователя с помощью логической последовательности шагов до завершения задачи. Ряд вариантов предоставляются в последовательных панелей, иногда Общие сведения о различных рабочих процессов («ветви») зависит от выбора, сделанного на предыдущей странице.  
  
####  <a name="BKMK_SimpleDialogs"></a> Простой диалоговые окна  
Простое диалоговое окно является представлением элементов управления в одном модальное окно. Презентация может включать варианты сложных шаблонов элементов управления, такие как выбор полей. Для простых диалогов выполните стандартного Общие, а также любой определенной структуре, требуемый для группирования сложного элемента управления.
  
![> Создание ключа строгого имени приведен пример простого диалогового окна в Visual Studio. ] (../../extensibility/ux-guidelines/media/0704-01_createstrongnamekey.png "0704 01_CreateStrongNameKey")<br />Создание ключа строгого имени приведен пример простого диалогового окна в Visual Studio.
  
####  <a name="BKMK_LayeredDialogs"></a> Многоуровневый диалоговые окна  
Многоуровневый диалоговые окна включают вкладки, панели мониторинга и внедренные деревьев. Они используются для повышения недвижимость при наличии нескольких групп элементов управления, представленных в одну часть пользовательского интерфейса. Группирования состоят из уровней, чтобы пользователь может выбрать, какие группирования, чтобы просмотреть в любой момент времени.  
  
В самом простом случае механизм для переключения между группирования является набор вкладок. Существует несколько альтернативных вариантов. Найти в порядке использования адресов и слоев для том, как выбрать наиболее подходящий стиль.  
  
**Средства &gt; параметры** диалоговое окно является примером многоуровневое диалоговое окно, с помощью внедренных дерева:  
  
![Сервис > Параметры — пример многоуровневого диалогового окна в Visual Studio. ] (../../extensibility/ux-guidelines/media/0704-02_toolsoptions.png "0704 02_ToolsOptions")<br />Сервис > Параметры — пример многоуровневого диалогового окна в Visual Studio.
  
####  <a name="BKMK_Wizards"></a> Мастеры  
Мастеры полезны для перенаправления пользователя с помощью логических последовательность шагов в процесс выполнения задачи. В последовательных окнах предлагается ряд вариантов, а пользователь должен продолжиться каждый этап перед переходом к следующему. Когда доступны необходимые значения по умолчанию, **Готово** кнопка включена.  
  
 Модальные мастера используются для выполнения задач:  
  
-   Содержит ветвления, где предлагаются различные пути в зависимости от выбора пользователя  
  
-   Содержит зависимости между шагами, где последовательность шагов зависит от ввод пользователя из предыдущего действия  
  
-   Достаточно сложны, использование пользовательского интерфейса для объяснения возможностям, доступным и возможных результатов в каждом шаге  
  
-   Являются транзакционными, требуется набор действий для выполнения в полном перед фиксацией изменения  
  
### <a name="common-conventions"></a>Общие соглашения  
Чтобы добиться оптимального проектирования и функциональных возможностей с помощью вашей диалоговых окон, необходимо следуйте следующим соглашениям об размер диалогового окна, положение, стандарты, конфигурацию элемента управления и выравнивание, пользовательского интерфейса текста, заголовков, кнопки элемента управления, и ключи доступа.  
  
Макет определенных правил, в разделе [макета для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md).  
  
#### <a name="size"></a>Размер  
Диалоговые окна должна помещаться в пределах минимальное разрешение экрана 1024 x 768 и первоначальное размер не должен превышать 900 x 700 пикселов. Диалоговые окна может быть изменяемым размером, но это не является обязательным.  
  
Существует два рекомендации для диалоговых окон с раскрывающимися списками.  
  
1.  Что минимальный размер определяется в диалоговом окне, оптимизировать для набора элементов управления без усечения и настроить для роста разумного локализации.  
  
2.  Что размер масштабировать пользователя сохраняется между сеансами. Например если пользователь выполняет масштабирование диалоговое окно для 150%, последующем запуске диалогового окна будут отображаться 150%.  
  
#### <a name="position"></a>Положение  
Диалоговые окна должно отображаться по центру в Интегрированной среде разработки при первом запуске. Последняя позиция неизменяемый диалоговых окон не сохраняться, поэтому они будут отображаться по центру в последующих запусках. 

Для изменяемого размера диалогового окна размер должно быть сохранено на последующих запусках. Модальные диалоговые окна с раскрывающимися списками позицию не должны сохраняться. Отображение их по центру в среде IDE предотвращает возможность отображаются в позиции непредсказуемыми или недоступным для использования при изменении конфигурации пользователя отображения диалогового окна. 

Для немодальные диалоговые окна, которые можно перемещать положение пользователя должен храниться в последующих запусках, как диалоговое окно может часто используется как неотъемлемой частью большого рабочего процесса.  
  
При диалоговых окон необходимо создать другие диалоговые окна, окно переднего плана должна каскадом вправо и вниз от родительского, так что он очевидные для пользователя, к которому осуществлен переход на новое место.  
  
#### <a name="modality"></a>Модальность  
Modal, означает, что пользователям необходимо завершить или отменить окно перед продолжением. Так как модальные диалоговые окна запрещают пользователю взаимодействовать с другими частями среды, вашего компонента задачи потока следует использовать их максимально ограниченно. Если модальные операции, Visual Studio предусматривает ряд общих диалоговых окон, которые можно интегрировать ваши возможности в. Если необходимо создать новое диалоговое окно, выполните шаблон взаимодействия существующие диалогового окна с подобными возможностями.  
  
Если пользователям требуется одновременно выполнить два действия, такие как **найти** и **заменить** при написании нового кода, диалоговое окно должно быть немодальным, чтобы пользователь может легко переключаться между ними. Visual Studio обычно используется средство windows для этого типа поддержки редактора связанной задачи.  
  
#### <a name="control-configuration"></a>Конфигурацию элемента управления  
Согласовываться с существующие конфигурации управления, которые выполняют то же самое в Visual Studio.  
  
#### <a name="title-bars"></a>Заголовки окон  
  
-   Текст в заголовке окна должна отражать имя команды, которой она была запущена.  
  
-   Значок не должен использоваться в строки заголовка диалогового окна. В случаях, когда система требует один используйте логотип Visual Studio.  
  
-   Диалоговые окна не следует свернуть или развернуть кнопок.  
  
-   Кнопки «Справка» в строке заголовка являются устаревшими. Не добавляйте их в новые диалоговые окна. Если они существуют, они должен быть запущен раздел справки, по существу соответствующую задачу.  
  
 ![Спецификации рекомендации для заголовков в диалоговых окнах Visual Studio](../../extensibility/ux-guidelines/media/0704-03_titlebarspecs.png "0704 03_TitleBarSpecs")<br />Спецификации рекомендации для заголовков в диалоговых окнах Visual Studio
  
#### <a name="control-buttons"></a>Кнопки управления  
Как правило **ОК**, **отменить**, и **справки** кнопки должны быть упорядочены по горизонтали в правом нижнем углу диалогового окна. Альтернативный вертикальный столбец разрешается в том случае, если диалоговое окно содержит несколько кнопок в нижней части диалогового окна, должны выводиться visual путаницы с кнопок управления.  
  
![Допустимые конфигурации для кнопок элемента управления в диалоговых окнах Visual Studio](../../extensibility/ux-guidelines/media/0704-04_controlbuttonconfig.png "0704 04_ControlButtonConfig")<br />Допустимые конфигурации для кнопок элемента управления в диалоговых окнах Visual Studio
  
Диалоговое окно необходимо включить кнопку элемента управления по умолчанию. Для определения наиболее команды для использования по умолчанию, выберите из следующих вариантов (перечислены в порядке приоритета):  
  
-   Выберите команду наиболее безопасным и наиболее безопасный вариант по умолчанию. Это означает, что при выборе команды, скорее всего избежать потери данных или непредусмотренных системного доступа.  
  
-   Если потери данных и безопасности не факторов, затем выберите команду по умолчанию в соответствии с удобства. Включая скорее всего, команда по умолчанию будет повысить пользователя рабочего процесса, когда диалоговое окно поддерживает часто или повторяющихся задач.  
  
Не выбирайте окончательно разрушительных действие команды по умолчанию. При наличии таких команд, выберите более безопасные команду по умолчанию вместо.  
  
#### <a name="access-keys"></a>Клавиши доступа  
Не используйте ключи доступа для **ОК**, **отменить**, или **справки** кнопки. Эти кнопки для сопоставления с сочетания клавиш по умолчанию:  
  
| Имя кнопки | Сочетание клавиш |  
| --- | --- |  
| ОК | ВВОД |  
| Отмена | ESC |  
| Справка | F1 |  
  
#### <a name="imagery"></a>Изображения  
Только в случае необходимости используйте образы в диалоговых окнах. Не используйте крупные значки в диалоговых окнах для использования места. Используйте изображения только в том случае, если они являются важной частью процесса передачи сообщений для пользователя, такие как значки предупреждения и состояние анимации.  
  
###  <a name="BKMK_PrioritizingAndLayering"></a> Определения приоритетов и иерархическое представление  
  
#### <a name="prioritizing-your-ui"></a>Определения приоритетов работы пользовательского интерфейса  
Может потребоваться открыть некоторые элементы пользовательского интерфейса на передний план и поместить более сложных поведение и варианты (включая запутанные команд), в диалоговых окнах. Переведите часто используемые функции на передний план, путем создания для него место и станет видимым в пользовательском Интерфейсе текстовую метку по умолчанию при отображении диалогового окна.  
  
#### <a name="layering-your-ui"></a>Иерархическое представление пользовательского интерфейса  
Если решено, что диалоговое окно не требуется, но связанные функциональные возможности, которые вы хотите предоставить пользователю выходит за то, что может быть отображено в простого диалогового окна, необходимо слоя пользовательского интерфейса. Наиболее распространенные методы слоев, используемый Visual Studio, вкладок и стенах или панели мониторинга. В некоторых случаях может быть целесообразным областей, которые можно разворачивать и сворачивать. Адаптивная пользовательского интерфейса в Visual Studio обычно не рекомендуется.  
  
Есть свои преимущества и недостатки различных методов иерархическое представление пользовательского интерфейса через элементы управления вкладка like. Просмотрите в списке ниже, чтобы выбрать способ иерархическое представление, в зависимости от ситуации.  
  
##### <a name="tabbing"></a>Переход по клавише TAB  
  
| Переключение механизм | Преимущества и применение | Недостатки и неправильное использование |  
| --- | --- | --- |  
| Элемент управления табуляции | Группируются в наборы связанных страницах диалоговых окон<br /><br />Полезно для не более пяти (или количество вкладок, которые помещаются в одну строку в диалоговом окне) страниц связанных элементов управления в диалоговом окне<br /><br />Должен быть коротким меток вкладок: один или два слова, которые можно легко определить содержимое<br /><br />Общий вид диалогового окна системы<br /><br />Пример: **обозреватель файлов &gt; свойств элемента** | Сделать короткий подписями описания может быть сложно<br /><br />Обычно не масштабируются за пять вкладок в одного диалога<br /><br />Подходит при наличии слишком много вкладок для одной строки (используйте метод альтернативное расположение)<br /><br />Не расширяемый |  
| Боковая панель навигации | Простой устройство переключения, способное дополнительные категории, чем вкладок<br /><br />Плоский список категорий (без иерархии)<br /><br />Расширяемый<br /><br />Пример: **настроить... &gt; Добавление команды** | Не рекомендуется использовать горизонтальный интервал, если менее чем из трех групп<br /><br />Задача может быть лучше подходит для раскрывающегося списка |  
| Элемент управления "Дерево" | Разрешает неограниченное категорий<br /><br />Обеспечивает группирование или иерархия категорий<br /><br />Расширяемый<br /><br />Пример: **средства &gt; параметры** | Несколько уровней вложения иерархии может привести к чрезмерной горизонтальной полосы прокрутки<br /><br />В Visual Studio есть overabundance представления в виде дерева |  
| Мастер | Помогает обеспечивать завершения задачи по руководить пользователем на основе задач, последовательные действия: мастер представляет высокоуровневые задачи и подзадачи, которые необходимы для достижения общей задачи представляют отдельных панелей<br /><br />Полезно, когда задача пересекает границы пользовательского интерфейса, что когда пользователь иначе пришлось бы использовать несколько редакторов и средства windows для выполнения задачи<br /><br />Это удобно при потребуется ветвление<br /><br />Это удобно при задача содержит зависимости между шагами<br /><br />Это удобно при несколько других подобных задач с вилки решение могут быть представлены на одного диалога для уменьшения количества разных аналогичные диалоговых окон | Подходит для любой задачи, которая не требует последовательного рабочего процесса<br /><br />Пользователи могут стать подавлен замешательство и мастер с слишком много шагов<br /><br />Мастеры ограничены по своей природе площадь экрана |  
  
##### <a name="hallways-or-dashboards"></a>Стенах или панели мониторинга  
Стенах и панели мониторинга, диалоговые окна или панели, которые служат в качестве запуск указывает на другие диалоговые окна и окна. Хорошо спроектированный «кабинете» немедленно охватывают только наиболее распространенные параметры, команд и параметров, чтобы пользователи могли легко выполнять стандартные задачи. Как коридоре реальных предоставляет doorways для доступа к комнат за ними, здесь пользовательский Интерфейс менее типичных собраны в отдельной «комнаты» (часто другие диалоговые окна) связанных функциональных возможностей, которые можно получить доступ из главной кабинете.  
  
Кроме того пользовательский Интерфейс, который предоставляет все доступные возможности в одной коллекции, а не рефакторинг менее типичных функциональные возможности в различных местах — просто информационной панели.  
  
![Понятие коридора для предоставления дополнительный пользовательский Интерфейс в Outlook](../../extensibility/ux-guidelines/media/0704-08_hallway.png "0704 08_Hallway")<br />Понятие коридора для предоставления дополнительный пользовательский Интерфейс в Outlook
  
##### <a name="adaptive-ui"></a>Адаптивная пользовательского интерфейса  
Отображение или скрытие пользовательского интерфейса на основе использования или самостоятельно обнаруженную взаимодействие пользователя является другим способом представления необходимые пользовательского интерфейса, скрывая других частей. Это не рекомендуется в Visual Studio, как алгоритмы для решения, когда для отображения или скрытия пользовательского интерфейса может быть непростой задачей, а правила всегда могут оказаться некорректными для некоторого набора вариантов.  
  
##  <a name="BKMK_Projects"></a> Проекты  
  
### <a name="projects-in-the-solution-explorer"></a>Проекты в обозревателе решений  
Большинство проектов классифицируются как основано на ссылке, directory или смешанных. Все три типа проектов поддерживаются одновременно в обозревателе решений. Корень взаимодействие с пользователем в работе с проектами выполняется внутри этого окна. Несмотря на то, что другой проект узлы являются ссылку, каталог или смешанных типов проектов, имеется общий шаблон взаимодействия, следует применять в качестве отправной точки до расходятся в шаблоны пользователя для конкретного проекта.  
  
Проекты следует всегда:  
  
-   Поддерживает возможность добавления папок проекта, чтобы упорядочить содержимое проекта  
  
-   Поддерживать согласованную модель для долговременного хранения проекта  
  
Проекты также должен поддерживать моделей согласованного взаимодействия для:  
  
-   Удаление элементов проекта  
  
-   Сохранение документов  
  
-   Редактирование свойств проекта  
  
-   Изменения в альтернативное представление проекта  
  
-   Операции перетаскивания и вставки  
  
### <a name="drag-and-drop-interaction-model"></a>Модель взаимодействия и перетащите  
Обычно проекты классифицировать себя как ссылок (возможность сохраняются только ссылки на элементы проекта в хранилище), (возможность сохранения только элементы проекта физически хранятся в иерархии проекта), на основе каталогов или смешанный (возможность сохранения ссылок на или физических элементов). Интегрированная среда разработки включает все три типа проектов одновременно в **обозревателе решений**.  
  
С точки зрения и перетащите следующие характеристики относятся к каждого типа проекта в пределах **обозревателе решений**:  
  
-   **Проект на основе ссылок:** суть в том, что проект перетаскивает вокруг ссылку на элемент в хранилище. Когда проекта на основе ссылки выступает в качестве источника для операции перемещения, следует удалить только ссылку на элемент из проекта. Элемент, не фактически удаляется в с жесткого диска. Если проекта на основе ссылки действует как целевой для операции (копирования или перемещения), его следует добавить ссылку на исходный элемент источника без создания копии закрытого элемента.  
  
-   **Проекта на основе каталога:** с точки зрения и перетащите проекта перетаскивает вокруг физических элементов, а не ссылка. Если проекта на основе каталог выступает в качестве источника для операции перемещения, должен оканчиваться копирование физического удалением данных с жесткого диска, а также для его удаления из проекта. Во время проекта на основе каталога действует как целевой для операции (копирования или перемещения), ее следует создавать копии исходного элемента в целевом расположении.  
  
-   **Смешанный целевой проект:** с точки зрения и перетащите поведение данного типа проекта зависит от характера перетаскиваемый (ссылка на элемент в хранилище) либо сам элемент элемент. Правильное поведение ссылок и физических элементов, описанных выше.  
  
При наличии только одного типа проекта в **обозревателе решений**, то операции перетаскивания и вставки будет простым. Так как каждый проект системе возможность определения свое поведение, и перетащите, чтобы обеспечить предсказуемое взаимодействие с пользователем должны идти определенным правилам (на основе проводник Windows и перетащите режима):  
  
-   Без изменений, операции перетаскивания **обозревателе решений** (когда Ctrl ни клавиши Shift удерживаются), приводить к операции перемещения.  
  
-   Удерживая нажатой клавишу SHIFT операции также должны появиться операции перемещения.  
  
-   Операции перетаскивания CTRL должны появиться в ходе операции копирования.  
  
-   Ссылки и смешанных проекта системы поддерживают понятие Добавление ссылки (или ссылка) с исходным элементом. Если эти проекты, целевой объект операции перетаскивания и вставки (при **Ctrl + Shift** удерживается), необходимо привести ссылку на элемент, добавляемый в проект  
  
Не все операции перетаскивания и вставки являются удобные для сочетания Справочник на основе directory проектов и смешанного. В частности довольно трудно представьте разрешить операции перемещения между исходный каталог проекта и целевой ссылок проекта, так как в проект исходного каталога будет необходимо удалить исходный элемент после завершения перемещения. Затем со ссылкой на удаленный элемент попадет в целевой проект для ссылки.  
  
Кроме того, он вводит в заблуждение, представьте разрешить операции копирования между этими типами проектов, так как в целевой проект для ссылки не следует вносить независимая копия исходного элемента. Аналогичным образом сочетание клавиш Ctrl + Shift, перетаскивая на основе directory целевой проект не разрешен, так как невозможно сохранить ссылки проекта на основе каталога. В случаях, когда операции перетаскивания и вставки не поддерживается интегрированной среды разработки необходимо запретить раскрывающегося и показать пользователю запрет перетаскивания курсора (показаны в следующей таблице указатель).  
  
Для правильной реализации поведения перетаскивания и вставки, исходный проект перетаскивания необходимо взаимодействовать своей природе в целевой проект. (Например, это основанных на ссылку или каталог?) Эта информация указывает формат буфера обмена, предоставляемая источником. Источник перетаскивания (или операции копирования в буфер обмена) проект должен предлагать либо `CF_VSREFPROJECTITEMS` или `CF_VSSTGPROJECTITEMS` соответственно, в зависимости от того проекта ссылку или каталог. Эти форматы имеют одинаковое содержимое данных, аналогичный Windows `CF_HDROP` формата, за исключением того, являются списков строк, а не имена файлов, double -`NULL` завершен список `Projref` строки (возвращенный `IVsSolution::GetProjrefOfItem`или `::GetProjrefOfProject` соответствующим образом).  
  
Как целевой drop (или операции вставки в буфер обмена), проект следует принять `CF_VSREFPROJECTITEMS` и `CF_VSSTGPROJECTITEMS`, хотя точное обработки операции перетаскивания и вставки изменяется в зависимости от характера проекта целевой и исходный проект. Исходный проект объявляет сути, является ли он обеспечивает `CF_VSREFPROJECTITEMS` или `CF_VSSTGPROJECTITEMS`. Целевого объекта перетаскивания понимает собственный характер и таким образом, имеет достаточно информации, чтобы обеспечить принятие решений о качестве ли перемещения, копирования, или ссылку необходимо выполнить. Пользователь также изменяет какие операции перетаскивания и вставки должны выполняться, нажав клавишу Ctrl, Shift, или как клавиши Ctrl и Shift. Очень важно для вставки, чтобы правильно указать, какая операция выполняется в заранее его `DragEnter` и `DragOver` методы. **Обозревателе решений** автоматически знает, являются ли одного проекта в проект исходного и целевого проекта.  
  
Перетащите элементы проекта через экземпляры Visual Studio (например, из одного экземпляра в другой devenv.exe) не поддерживается. **Обозревателе решений** отключает это также напрямую.  
  
Пользователь всегда должен иметь возможность определить результат операции перетаскивания и вставки при выборе элемента, перетащив его в целевое расположение и контролирует, какие из следующих указатели мыши появляется перед удалением элемента:  
  
| Указатель мыши | Команда | Описание |  
| :---: | --- | --- |  
| ![Значок мыши «не бросать»](../../extensibility/ux-guidelines/media/0706-01_mousenodrop.png "0706 01_MouseNoDrop") | Не бросать | Не удалось удалить элемент в указанное расположение. |  
| ![Значок мыши «Копировать»](../../extensibility/ux-guidelines/media/0706-02_mousecopy.png "0706 02_MouseCopy") | Копировать | Элемент будет скопирован в целевое расположение. |  
| ![Мыши «переместить» значок](../../extensibility/ux-guidelines/media/0706-03_mousemove.png "0706 03_MouseMove") | Перемещение | Элемент перемещается в целевое расположение. |  
| ![Значок «Добавить ссылку» мыши](../../extensibility/ux-guidelines/media/0706-04_mouseaddref.png "0706 04_MouseAddRef") | Добавление ссылки | Ссылку на выбранный элемент будет добавлен в целевое расположение. |

#### <a name="reference-based-projects"></a>ссылки проектов  
 В следующей таблице перечислены операции перетаскивания и вставки (а также вырезания, копирования и вставки), которые следует выполнять в зависимости от характера ключи исходного элемента и модификатор нажаты для целей на основе ссылки на проекты:  
  
| Модификатор | Категория | Исходный элемент:-ссылка | Исходный элемент: физической системе элемент или файл (`CF_HDROP`) |  
| --- | --- | --- | --- |  
| Модификатор | Действие | Перемещение | Ссылка |  
| Модификатор | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |  
| Модификатор | Исходный код | Удаляет ссылку на исходный элемент | Сохраняет исходный элемент |  
| Модификатор | Результат | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |  
| Shift + перетаскивание | Действие | Перемещение | Не бросать |  
| Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Не бросать |  
| Shift + перетаскивание | Исходный код | Удаляет ссылку на исходный элемент | Не бросать |  
| Shift + перетаскивание | Результат | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | Не бросать |  
| CTRL + перетаскивание | Действие | Копировать | Не бросать |  
| CTRL + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Не бросать |  
| CTRL + перетаскивание | Исходный код | Сохраняет ссылку на исходный элемент | Не бросать |  
| CTRL + перетаскивание | Результат | `DROPEFFECT_COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | Не бросать |  
| Ctrl + Shift + перетаскивание | Действие | Ссылка | Ссылка |  
| Ctrl + Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |  
| Ctrl + Shift + перетаскивание | Исходный код | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |  
| Ctrl + Shift + перетаскивание | Результат | `DROPEFFECT_LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |  
| Ctrl + Shift + перетаскивание | Бумага для заметок | То же, как и перетащите поведение для сочетания клавиш в проводнике Windows. ||  
| Вырезания и вставки | Действие | Перемещение | Ссылка |  
| Вырезания и вставки | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |  
| Вырезания и вставки | Исходный код | Сохраняет ссылку на исходный элемент|Сохраняет исходный элемент |  
| Вырезания и вставки | Результат | Элемент остается в исходном расположении в хранилище | Элемент остается в исходном расположении в хранилище |  
| Копирование и вставка | Действие | Копировать | Ссылка |  
| Копирование и вставка | Исходный код | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент |  
| Копирование и вставка | Результат | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |  
| Копирование и вставка | Действие | Элемент остается в исходном расположении в хранилище | Элемент остается в исходном расположении в хранилище |  
  
#### <a name="directory-based-projects"></a>Каталог-проектов  
В следующей таблице перечислены операции перетаскивания и вставки (а также вырезания, копирования и вставки), которые следует выполнять в зависимости от характера нажаты для проектов на основе directory целевой ключи элементов и модификатор источника:  
  
| Модификатор | Категория | Исходный элемент:-ссылка | Исходный элемент: физической системе элемент или файл (`CF_HDROP`) |  
| --- | --- | --- | --- |  
| Модификатор | Действие | Перемещение | Перемещение |  
| Модификатор | целевого объекта | Копирует элемент в целевое расположение | Копирует элемент в целевое расположение |  
| Модификатор | Исходный код | Удаляет ссылку на исходный элемент | Удаляет ссылку на исходный элемент | | Модификатор | Результат | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |  
| Shift + перетаскивание | Действие | Перемещение | Перемещение |  
| Shift + перетаскивание | целевого объекта | Копирует элемент в целевое расположение | Копирует элемент в целевое расположение |  
| Shift + перетаскивание | Исходный код | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного местоположения |
| Shift + перетаскивание | Результат | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |  
| CTRL + перетаскивание | Действие | Копировать | Копировать |  
| CTRL + перетаскивание | целевого объекта | Копирует элемент в целевое расположение | Копирует элемент в целевое расположение |  
| CTRL + перетаскивание | Исходный код | Сохраняет ссылку на исходный элемент | Сохраняет ссылку на исходный элемент |  
| CTRL + перетаскивание | Результат | `DROPEFFECT_COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |  
| Ctrl + Shift + перетаскивание | | Не бросать | Не бросать |  
| Вырезания и вставки | Действие | Перемещение | Перемещение |  
| Вырезания и вставки | целевого объекта | Копирует элемент в целевое расположение | Копирует элемент в целевое расположение |  
| Вырезания и вставки | Исходный код | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного местоположения |  
| Вырезания и вставки | Результат | Элемент остается в исходном расположении в хранилище | Элемент удаляется из исходного расположения в хранилище |  
| Копирование и вставка | Действие | Копировать | Копировать |  
| Копирование и вставка | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент в целевое расположение |  
| Копирование и вставка | Исходный код | Сохраняет исходный элемент | Сохраняет исходный элемент |  
| Копирование и вставка | Результат | Элемент остается в исходном расположении в хранилище | Элемент остается в исходное расположение модулей хранилища |
  
#### <a name="mixed-target-projects"></a>Смешанный целевой проектов  
В следующей таблице перечислены операции перетаскивания и вставки (а также вырезания, копирования и вставки), которые следует выполнять в зависимости от характера нажаты для проектов смешанный целевой ключи элементов и модификатор источника:  
  
| Модификатор | Категория | Исходный элемент:-ссылка | Исходный элемент: физической системе элемент или файл (`CF_HDROP`) |  
| --- | --- | --- | --- |
| Модификатор | Действие | Перемещение | Перемещение |
| Модификатор | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент в целевое расположение |
| Модификатор | Исходный код | Удаляет ссылку на исходный элемент | Удаляет ссылку на исходный элемент |
| Модификатор | Результат | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и удалить элемент из исходного местоположения в хранилище |
| Shift + перетаскивание | Действие | Перемещение | Перемещение |
| Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент в целевое расположение |
| Shift + перетаскивание | Исходный код | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного местоположения | 
| Shift + перетаскивание | Результат | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ MOVE` возвращается в виде действия из `::Drop` и удалить элемент из исходного местоположения в хранилище |
| CTRL + перетаскивание | Действие | Копировать | Копировать |
| CTRL + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент в целевое расположение |
| CTRL + перетаскивание | Исходный код | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |
| CTRL + перетаскивание | Результат | `DROPEFFECT_ COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ COPY` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| Ctrl + Shift + перетаскивание | Действие | Ссылка | Ссылка |
| Ctrl + Shift + перетаскивание | целевого объекта | Добавляет ссылку на исходный элемент | Добавляет ссылку на исходный элемент источника |
| Ctrl + Shift + перетаскивание | Исходный код | Сохраняет ссылку на исходный элемент | Сохраняет исходный элемент |
| Ctrl + Shift + перетаскивание | Результат | `DROPEFFECT_ LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище | `DROPEFFECT_ LINK` возвращается в виде действия из `::Drop` и элемент остается в исходном расположении в хранилище |
| Вырезания и вставки | Действие | Перемещение | Перемещение |
| Вырезания и вставки | целевого объекта | Копирует элемент в целевое расположение | Копирует элемент в целевое расположение |
| Вырезания и вставки | Исходный код | Удаляет ссылку на исходный элемент | Удаляет элемент из исходного местоположения |
| Вырезания и вставки | Результат | Элемент остается в исходном расположении в хранилище | Элемент удаляется из исходного расположения в хранилище |
| Копирование и вставка | Действие | Копировать | Копировать |
| Копирование и вставка | целевого объекта | Добавляет ссылку на исходный элемент | Копирует элемент в целевое расположение |
| Копирование и вставка | Исходный код | Сохраняет исходный элемент | Сохраняет исходный элемент |
| Копирование и вставка | Результат | Элемент остается в исходном расположении в хранилище | Элемент остается в исходном расположении в хранилище |
  
Эти сведения следует учитывать при реализации перетаскивания **обозревателе решений**:  
  
-   Разработка для нескольких сценариев выбора.  
  
-   Имена файлов (полный путь) должно быть уникальным для целевого проекта или удаления должен быть запрещен.  
  
-   Имена папок должны быть уникальными (без учета регистра) на уровне, они удалены.  
  
-   Существуют различия в поведении между файлами, которые являются открытыми и закрытыми во время перетаскивания (которая не упоминается в сценариях выше).  
  
-   Файлы верхнего уровня ведут себя несколько иначе, чем файлы в папках.  
  
Другие проблемы, которые следует учитывать является способ обработки операций перемещения для элементов, имеющих открытые конструкторы и редакторы. Ожидаемым поведением является (это относится ко всем типам проектов) следующим образом:  
  
1.  Если открыть редактор или конструктор имеет все несохраненные изменения, затем окна редактора или конструктора должен быть автоматически закрыт.  
  
2.  Если открыть редактор или конструктор имеет несохраненные изменения, источник перетаскивания должна ожидать для удаления, а затем попросите пользователя, чтобы сохранить незафиксированные изменения в открытых документов перед закрытием окна с приглашением, аналогично приведенным ниже :  
  
    ```  
    ==========================================================   
         One or more open documents have unsaved changes.  
    Do you want to save uncommitted changes before proceeding?   
                      [Yes]  [No]  [Cancel]   
    ==========================================================  
    ```  
  
Это дает пользователю возможность сохранить работы, выполняемой перед целевой сделает свои копии. Новый метод `IVsHierarchyDropDataSource2::OnBeforeDropNotify` будет добавлен этот обработки.  
  
Целевой объект будет копировать состояние элемента, как в хранилище (не включая несохраненные изменения в редакторе, если пользователь решает **нет**). После завершения копирования его целевой объект (в `IVsHierarchyDropDataSource::Drop`), источник рассматривает возможность для завершения удаления части операции перемещения (в `IVsHierarchyDropDataSource::OnDropNotify`).  
  
Редакторы, все несохраненные изменения должны оставаться открытым. Эти документы с несохраненными изменениями это означает часть операции перемещения, копирования будет выполняться, но удалить часть будет прервана. В нескольких сценарии выбора, когда пользователь выбирает **нет**, эти документы с несохраненными изменениями не следует закрыт или удален, но их нет несохраненных изменений следует закрыть и удалить.
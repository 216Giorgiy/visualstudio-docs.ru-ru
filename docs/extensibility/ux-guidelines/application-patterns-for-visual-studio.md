---
title: "Шаблоны приложений для Visual Studio | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8ed68602-4e28-46fe-b39f-f41979b308a2
caps.latest.revision: 7
ms.author: gregvanl
manager: ghogen
translation.priority.mt:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 5db97d19b1b823388a465bba15d057b30ff0b3ce
ms.openlocfilehash: 83b586273dcc60f56ad81fd451adce7860df4033
ms.lasthandoff: 02/22/2017

---
# <a name="application-patterns-for-visual-studio"></a>Шаблоны приложений для Visual Studio
##  <a name="a-namebkmkwindowinteractionsa-window-interactions"></a><a name="BKMK_WindowInteractions"></a>Окно взаимодействия  
  
### <a name="overview"></a>Обзор  
 Два главное окно типы, используемые в Visual Studio, редакторы документа и окна инструментов. Редко, но возможно, являются большие немодальные диалоговые окна. Несмотря на то, что они все немодальное в оболочке, их шаблоны существенно отличаются. В этом разделе описываются различия между окнами документов, окон инструментов и немодальные диалоговые окна. Шаблоны модального диалогового окна, описаны в [диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_Dialogs).  
  
### <a name="comparing-window-usage-patterns"></a>Сравнение шаблонов использования окна  
 **Окна документов** также почти всегда отображаются в документе. Это дает редактор документа «center рабочей области» для расположения окон дополнительное средство решения.  
  
 Объект **окно инструментов** наиболее часто отображается как свернутая окно меньшего размера, что может быть видимым, скрытым или автоматически скрываемым — по краю интегрированной среды разработки. Тем не менее, иногда они перечислены в документе также, отключив **окна и закрепления** свойство в окне. Это приводит к более недвижимости, но также общий Проектное решение: при попытке интегрируются в Visual Studio, необходимо решить, должен ли функция отображать окно инструментов или в окне документа.  
  
 **Немодальные диалоговые окна** не рекомендуется в Visual Studio. В значительной степени они по определению — плавающих окнах инструментов и должен быть реализован таким образом. В случаях, где размер обычного закрепленное окно на сторону оболочки может оказаться слишком ограничивающим допускаются немодальное диалоговое окно. Они также могут в случаях, когда пользователь будет скорее всего переместить диалогового окна на втором мониторе.  
  
 Думаю, тщательно о какой тип контейнера необходимо. Общие вопросы об использовании шаблона для разработки пользовательского интерфейса, в следующей таблице.  
  
||Окно документа|Окно инструментов|Немодальное диалоговое окно|  
|-|---------------------|-----------------|---------------------|  
|**Положение**|Всегда размещается в документе также и не закрепление вокруг краев интегрированной среды разработки. Он может быть «извлекаются из» таким образом, чтобы он перемещается отдельно от основной оболочке.|Обычно соответствии вокруг краев IDE, но может быть настраиваемые следует, автоматическое скрытие (отменено) или также закреплен внутри документа.|Большие окна отдельно от интегрированной среды разработки.|  
|**Зафиксировать модели**|*Задержки фиксации транзакций*<br /><br /> Для сохранения данных в документе, пользователь должен выполнить команду файл, сохранить как или сохранить все. Окно документа использует концепцию данных внутри него «измененных» затем committed одно сохранения команды. При закрытии окна документа, все содержимое на жестком диске или потере.|*Немедленное фиксации*<br /><br /> Нет без сохранения модели. Для окон инструментов инспектор, помогающие редактирования файла файл должен быть открыт в активном редакторе или конструкторе и редактор или конструктор, которому принадлежит сохранения.|*Отложенный или немедленный фиксации*<br /><br /> Чаще всего больших немодальное диалоговое окно требует действий для фиксации изменений и позволяет операцию «Отмена», которая отменяет любые изменения, внесенные в рамках сеанса диалогового окна.  Это отличает немодального диалогового окна из окна инструментов в том, что средство windows всегда имеет модели немедленного фиксации.|  
|**Видимость**|*Открыть или создать (файл) и закрыть*<br /><br /> Открытие окна документов осуществляется с помощью открытия существующего документа или с помощью шаблона для создания нового документа. Существует не «открыть \<специальный редактор настроек «команда.|*Скрытие и отображение*<br /><br /> Можно скрывать или показано одного экземпляра средства windows. Содержимое и состояния в окне средства сохраняются ли в представлении или скрыт. Окна инструментов несколькими экземплярами можно закрытия также как скрытые. При закрытии окна средства несколькими экземплярами содержимого и состояния в окне средства отбрасывается.|*Запускается с помощью команды*<br /><br /> Диалоговые окна, запущенных из команд на основе задач.|  
|**Экземпляры**|*Нескольких экземпляров*<br /><br /> Несколько редакторов можно открыть одновременно и редактирования различных файлов, хотя в некоторых редакторах также предоставлять тот же файл, необходимо открыть в более чем одного редактора (с помощью **окна настроек новое окно** команду).<br /><br /> Один редактор изменение одного или нескольких файлов одновременно (конструктор проектов).|*Одним или несколькими instance*<br /><br /> Содержимое изменяется для отражения контекста (как в обозревателе свойств) или отправки фокус или контекста в другие окна (список задач, обозреватель решений).<br /><br /> Если нет особой причины для, экземпляр одного и нескольких экземпляров средства windows должен быть связан с окно активного документа.|*Один экземпляр*|  
|**Примеры**|**Текстовые редакторы**, например редактор кода<br /><br /> **Рабочие области конструирования**, такие как конструктор форм или область моделирования<br /><br /> **Макеты аналогично диалоговые окна управления**, такие как конструктор манифеста|**Обозревателе решений** предоставляет решения и проектов внутри решения<br /><br /> **Обозревателя серверов** обеспечивает иерархическое представление подключений серверов и данных, которые пользователь предпочтет открыть в окне. Открытие объекта из базы данных иерархии, например запрос, открывается окно документа и позволяет пользователю изменить запрос.<br /><br /> **Обозреватель свойств** отображает свойства для объекта, выбранного в окне документа или другое окно инструментов. Свойства представлены в представлении иерархической сетки или в сложных элементах управления диалогового окна в стиле и разрешить пользователю задать значения этих свойств.||  
  
##  <a name="a-namebkmktoolwindowsa-tool-windows"></a><a name="BKMK_ToolWindows"></a>Окна инструментов  
  
### <a name="overview"></a>Обзор  
 Средство windows поддерживают работу пользователя, что происходит в окнах документов. Они могут использоваться для отображения иерархию, которая представляет собой фундаментальные корневой объект, который предоставляет Visual Studio и можно управлять.  
  
 При рассмотрении окно инструментов в Интегрированной среде разработки, авторы сделайте следующее:  
  
-   Используйте соответствующие задачи существующими окнами инструментов и не создавать новые теми же функциональными возможностями. Новые средства windows должны быть созданы только в том случае, если они предлагают значительно отличаются «средства» или функции, не может быть интегрирован в окно, аналогичное следующему или отключая существующее окно сведение концентратору.  
  
-   Использование панели стандартных команд, при необходимости, в верхней части окна средства.  
  
-   Быть согласованы с шаблонами, уже присутствует в других окнах инструментов для управления навигации клавиатуры и презентации.  
  
-   Соответствовать представления элемента управления в других окнах инструментов.  
  
-   Окна инструментов конкретного документа должны отобразиться auto-по возможности, чтобы они отображались только при активации родительский документ.  
  
-   Убедитесь, что их содержимое окна навигации с помощью клавиатуры (поддержка клавиши со стрелками).  
  
#### <a name="tool-window-states"></a>Состояния окна инструментов  
 Visual Studio средство windows имеют различные состояния, некоторые из них пользователь активирован (например, функция автоматического скрытия). Другие состояния, такие как автоматическое видимой, разрешить окон инструментов, отображаются в правильном контексте и скрывать, если не требуется. Существует пять состояния окна инструментов в целом.  
  
-   **Закрепить закреплен** окна инструментов можно прикрепить к любой из четырех сторон области документа. Появляется значок канцелярской кнопки в заголовке окна средства. Окно инструментов можно закрепить горизонтально или вертикально вдоль края оболочки и другими окнами инструментов и также может быть связан вкладку.  
  
-   **Автоматическое скрытие** Незакрепленным окон инструментов. Окна можно сдвинуть сворачивается, оставляя tab (имя окна инструментов и значка) на границе области документа. Окно инструментов появится выпадающий при наведении на вкладке.  
  
-   **Отображается автоматически** средство windows автоматически запускался при другой части интерфейса, такие как редактор, запускается или потере фокуса.  
  
-   **С плавающей запятой** окна инструментов при наведении вне интегрированной среды разработки. Это полезно для конфигураций с несколькими мониторами.  
  
-   **Документ с вкладками** окон инструментов можно также закрепить в документе. Это полезно для больших средство windows, например обозревателе объектов, для которых требуются дополнительные недвижимости, чем позволяет среда закрепление по границам окна.  
  
 ![Состояния окна в Visual Studio инструментов](../../extensibility/ux-guidelines/media/0702-01_toolwindowstates.png "0702&01;_ToolWindowStates")  
  
 **Состояния окна инструментов в Visual Studio**  
  
#### <a name="single-instance-and-multi-instance"></a>Одним и несколькими экземплярами  
 Средство windows — одного экземпляра или нескольких экземпляров. Некоторые окна инструментов экземпляра могут быть связаны с окно активного документа при нескольких экземпляров средства windows не может. Окна инструментов несколькими экземплярами отвечает на команду окно и создать окно, создав новый экземпляр окна. На следующем рисунке показано окно инструментов, Включение команды новое окно при активном экземпляр окна:  
  
 ![Окно инструментов, разрешающее команды в Visual Studio](../../extensibility/ux-guidelines/media/0702-02_toolwindowenablingcommand.png "0702&02;_ToolWindowEnablingCommand")  
  
 **Окно инструментов, разрешающее команду «Новое окно» при активном экземпляра окна**  
  
 Можно скрывать или показано хотя многоэкземплярного окна инструментов можно закрыты, а также скрытые одного экземпляра средства windows. Все окна инструментов можно закрепить, связанном с плавающей запятой и установлен в качестве дочернего окна многодокументного интерфейса (MDI) (как окно документа). Все окна инструментов следует реагировать на команды управления соответствующее окно, в меню «окно».  
  
 ![Команды управления окнами в Visual Studio](../../extensibility/ux-guidelines/media/0702-03_windowmanagementcontrols.png "0702&03;_WindowManagementControls")  
  
 **Команды управления окнами в меню Visual Studio окно**  
  
#### <a name="document-specific-tool-windows"></a>Окна инструментов конкретного документа  
 Некоторые окна инструментов предназначены для изменяться в зависимости от заданного типа документа. Эти окна постоянно обновлять для отражения функций, применимые в окно активного документа в Интегрированной среде разработки.  
  
 Окна инструментов, содержимое которого изменяются в соответствии с выбранном редакторе приведены панели элементов и структура документа. Эти окна отображают водяного знака после фокус, не позволяющем контекст в окно редактора.  
  
#### <a name="navigable-list-tool-windows"></a>Перемещаемый список окон инструментов  
 Некоторые окна инструментов отображает элементы перехода, которые пользователь может взаимодействовать с. В этот тип окна должен всегда находиться отзывы для текущего элемента в списке, даже если окно неактивно. Список должен отвечать на **GoToNextLocation** и **GoToPrevLocation** команды, изменив текущего выделенного элемента в окне  
  
 К перемещаемым список окон инструментов относятся обозреватель решений и окно результатов поиска.  
  
### <a name="tool-window-types"></a>Типы окон инструментов  
  
#### <a name="common-tool-windows-and-their-functions"></a>Общие окна инструментов и их функции  
  
|Тип|Окно инструментов|Функция|  
|----------|-----------------|--------------|  
|**Иерархия**|обозреватель решений|Иерархическое дерево, которое отображает список документов, содержащихся в проекты, элементы решения и прочие файлы. Отображение элементов в проектах определяется пакета, которому принадлежит тип проекта (например, типы ссылок, на основе каталогов или смешанном режиме).|  
|**Иерархия**|Представление классов|Иерархическое дерево, классов и различные элементы в рабочем наборе документов, независимо от сами файлы.|  
|**Иерархия**|обозревателя серверов|Иерархическое дерево, которое отображает все подключения серверов и данных в решении.|  
|**Иерархия**|Структура документа|Иерархическую структуру активного документа.|  
|**Сетка**|Свойства|Таблице, которая отображает список свойств для выбранного объекта, вместе с выбора значения для изменения этих свойств.|  
|**Сетка**|список задач|Сетка, позволяет пользователю создание, изменение и удаление задач и комментарии.|  
|**Содержимое**|Справка|Окно, которое позволяет пользователям доступа к различным методам Получение справки из «Практические советы» видео на форумах MSDN.|  
|**Содержимое**|Динамическая справка|Ссылки на разделы, применимые к текущему выделению справки отображаются в окне инструментов.|  
|**Содержимое**|Обозреватель объектов|Набор рамок двух столбцов со списком компонентов иерархических объектов в левой панели и объект, свойства и методы в правом столбце.|  
|**Диалоговое окно**|Найти, расширенный поиск|Диалоговое окно, позволяющее пользователю поиск или поиск и замена в различных файлов в решении.|  
|**Другое**|Панель элементов|Окно инструментов, используемый для хранения элементов, которые будут удалены на поверхности разработки, обеспечивая согласованность источника перетаскивания для всех конструкторов.|  
|**Другое**|Начальная страница|Пользовательский портал в Visual Studio с доступом к веб-каналы новостей разработчиков, Справка по Visual Studio и последние проекты. Пользователи также могут создавать пользовательские начальные страницы путем копирования файла StartPage.xaml с каталог файлов программы Visual Studio «Common7\IDE\StartPages\» в папку StartPages в каталоге Visual Studio документов и редактирование XAML вручную или открыв его в Visual Studio или другой код редактора.|  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Видимые||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Интерпретация||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Вывод|В окне вывода можно использовать всякий раз, когда у вас есть текстовое события или состояния для объявления.|  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Память||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Точки останова||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Работает||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Документы||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Стек вызовов||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Локальные||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Контрольные значения||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Дизассемблированный код||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Регистры||  
|**Отладчик:** группы windows, относящиеся к задачам отладки и отслеживания действий|Потоки||  
  
##  <a name="a-namebkmkdocumenteditorconventionsa-document-editor-conventions"></a><a name="BKMK_DocumentEditorConventions"></a>Условные обозначения редактора  
  
### <a name="document-interactions"></a>Документ взаимодействия  
 «Документ также» является наибольшее пространство в Интегрированной среде разработки и где пользователь обычно основное внимание их внимания для выполнения своих задач при дополнительные средства windows. Редакторы документа представляют базовые единицы работы, пользователь открывает и сохраняет в среде Visual Studio. Они сохраняют строгой выбора привязаны в обозревателе решений или другие окна активной иерархии. Пользователь должен иметь возможность наведите указатель на один из этих окон иерархии и знать, где находится документ и его связь решение, проект или другой корневой объект, предоставленный пакетом Visual Studio.  
  
 Редактирование документов требует согласованную среду работы. Чтобы разрешить пользователю сосредоточиться на поставленной задачи вместо на управление окнами и поиск команд, выберите стратегию представление документа, которая лучше всего соответствует задачи пользователя для редактирования этого типа документов.  
  
#### <a name="common-interactions-for-the-document-well"></a>Общие взаимодействия для хорошо документа  
  
-   Поддерживать согласованное взаимодействие модели обычно **новый файл** и **открыть файл** опыт.  
  
-   Обновление связанной функциональности, связанных окон и меню в окне документа.  
  
-   Команды меню, соответствующим образом интегрированы в типичных меню например **изменить**, **формат**, и **представление** меню. Если значительное специальные команды, затем новое меню могут создаваться которой отображается только в том случае, если документ имеет фокус.  
  
-   Встроенной панели инструментов могут быть помещены в верхней части редактора. Это предпочтительнее, чем наличие отдельной панели инструментов, который отображается вне редактора.  
  
-   Всегда поддерживать выбор в обозревателе решений или аналогичный активные окна "Иерархия".  
  
-   Дважды щелкните документ в обозревателе решений следует выполнять те же действия, что **откройте**.  
  
-   Если в типе документа может использоваться более одного редактора, пользователя следует переопределить или сбрасывать действия по умолчанию для типа данного документа с использованием **открыть с помощью** диалоговое окно, щелкните правой кнопкой мыши файл и выбрав **открыть с помощью** в контекстном меню.  
  
-   Не создавайте также мастера в документе.  
  
### <a name="user-expectations-for-specific-document-types"></a>Ожиданиям пользователей для определенных типов документов  
 Существует несколько различных базовых типов редакторов документа и каждый имеет набор взаимодействия, которые согласованы с другими пользователями того же типа.  
  
-   **Текстовый редактор:** редактора кода, файлов журнала  
  
-   **Область конструктора:** WPF форм, конструктор Windows forms  
  
-   **Редактор стилей-диалоговое окно:** конструктор манифеста, свойства проекта  
  
-   **Конструктор моделей:** конструктора рабочих процессов, codemap, схемы архитектуры, продвижения  
  
 Существует несколько типов не редактора, также использовать документ. Хотя они не изменяйте сами документы, они должны следовать стандартных действий для окна документов.  
  
-   **Отчеты:** IntelliTrace отчет, Hyper-V, отчет профилировщика  
  
-   **Панель мониторинга:** концентратор диагностики  
  
#### <a name="text-based-editors"></a>Текстовые редакторы  
  
-   Документ может участвовать в модели вкладку предварительного просмотра, обеспечивающие Предварительный просмотр документа, не открывая его.  
  
-   Структура документа может быть представлен в окне инструментов помощник по поиску, например структуру документа.  
  
-   IntelliSense (если применимо) будет работают согласованно с другие редакторы кода.  
  
-   Всплывающие окна или специальных пользовательского интерфейса выполните аналогичные стили и шаблоны для существующих аналогичные элементов пользовательского интерфейса, например CodeLens.  
  
-   Сообщения о состоянии документа отображается в элементе управления информационной панели в верхней части документа или в строке состояния.  
  
-   Пользователь должен быть возможность настроить внешний вид шрифтов и цветов с помощью **средства настроек параметров** страницы на общей странице шрифты и цвета или определенную в редактор.  
  
#### <a name="design-surfaces"></a>Поверхности разработки  
  
-   Пустой конструктор должны иметь водяного знака в рабочей области, указывающее, как приступить к работе.  
  
-   Переключение представлений механизмы будет следовать существующие шаблоны, например дважды щелкните, чтобы открыть редактор кода или вкладок окна документа, позволяя взаимодействия с обеими областями.  
  
-   Добавление элементов в область конструктора следует сделать с помощью элементов, если окно подробного инструментов не требуется.  
  
-   Элементов в рабочей области будет следовать за согласованное выбора модели.  
  
-   Внедренные панели инструментов содержат команды конкретного документа только, как правило, не команды, такие как **Сохранить**.  
  
#### <a name="dialog-style-editors"></a>Редакторы стиле диалоговых окон  
  
-   Макет элемента управления необходимо соблюдать соглашения макет обычного диалогового окна.  
  
-   Внешний вид вкладок документов не должны совпадать с вкладками в редакторе, должны быть одного из двух стилей разрешенных внутренних вкладку.  
  
-   Пользователи должны иметь возможность взаимодействия с элементами управления, с помощью клавиатуры. либо путем активации редактора и переходов по элементам управления или с помощью стандартных назначенные клавиши.  
  
-   Конструктор должен использовать распространенные сохранить модель. Не общую сохранения или фиксации кнопки должны размещаться в рабочей области, несмотря на то, что другие кнопки может подойти.  
  
#### <a name="model-designers"></a>Конструкторы моделей  
  
-   Пустой конструктор должны иметь водяного знака в рабочей области, указывающее, как приступить к работе.  
  
-   Добавление элементов в область конструктора следует сделать с помощью панели элементов.  
  
-   Элементов в рабочей области будет следовать за согласованное выбора модели.  
  
-   Внедренные панели инструментов содержат команды конкретного документа только, как правило, не команды, такие как **Сохранить**.  
  
-   Условные обозначения может появиться в рабочей области, либо признаком или водяного знака.  
  
-   Пользователь должен быть возможность настроить внешний вид шрифтов и цветов, с помощью **средства настроек параметров** страницы на общей странице шрифты и цвета или определенную в редактор.  
  
#### <a name="reports"></a>Отчеты  
  
-   Отчеты обычно предназначены только для сведения и не участвуют в сохранить модель. Тем не менее они могут включать взаимодействия, например ссылки на другие необходимые сведения или разделы, которые можно разворачивать и сворачивать.  
  
-   Большинство команд в рабочей области должен быть гиперссылок, а не кнопки.  
  
-   Макет должен включать заголовок и следовать указаниям макет стандартного отчета.  
  
#### <a name="dashboards"></a>Панели мониторинга  
  
-   Панели мониторинга не сами модели взаимодействия, но служить в качестве средства предлагает множество других средств.  
  
-   Они не участвуют в сохранить модель.  
  
-   Пользователи должны иметь возможность взаимодействия с элементами управления, с помощью клавиатуры, редактор активации и переходов по элементам управления или с помощью стандартных назначенные клавиши.  
  
##  <a name="a-namebkmkdialogsa-dialogs"></a><a name="BKMK_Dialogs"></a>Диалоговые окна  
  
### <a name="introduction"></a>Вступление  
 Диалоговые окна в Visual Studio обычно должен поддерживать отдельные единицы работы пользователя и затем быть отброшено.  
  
 Если определены необходимые диалоговое окно, в порядке предпочтения имеется три возможности:  
  
1.  Интегрируйте функции в один из общих диалоговых окон в Visual Studio.  
  
2.  Создание собственного диалогового окна, с помощью шаблона в существующих аналогичном диалоговом окне.  
  
3.  Создайте новое диалоговое окно, следующем взаимодействия и рекомендации по макету.  
  
 Описывается, как выбрать правильный диалоговое окно шаблона рабочих процессов Visual Studio и общие соглашения для диалогового окна конструктора.  
  
### <a name="themes"></a>Темы  
 Диалоговые окна в Visual Studio выполните одно из двух основных стилей.  
  
#### <a name="standard-unthemed"></a>Standard (unthemed)  
 Большинство диалоговых окон, диалоговых окон Стандартная служебная программа и должен быть unthemed. Не не стандартные элементы управления re шаблон и попытаться создать стилизованные кнопок «современный» или элементов управления. Элементы управления и внешний вид chrome выполните [стандартные правила взаимодействия с рабочего стола Windows для диалоговых окон](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742499\(v=vs.85\).aspx).  
  
#### <a name="themed"></a>Тематические  
 Специальные диалоговые окна «подпись» может определить тему. Тематические диалоговые окна имеют особый внешний вид, который также содержит некоторые специальные взаимодействие шаблоны, связанные со стилем. Темы диалоговое окно только в том случае, если он отвечает следующим требованиям:  
  
-   Диалоговое окно является обычными средствами, будут видны и использоваться часто или несколькими пользователями (например, **новый проект** диалогового окна.  
  
-   Диалоговое окно содержит элементы фирменного стиля заметный продукта (например, **параметры учетной записи** диалогового окна).  
  
-   Появится диалоговое окно, как неотъемлемой частью большего поток, который включает другие тематические диалоговые окна (например, **добавить подключенную службу** диалогового окна).  
  
-   Диалоговое окно является важной частью взаимодействия, которое играет стратегическую роль в повышении или различение версии продукта.  
  
 При создании тематические диалогового окна, используйте цвета среды и выполните правильный макет и шаблоны взаимодействия. (См. [макета для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md))  
  
### <a name="dialog-design"></a>Диалоговое окно конструктора  
 Хорошо спроектированный диалоговые окна учитывать следующие элементы:  
  
-   Поддерживаются задачи пользователя  
  
-   Диалоговое окно Стиль текста, язык и терминология  
  
-   Выбор элемента управления и соглашения пользовательского интерфейса  
  
-   Выравнивание спецификации и управления визуальной компоновкой  
  
-   Доступ с клавиатуры  
  
#### <a name="content-organization"></a>Организация содержимого  
 Примите во внимание различия между эти основные типы диалоговых окон.  
  
-   [Простой диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_SimpleDialogs) представления элементов управления в одном модальное окно. Представление может включать варианты шаблонов сложного элемента управления, включая выбор полей или панели значков.  
  
-   [Многоуровневая диалоговые окна](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_LayeredDialogs) используются, чтобы наиболее реальный объем экрана при небольшой части пользовательского интерфейса состоит из нескольких групп элементов управления. Диалоговое окно группирования, «располагаются» через элементы управления вкладка, списки переходов или кнопки, чтобы пользователь мог выбрать группирование, см. в любой момент.  
  
-   [Мастеры](../../extensibility/ux-guidelines/application-patterns-for-visual-studio.md#BKMK_Wizards) полезны для перенаправления пользователя с помощью логической последовательности шагов до завершения задачи. В панели «последовательный», иногда введение в различных рабочих процессов («ветви») зависит от выбора, сделанного в предыдущем панели предлагается ряд вариантов.  
  
####  <a name="a-namebkmksimpledialogsa-simple-dialogs"></a><a name="BKMK_SimpleDialogs"></a>Простой диалоговых окон  
 Простое диалоговое окно является представления элементов управления в одном модальное окно. Данная презентация может включать варианты сложных шаблонов элементов управления, такие как выбор полей. Для простых диалогов выполните стандартные общего макета, а также любого конкретного макета, необходимые для группирования сложного элемента управления.  
  
 ![Простое диалоговое окно в Visual Studio](../../extensibility/ux-guidelines/media/0704-01_createstrongnamekey.png "0704&01;_CreateStrongNameKey")  
  
 **Создание ключа строгого имени приведен пример простого диалогового окна в Visual Studio.**  
  
####  <a name="a-namebkmklayereddialogsa-layered-dialogs"></a><a name="BKMK_LayeredDialogs"></a>Многоуровневый диалоговых окон  
 Многоуровневый диалоговые окна включают вкладки, панели мониторинга и внедренные деревьев. Они используются для повышения недвижимости, при наличии нескольких групп элементов, представленных в одну часть пользовательского интерфейса. Эти группы имеют многоуровневую структуру, чтобы пользователь мог выбрать группирование, см. в любой момент времени.  
  
 В самом простом случае механизм для переключения между группирования является набор вкладок. Существует несколько альтернативных вариантов. В разделе порядке использования адресов и расположение как выбрать наиболее подходящий стиль.  
  
 **Средства настроек параметров** диалоговое окно является примером многоуровневое диалоговое окно, с помощью дерева embedded:  
  
 ![Многоуровневое диалоговое окно в Visual Studio](../../extensibility/ux-guidelines/media/0704-02_toolsoptions.png "0704&02;_ToolsOptions")  
  
 **Средства настроек параметров является примером многоуровневое диалоговое окно в Visual Studio.**  
  
####  <a name="a-namebkmkwizardsa-wizards"></a><a name="BKMK_Wizards"></a>Мастера  
 Мастеры полезны для перенаправления пользователя с помощью логической последовательности действий в ходе выполнения задачи. Ряд вариантов, доступных в последовательных панелей и пользователю необходимо проделать каждый этап перед переходом к следующему. Как только станут доступны, достаточно значения по умолчанию **Готово** кнопка включена.  
  
 Модальные мастеры служат для выполнения задач:  
  
-   Содержит ветвления, где предлагаются различные пути в зависимости от выбора пользователя  
  
-   Содержит зависимости между шагами, где последовательность шагов зависит от входных данных пользователя из предыдущего действия  
  
-   Достаточно сложны, использования пользовательского интерфейса для объяснения возможностям, доступным и возможные результаты на каждом шаге  
  
-   Являются транзакционными, требуется набор шагов для завершения полностью, прежде чем любые изменения  
  
### <a name="common-conventions"></a>Общие соглашения  
 Для достижения оптимальной архитектуры и функциональности с свои диалоги, следуйте этим соглашениям на размер диалогового окна, позиции, стандартов, конфигурации управления и выравнивание, пользовательского интерфейса текст, заголовки окон, кнопок элемента управления и ключи доступа.  
  
 Макет определенных правил, в разделе [макета для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md).  
  
#### <a name="size"></a>Размер  
 Диалоговые окна должны быть размерам минимальное разрешение экрана 1024 x 768 и первоначальное размер не должен превышать 900 x 700 пикселов. Возможно, диалоговые окна регулируемого размера, но не является обязательным.  
  
 Существует два рекомендации для изменяемого размера диалоговых окон:  
  
1.  Что минимальный размер определяется в диалоговом окне, оптимизировать для набора элементов управления без усечения и подстраиваться с учетом этого роста разумного локализации.  
  
2.  Что пользователю масштабировать размер сохраняется между сеансами. Например если пользователь масштабирует диалоговое окно 150%, последующие запуска диалогового окна отображаются на 150%.  
  
#### <a name="position"></a>Положение  
 Диалоговые окна должны отображаться по центру в Интегрированной среде разработки при первом запуске. Для неизменяемый диалогов не необходимые что сохраняться последняя позиция в диалоговом окне, поэтому он будет отображаться по центру на последующие запуски. Для изменения размера диалогового окна размер должно быть сохранено на последующие запуски. Для изменения размера диалоговые окна являются модальными позиция необходимо сохранить. Отображение их по центру внутри среды IDE предотвращает возможность отображаются в позиции непредсказуемым и непригодным для использования при изменении конфигурации пользователя отображения диалогового окна. Для немодальные диалоговые окна, которые можно перемещать положение пользователя должен храниться на последующие запуски как диалоговое окно может часто использоваться как неотъемлемой частью большого рабочего процесса.  
  
 При диалоговых окон необходимо вызвать другие диалоговые окна, окно переднего плана следует каскад вправо и вниз от родительского элемента, чтобы это был очевидными для пользователя, к которому они Переход на новое место.  
  
#### <a name="modality"></a>Модальность  
 Модальным, означает, что пользователям необходимо завершить или отменить диалогового окна перед продолжением. Поскольку модальные диалоговые окна блокировать взаимодействие с другими частями среды пользователя, поток задач работы компонента следует использовать их максимально экономно. При необходимости модальные операции Visual Studio имеет ряд общих диалоговых окон, которые можно интегрировать функции в. Если необходимо создать новое диалоговое окно, соответствовать шаблону взаимодействия существующий диалог с аналогичные функциональные возможности.  
  
 Когда пользователи должны выполнить два действия за один раз, например **найти** и **заменить** при написании нового кода, диалоговое окно должно быть немодальное, чтобы пользователь может легко переключаться между ними. Visual Studio обычно использует средства windows для такого рода Поддержка редактора связанной задачи.  
  
#### <a name="control-configuration"></a>Настройка элемента управления  
 Соответствовать существующие конфигурации элемента управления, которые выполняют то же самое в Visual Studio.  
  
#### <a name="title-bars"></a>Заголовки окон  
  
-   Текст в заголовке окна должна отражать имя команды, в которой она была запущена.  
  
-   Значок не следует использовать в строке заголовка диалогового окна. В случаях, когда система требует один используйте логотип Visual Studio.  
  
-   Диалоговые окна не следует уменьшить или увеличить кнопки.  
  
-   Рекомендуется использовать кнопки «Справка» в строке заголовка. Не добавлять их в новые диалоговые окна. Если они существуют, их необходимо запустить раздел справки, который концептуально относится к задаче.  
  
 ![Строка спецификации для Visual Studio заголовка](../../extensibility/ux-guidelines/media/0704-03_titlebarspecs.png "0704&03;_TitleBarSpecs")  
  
 **Базовые спецификации для заголовков в диалоговых окнах Visual Studio.**  
  
#### <a name="control-buttons"></a>Кнопки управления  
 Как правило **ОК**/**отменить**/**помочь** кнопки должны быть упорядочены по горизонтали в правом нижнем углу диалогового окна. Альтернативный вертикальный стек разрешается в том случае, если диалоговое окно содержит несколько кнопок в нижней части диалогового окна, которое будет представлять visual путаницы с кнопок управления.  
  
 ![Управление конфигурациями кнопки в Visual Studio](../../extensibility/ux-guidelines/media/0704-04_controlbuttonconfig.png "0704&04;_ControlButtonConfig")  
  
 **Допустимые настройки для кнопок элемента управления в диалоговых окнах Visual Studio**  
  
 Диалоговое окно необходимо включить кнопку элемента управления по умолчанию. Чтобы определить лучший команды для использования по умолчанию, выберите один из следующих параметров (в порядке приоритета):  
  
-   Выберите команду безопасный и наиболее безопасным по умолчанию. Это означает, что при выборе команды, скорее всего, для предотвращения потери данных и избежать непреднамеренного системы доступа.  
  
-   Если потери данных и безопасности не факторов, затем выберите команды по умолчанию, в зависимости от удобства. Включая скорее всего, команда по умолчанию, повышается пользователя рабочего процесса, если диалоговое окно поддерживает часто повторяющихся задач.  
  
 Не выбирайте окончательно удалением действие команды по умолчанию. При наличии таких команд выберите безопаснее команды по умолчанию.  
  
#### <a name="access-keys"></a>Клавиши доступа  
 Не используйте ключи доступа для **ОК**/**отменить**/**помочь** кнопки. Эти кнопки по умолчанию сопоставляются с сочетаниями клавиш:  
  
|Имя кнопки|Сочетание клавиш|  
|-----------------|-----------------------|  
|ОК|ВВОД|  
|Cancel|ESC|  
|Справка|F1|  
  
#### <a name="imagery"></a>Изображения  
 Как можно реже используйте изображения в диалоговых окнах. Не используйте крупные значки в диалоговых окнах для использования места. Образы можно используйте только в том случае, если они являются важной частью передачи сообщений для пользователя, такие как значки предупреждение или состояние анимации.  
  
###  <a name="a-namebkmkprioritizingandlayeringa-prioritizing-and-layering"></a><a name="BKMK_PrioritizingAndLayering"></a>Расстановка приоритетов и иерархическое представление  
  
#### <a name="prioritizing-your-ui"></a>Расстановка приоритетов пользовательского интерфейса  
 Он может потребоваться переместить некоторые элементы пользовательского интерфейса на передний план и поместите дополнительные поведения и параметров (включая непонятные команды) в диалоговых окнах. Объединять часто используемых функций на передний план, задав для него место и, делая их видимыми в пользовательском Интерфейсе текстовую метку по умолчанию при отображении диалогового окна.  
  
#### <a name="layering-your-ui"></a>Иерархическое представление пользовательского интерфейса  
 Если решено, что диалоговое окно не требуется, но связанные функциональные возможности, которые требуется предоставить пользователю выходит за то, что может быть отображен в простое диалоговое окно, необходимо слоя пользовательского интерфейса. Наиболее распространенные методы слоев, которые Visual Studio использует, вкладок и коридорах зданий или панели мониторинга. В некоторых случаях может подойти областей, которые можно разворачивать и сворачивать. Адаптивный пользовательского интерфейса в Visual Studio обычно не рекомендуется.  
  
 Есть свои преимущества и недостатки различных методов наложение через вкладку подобные элементы управления пользовательского интерфейса. Просмотрите в списке ниже, чтобы выбрать способ слоев, в зависимости от ситуации.  
  
##### <a name="tabbing"></a>Переход  
  
|Переключение механизм|Преимущества и применение|Недостатки и неправильное использование|  
|-------------------------|------------------------------------|-----------------------------------------|  
|Элемент управления табуляции|Группируются в наборы связанных страницах диалогового окна<br /><br /> Полезно для не более пяти (или число вкладок, которые помещаются в одну строку в диалоговом окне) страницы связанных элементов управления в диалоговое окно<br /><br /> Вкладка метки должен быть коротким: один или два слова, которые можно легко определить содержимое<br /><br /> Общий вид диалогового окна системы<br /><br /> Пример: **обозреватель файлов настроек свойств элемента**|Сделать метками короткого описания может быть трудно<br /><br /> Обычно не масштабируются за пять вкладок в одно окно<br /><br /> Недопустимо, если открыто слишком много вкладок для одной строки; Используйте метод альтернативное расположение<br /><br /> Не расширяемый|  
|Боковая панель навигации|Простое устройство переключения размещения дополнительные категории, чем вкладок<br /><br /> Плоский список категорий (не иерархия)<br /><br /> Расширяемый<br /><br /> Пример: **настроить... настроек Добавление команды**|Не используйте по горизонтали при менее чем из трех групп<br /><br /> Задача может быть лучше подходит для раскрывающегося списка|  
|Элемент управления "Дерево"|Обеспечивает неограниченное категорий<br /><br /> Обеспечивает группирование или иерархии категорий<br /><br /> Расширяемый<br /><br /> Пример: **средства настроек параметров**|Несколько уровней вложения иерархии может привести к чрезмерной горизонтальной прокрутки<br /><br /> Visual Studio содержит overabundance представления в виде дерева|  
|Мастер|Помогает при завершении задачи, пройдя через задачи, последовательных действий. Мастер представляет высокоуровневые задачи и подзадачи, которые необходимы для достижения общей задачи представляют отдельных панелей.<br /><br /> Это полезно, когда задача пересекает границы пользовательского интерфейса, что когда пользователь иначе пришлось бы использовать многочисленные редакторы и средства windows для выполнения задачи<br /><br /> Это полезно, когда задача требует ветвления<br /><br /> Это полезно, когда задача содержит зависимости между шагами<br /><br /> Полезно, когда несколько схожих задач с вилки решение могут быть представлены на один диалогового окна, чтобы уменьшить количество различных аналогичные диалоговые окна.|Подходит для любой задачи, которая не требует последовательного рабочего процесса<br /><br /> Пользователи могут стать перегруженности замешательство и мастер слишком много действий<br /><br /> Мастеры по своей природе ограниченную площадь экрана|  
  
##### <a name="hallways-or-dashboards"></a>Коридорах зданий или панели мониторинга  
 Коридорах зданий и панели мониторинга будут диалоговых окон или панелей, которые служат в качестве запуск указывает на другие диалоговые окна и окна. Хорошо спроектированный» коридоре» немедленно проявляется только наиболее распространенные параметры, команд и параметров, что позволяет пользователю легко выполнять распространенные задачи. Как коридора реальных предоставляет отмечает любые проходы для доступа к комнаты за ними, здесь пользовательский Интерфейс менее типичные собраны в отдельный «комнаты» (часто другие диалоговые окна) связанных функциональных возможностей, которые можно обращаться из коридора основной.  
  
 Кроме того пользовательский Интерфейс, который предоставляет все доступные возможности в одной коллекции, а не менее типичные функциональные возможности в различных местах рефакторинг — это просто панель мониторинга.  
  
 ![Понятие коридора в Outlook](../../extensibility/ux-guidelines/media/0704-08_hallway.png "0704&08;_Hallway")  
  
 **Понятие коридора для предоставления дополнительных пользовательского интерфейса в Outlook**  
  
##### <a name="adaptive-ui"></a>Адаптивный пользовательского интерфейса  
 Отображение или скрытие пользовательского интерфейса на основе использования или с пользователем самостоятельно отчета является другим способом представления пользовательского интерфейса необходимо скрывая других частей. Это не рекомендуется в Visual Studio, как алгоритмы для решения, когда для отображения или скрытия пользовательского интерфейса может быть сложным, и правила всегда будет работать неправильно для некоторого набора вариантов.  
  
##  <a name="a-namebkmkprojectsa-projects"></a><a name="BKMK_Projects"></a>Проекты  
  
### <a name="projects-in-the-solution-explorer"></a>Проекты в обозревателе решений  
 Большинство проектов классифицируются как основано на ссылке на основе каталогов и смешанных. В обозревателе решений одновременно поддерживаются все три типы проектов. Корневой пользовательский интерфейс, работа с проектами выполняется внутри этого окна. Несмотря на узлах разных проектов ссылку, каталог или смешанного типа проектов, существует общий шаблон взаимодействия, следует применять в качестве отправной точки до расходятся в шаблоны проекта конкретного пользователя.  
  
 Проекты следует всегда:  
  
-   Поддерживает возможность добавления проекта в папках содержимое проекта  
  
-   Поддерживать согласованную модель для долговременного хранения проекта  
  
 Проекты также должен поддерживать согласованное взаимодействие модели для:  
  
-   Удаление элементов проекта  
  
-   Сохранение документов  
  
-   Редактирование свойств проекта  
  
-   Изменения в альтернативное представление проекта  
  
-   Операции и перетаскивания  
  
### <a name="drag-and-drop-interaction-model"></a>Модель взаимодействия и перетаскивания  
 Обычно проекты классифицировать их как основано на ссылке (возможность сохранять только ссылки на элементы проекта в хранилище), (возможность сохранять только элементы проекта физически хранятся в иерархии проекта), на основе каталогов или смешанный (возможность сохранить ссылки или физические элементы). IDE, обеспечивает соблюдение всех трех типов проектов одновременно в **обозревателе решений**.  
  
 С точки зрения и перетащите следующие характеристики применяются к каждому типу проекта в **обозревателе решений**:  
  
-   **Проект на основе ссылок:** суть в том, что проект перетаскивает вокруг ссылку на элемент в хранилище. Когда проект на основе ссылки выступает в качестве источника для операции перемещения, следует удалить только ссылку на элемент проекта. Элемент, не фактически удаляется в с жесткого диска. Когда проект на основе ссылки выступает в качестве целевого объекта для (операцию копирования или перемещения), следует добавить ссылку на исходный элемент источника без создания копии закрытого элемента.  
  
-   **Проект на основе каталогов:** проекта с точки зрения и перетащите перетаскивает вокруг физический элемент, а не ссылки. Когда проект на основе directory выступает в качестве источника для операции перемещения, его следует закончить удаление физических элементов с жесткого диска, а также удаляется из проекта. Когда проект на основе directory выступает в качестве целевого объекта для (операцию копирования или перемещения), его следует сделать копии исходного элемента в целевом расположении.  
  
-   **Смешанный целевого проекта:** с точки зрения и перетащите поведение этого типа проекта основано на природу перетаскиваемым (ссылка на элемент в хранилище) либо сам элемент. Правильное поведение для ссылок и физические элементы описаны выше.  
  
 При наличии только один тип проекта в **обозревателе**, и перетащите операций будет просто. Так как каждый проект системе возможность определять собственное поведение и перетащите, определенным правилам (на основе Windows Explorer и перетащите поведения) следует применять для гарантировать предсказуемое взаимодействие с пользователем:  
  
-   Неизмененный операции перетаскивания **обозревателе решений** (когда Ctrl ни клавиши Shift удерживании) должно привести к операции перемещения.  
  
-   Удерживая нажатой клавишу SHIFT операции следует также привести к операции перемещения.  
  
-   Операции перетаскивания CTRL должно привести в ходе операции копирования.  
  
-   Ссылки и смешанный проект системы поддерживают понятие Добавление ссылки (или ссылку) с исходным элементом. Когда эти проекты находятся целевой объект операции и перетащите (при **Ctrl + Shift** удерживается), оно должно привести ссылку на элемент, добавляемый в проект  
  
 Не все операции и перетащите разумный через сочетания основано на ссылке на основе каталогов и смешанных проектов. В частности довольно трудно выдать себя за разрешить операции перемещения между исходный каталог проекта и основано на ссылке целевой проект, поскольку исходный проект на основе directory придется удалить элемент источника после завершения перемещения. Затем проект на основе ссылки появятся со ссылкой на удаленный элемент.  
  
 Можно также ввести в заблуждение, представьте разрешить операции копирования между этими типами проектов, поскольку целевой проект на основе ссылки не следует вносить независимую копию исходного элемента. Аналогичным образом Ctrl + Shift, перетащив на основе каталогов целевой проект не разрешен, так как невозможно сохранить ссылки проекта на основе каталогов. В случаях, когда не поддерживается операция и перетащите интегрированной среды разработки следует запретить удаление и показать пользователю запрета перетаскивания курсора (как показано в приведенной ниже таблице указатель).  
  
 Для правильной реализации и перетащите поведение, нужно взаимодействовать своей природе исходный проект перетащите (например, это основано на ссылке или каталог?) для целевого проекта. Эта информация указывает формат буфера обмена, предоставляемые источником. Источник перетаскивания (или операции копирования в буфер обмена) проект должен предлагать либо **CF_VSREFPROJECTITEM**S или **CF_VSSTGPROJECTITEMS** соответственно, в зависимости от проекта основанные на ссылку или каталог. Эти форматы имеют то же содержимое данных, что похоже на Windows **CF_HDROP** формата, за исключением того, что списки строк, а не имена файлов, являются double -**NULL** завершается список **Projref** строк (возвращенный **IVsSolution::GetProjrefOfItem** или **:: GetProjrefOfProject** соответствующим образом).  
  
 Как цель перетаскивания (или операции вставки в буфер обмена), проект следует принять **CF_VSREFPROJECTITEMS** и **CF_VSSTGPROJECTITEMS**, хотя точное обработки операции и перетащите изменяется в зависимости от характера проекта целевой и исходный проект. Исходный проект объявляет своей природе, является ли он предлагает **CF_VSREFPROJECTITEMS** или **CF_VSSTGPROJECTITEMS**. Цель перетаскивания понимает свой собственный характер и таким образом, имеет достаточно информации для принятия решений в отношении, ли перемещения, копирования или ссылка должна выполняться. Пользователь также изменяет какие и перетащите операция должна быть выполнена, нажав клавишу Ctrl, Shift, или как клавиши Ctrl и Shift. Важно правильно указать операцию, которая будет выполняться заранее в место назначения перетаскивания его **DragEnter** и **DragOver** методы. **Обозревателе решений** автоматически разбивает исходный проект целевого проекта, ли тот же проект.  
  
 Перетаскивание элементов проекта в экземплярах Visual Studio (например, из одного экземпляра в другой devenv.exe) не поддерживается. **Обозревателе решений** отключает это напрямую.  
  
 Пользователь всегда должен иметь возможность определить результат операции и перетащите путем выбора элемента, перетащив его в целевое расположение и рассмотрение следующих указателей отображаемый перед удалением элемента:  
  
|Указатель мыши|Команда|Описание|  
|-------------------|-------------|-----------------|  
|![Значок мыши «не бросать»](../../extensibility/ux-guidelines/media/0706-01_mousenodrop.png "0706&01;_MouseNoDrop")|Не бросать|Невозможно удалить элемент в указанное расположение.|  
|![Значок «Копировать» мыши](../../extensibility/ux-guidelines/media/0706-02_mousecopy.png "0706&02;_MouseCopy")|Копировать|Элемент будет скопирован в целевое расположение.|  
|![Мыши «переместить» значок](../../extensibility/ux-guidelines/media/0706-03_mousemove.png "0706&03;_MouseMove")|Перемещение|Элемент будет перемещен в целевое расположение.|  
|![Значок «Добавить ссылку» мыши](../../extensibility/ux-guidelines/media/0706-04_mouseaddref.png "0706&04;_MouseAddRef")|Добавление ссылки|Ссылку на выбранный элемент будет добавлен в целевое расположение.|  
  
#### <a name="reference-based-projects"></a>Ссылка-проектов  
 В следующей таблице перечислены операции и перетаскивания (а также вырезания, копирования, вставки), которые должны быть выполнены зависимости от характера исходного элемента и модификатор ключей нажата для целей на основе ссылки на проекты:  
  
|||Исходный элемент:-ссылка|Исходный элемент: физический элемент или файловой системы (CF_HDROP)|  
|-|-|----------------------------------|-------------------------------------------------------------|  
|Модификатор|Действие|Перемещение|Ссылка|  
|Модификатор|целевого объекта|Добавляет ссылку на исходный элемент|Добавляет ссылку на исходный элемент|  
|Модификатор|Исходный код|Удаляет ссылку на исходный элемент|Сохраняет исходный элемент|  
|Модификатор|Результат|**DROPEFFECT_MOVE** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**DROPEFFECT_LINK** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|  
|Shift + перетаскивание|Действие|Перемещение|Не бросать|  
|Shift + перетаскивание|целевого объекта|Добавляет ссылку на исходный элемент|Не бросать|  
|Shift + перетаскивание|Исходный код|Удаляет ссылку на исходный элемент|Не бросать|  
|Shift + перетаскивание|Результат|**DROPEFFECT_MOVE** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|Не бросать|  
|CTRL + перетаскивание|Действие|Копировать|Не бросать|  
|CTRL + перетаскивание|целевого объекта|Добавляет ссылку на исходный элемент|Не бросать|  
|CTRL + перетаскивание|Исходный код|Сохраняет ссылку на исходный элемент|Не бросать|  
|CTRL + перетаскивание|Результат|**DROPEFFECT_COPY** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|Не бросать|  
|Ctrl + Shift + перетаскивание|Действие|Ссылка|Ссылка|  
|Ctrl + Shift + перетаскивание|целевого объекта|Добавляет ссылку на исходный элемент|Добавляет ссылку на исходный элемент|  
|Ctrl + Shift + перетаскивание|Исходный код|Сохраняет ссылку на исходный элемент|Сохраняет исходный элемент|  
|Ctrl + Shift + перетаскивание|Результат|**DROPEFFECT_LINK** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**DROPEFFECT_LINK** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|  
|Ctrl + Shift + перетаскивание|Бумага для заметок|Аналогично и перетащите поведение для сочетаний клавиш в проводнике Windows.||  
|Вырезания и вставки|Действие|Перемещение|Ссылка|  
|Вырезания и вставки|целевого объекта|Добавляет ссылку на исходный элемент|Добавляет ссылку на исходный элемент|  
|Вырезания и вставки|Исходный код|Сохраняет ссылку на исходный элемент|Сохраняет исходный элемент|  
|Вырезания и вставки|Результат|Элемент остается в исходном расположении в хранилище|Элемент остается в исходном расположении в хранилище|  
|Копирование и вставка|Действие|Копировать|Ссылка|  
|Копирование и вставка|Исходный код|Добавляет ссылку на исходный элемент|Добавляет ссылку на исходный элемент|  
|Копирование и вставка|Результат|Сохраняет ссылку на исходный элемент|Сохраняет исходный элемент|  
|Копирование и вставка|Действие|Элемент остается в исходном расположении в хранилище|Элемент остается в исходном расположении в хранилище|  
  
#### <a name="directory-based-projects"></a>Проектов на основе каталогов  
 В следующей таблице перечислены операции и перетаскивания (а также вырезания, копирования, вставки), которые должны быть выполнены зависимости от характера исходного элемента и модификатор ключей нажата для проектов на основе каталогов целевой:  
  
|||Исходный элемент:-ссылка|Исходный элемент: физический элемент или файловой системы (CF_HDROP)|  
|-|-|----------------------------------|-------------------------------------------------------------|  
|Модификатор|Действие|Перемещение|Перемещение|  
|Модификатор|целевого объекта|Копирует элемент в целевое расположение|Копирует элемент в целевое расположение|  
|Модификатор|Исходный код|Удаляет ссылку на исходный элемент|Удаляет ссылку на исходный элемент|  
|Модификатор|Результат|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|  
|Shift + перетаскивание|Действие|Перемещение|Перемещение|  
|Shift + перетаскивание|целевого объекта|Копирует элемент в целевое расположение|Копирует элемент в целевое расположение|  
|Shift + перетаскивание|Исходный код|Удаляет ссылку на исходный элемент|Удаляет элемент из исходного местоположения|  
|Shift + перетаскивание|Результат|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|  
|CTRL + перетаскивание|Действие|Копировать|Копировать|  
|CTRL + перетаскивание|целевого объекта|Копирует элемент в целевое расположение|Копирует элемент в целевое расположение|  
|CTRL + перетаскивание|Исходный код|Сохраняет ссылку на исходный элемент|Сохраняет ссылку на исходный элемент|  
|CTRL + перетаскивание|Результат|**Копировать DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**Копировать DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|  
|Ctrl + Shift + перетаскивание||Не бросать|Не бросать|  
|Вырезания и вставки|Действие|Перемещение|Перемещение|  
|Вырезания и вставки|целевого объекта|Копирует элемент в целевое расположение|Копирует элемент в целевое расположение|  
|Вырезания и вставки|Исходный код|Удаляет ссылку на исходный элемент|Удаляет элемент из исходного местоположения|  
|Вырезания и вставки|Результат|Элемент остается в исходном расположении в хранилище|Элемент удаляется из исходного местоположения в хранилище|  
|Копирование и вставка|Действие|Копировать|Копировать|  
|Копирование и вставка|целевого объекта|Добавляет ссылку на исходный элемент|Копирует элемент в целевое расположение|  
|Копирование и вставка|Исходный код|Сохраняет исходный элемент|Сохраняет исходный элемент|  
|Копирование и вставка|Результат|Элемент остается в исходном расположении в хранилище|Элемент остается в исходное расположение ins хранилища|  
  
#### <a name="mixed-target-projects"></a>Смешанный целевыми проектами  
 В следующей таблице перечислены операции и перетаскивания (а также вырезания, копирования, вставки), которые должны выполняться зависимости от характера исходного элемента и модификатор ключей нажата для смешанных целевой проектов:  
  
|||Исходный элемент:-ссылка|Исходный элемент: физический элемент или файловой системы (CF_HDROP)|  
|-|-|----------------------------------|-------------------------------------------------------------|  
|Модификатор|Действие|Перемещение|Перемещение|  
|Модификатор|целевого объекта|Добавляет ссылку на исходный элемент|Копирует элемент в целевое расположение|  
|Модификатор|Исходный код|Удаляет ссылку на исходный элемент|Удаляет ссылку на исходный элемент|  
|Модификатор|Результат|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент удаляется из исходного местоположения в хранилище|  
|Shift + перетаскивание|Действие|Перемещение|Перемещение|  
|Shift + перетаскивание|целевого объекта|Добавляет ссылку на исходный элемент|Копирует элемент в целевое расположение|  
|Shift + перетаскивание|Исходный код|Удаляет ссылку на исходный элемент|Удаляет элемент из исходного местоположения|  
|Shift + перетаскивание|Результат|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**ПЕРЕМЕСТИТЬ DROPEFFECT_** возвращается как действие из **:: Drop** и элемент удаляется из исходного местоположения в хранилище|  
|CTRL + перетаскивание|Действие|Копировать|Копировать|  
|CTRL + перетаскивание|целевого объекта|Добавляет ссылку на исходный элемент|Копирует элемент в целевое расположение|  
|CTRL + перетаскивание|Исходный код|Сохраняет ссылку на исходный элемент|Сохраняет исходный элемент|  
|CTRL + перетаскивание|Результат|**Копировать DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**Копировать DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|  
|Ctrl + Shift + перетаскивание|Действие|Ссылка|Ссылка|  
|Ctrl + Shift + перетаскивание|целевого объекта|Добавляет ссылку на исходный элемент|Добавляет ссылку на исходный элемент источника|  
|Ctrl + Shift + перетаскивание|Исходный код|Сохраняет ссылку на исходный элемент|Сохраняет исходный элемент|  
|Ctrl + Shift + перетаскивание|Результат|**ССЫЛКА DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|**ССЫЛКА DROPEFFECT_** возвращается как действие из **:: Drop** и элемент остается в исходном расположении в хранилище|  
|Вырезания и вставки|Действие|Перемещение|Перемещение|  
|Вырезания и вставки|целевого объекта|Копирует элемент в целевое расположение|Копирует элемент в целевое расположение|  
|Вырезания и вставки|Исходный код|Удаляет ссылку на исходный элемент|Удаляет элемент из исходного местоположения|  
|Вырезания и вставки|Результат|Элемент остается в исходном расположении в хранилище|Элемент удаляется из исходного местоположения в хранилище|  
|Копирование и вставка|Действие|Копировать|Копировать|  
|Копирование и вставка|целевого объекта|Добавляет ссылку на исходный элемент|Копирует элемент в целевое расположение|  
|Копирование и вставка|Исходный код|Сохраняет исходный элемент|Сохраняет исходный элемент|  
|Копирование и вставка|Результат|Элемент остается в исходном расположении в хранилище|Элемент остается в исходном расположении в хранилище|  
  
 Эти сведения следует учитывать при реализации перетаскивания **обозревателе решений**:  
  
-   Разработка для нескольких сценариев выбора.  
  
-   Имена файлов (полный путь) должно быть уникальным для целевого проекта или удаление не допускается.  
  
-   Имена папок должны быть уникальными (без учета регистра) на уровне, они удалены.  
  
-   Существуют различия в поведении между файлы, открытые или закрытые во время перетаскивания (не упоминается в сценариях выше).  
  
-   Файлы верхнего уровня ведут себя несколько иначе, чем файлы в папках.  
  
 Еще одна проблема, необходимо учитывать — способ обработки операции перемещения на элементы, имеющие открытые конструкторы и редакторы. Ожидаемым поведением является (это относится ко всем типам проектов) следующим образом:  
  
1.  Если открыть редактор или конструктор не имеет несохраненные изменения, то окно редактора или конструктора должен быть автоматически закрыт.  
  
2.  Если открыть редактор или конструктор имеет несохраненные изменения, источник перетаскивания должен ожидать для удаления, а затем попросите пользователя, чтобы сохранить незафиксированные изменения в открытых документах перед закрытием окна с предложением, аналогичный приведенному ниже:  
  
    ```  
    ==========================================================   
         One or more open documents have unsaved changes.  
    Do you want to save uncommitted changes before proceeding?   
                      [Yes]  [No]  [Cancel]   
    ==========================================================  
    ```  
  
 Это дает пользователю возможность сохранить незавершенное до целевой сделает свои копии. Новый метод **IVsHierarchyDropDataSource2::OnBeforeDropNotify** добавлен для включения этой обработки.  
  
 Целевой объект будет копировать состояние элемента в хранилище (не включая несохраненные изменения в редакторе, если пользователь решает **нет**). После завершения копирования его целевой объект (в **IVsHierarchyDropDataSource::Drop**), источник является возможность завершения удаления части операции перемещения (в **IVsHierarchyDropDataSource::OnDropNotify**).  
  
 Редакторы, все несохраненные изменения должны оставаться открытым. Для этих документов с несохраненными изменениями это означает, что будет выполнено копирование части операции перемещения, но удалить часть будет прервана. В нескольких сценарии выбора, когда пользователь выбирает **нет**, эти документы с несохраненными изменениями следует не закрыты или удалены, но без несохраненные изменения должны быть закрыты и удалены.

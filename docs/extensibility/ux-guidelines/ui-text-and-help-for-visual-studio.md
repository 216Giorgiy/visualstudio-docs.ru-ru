---
title: "Текст пользовательского интерфейса и справки для Visual Studio | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: e8747d07-6c90-46cc-b425-55b589f7e9e4
caps.latest.revision: 2
caps.handback.revision: 2
ms.author: "gregvanl"
manager: "ghogen"
---
# Текст пользовательского интерфейса и справки для Visual Studio
[!INCLUDE[vs2017banner](../../code-quality/includes/vs2017banner.md)]

##  <a name="BKMK_UITextAndTerminology"></a> Текст пользовательского интерфейса и терминология  
 Понятный текст имеет решающее значение для эффективного пользовательского интерфейса. Пользователи, как правило, для чтения метки во\-первых, а именно те, наиболее важными для выполнения поставленной задачи. Статический текст читается с меньшей частотой. Планирование пользователям запускать свои сеансы работы с быстрой проверки всего окна, следуют чтения пользовательского интерфейса в указанном порядке приблизительное:  
  
1.  Интерактивные элементы управления в центре  
  
2.  Фиксация кнопки  
  
3.  Интерактивные элементы управления в других приложениях  
  
4.  Основные инструкции  
  
5.  Дополнительное описание  
  
6.  Заголовок окна  
  
7.  Другой статический текст в основном тексте  
  
### Использование шаблонов для текста интерфейса пользователя  
  
#### Текст заголовка  
 Текст заголовка должно соответствовать команды, порожденных пользовательского интерфейса.  
  
#### Пояснительный текст \(вспомогательный\)  
 В некоторых диалоговых окнах полезно заметный основные инструкции по объяснить, что делать в окне или на странице. Это иногда называется «вспомогательный текст».  
  
##### Написание правил стиля для вспомогательных текста  
  
-   Не объясняют очевидны. Если он совершенно не требуется, не включайте пояснительного текста.  
  
-   Пояснительный текст всегда помещается в верхней части диалогового окна и обратитесь к выполняемой задачи.  
  
-   Точно Объясните пользователям им нужно делать. Избегайте чрезмерного связи и избыточность.  
  
-   Проверьте каждое окно и исключить повторяющиеся слова и инструкции.  
  
-   Сохраните короткий пояснительного текста. При необходимости для определенных пользователей или сценарии Дополнительные сведения затем предоставьте ссылку на раздел подробные концептуальной документации.  
  
-   Напишите текст, чтобы каждое слово содержит вес и не требуется.  
  
-   Существующие рекомендации корпорации Майкрософт для [текст пользовательского интерфейса](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742478\(v=vs.85\).aspx) и [стиль и тон](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742477\(v=vs.85\).aspx).  
  
#### Дополнительные инструкции  
 Дополнительные инструкции предоставляют дополнительную информацию, которая помогает пользователю понять, элементы управления или группы управления. Это также может включать текст подсказки, необходимо понимать формат ожидает ввода элемента управления. Как можно реже используйте дополнительные инструкции. Зарезервируйте их для случаев, где вполне вероятно, что пользователь не будет полностью понимать последствия этих выбор, они берут.  
  
 ![Supplemental text in Visual Studio](../../extensibility/ux-guidelines/media/0601-b_supplementaltext1.png "0601\-b\_SupplementalText1")  
  
 **Пояснительный текст в Visual Studio**  
  
 ![Supplemental text in Visual Studio](../../extensibility/ux-guidelines/media/0601-c_supplementaltext2.png "0601\-c\_SupplementalText2")  
  
 **Пояснительный текст в Visual Studio**  
  
#### Всплывающих подсказках  
 Часто пояснительного текста может быть слишком длинным для размещения на месте в пользовательском Интерфейсе или можно использовать только для новых пользователей, походили помехи для опытных пользователей. В этом случае инструкции или информационный текст должен помещаться в виде всплывающей подсказки в всплывающую подсказку.  
  
 Всплывающих подсказках должны находиться рядом с элементами управления, они связаны и следует использовать определенные значок подсказку, выделялся заметно.  
  
 ![InfoTip in Visual Studio](../../extensibility/ux-guidelines/media/0601-d_infotip.png "0601\-d\_InfoTip")  
  
 **Пример всплывающую подсказку в Visual Studio**  
  
##### Создание правила стилей для всплывающих подсказках  
  
-   Запишите всплывающих подсказках как полные предложения. Они требуют определенных команд, прописная и завершение знаков препинания.  
  
-   Позволяет дополнить основные инструкции или сведения о всплывающих подсказках. При использовании только разные слова переформулировать основную идею не требуется всплывающую подсказку.  
  
-   Сохраните всплывающих подсказках короткий и приятный. Используйте небольшой слова и обычные, естественного языка, который поддерживает и предлагает пользователю.  
  
-   Существующие рекомендации корпорации Майкрософт для [текст пользовательского интерфейса](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742478\(v=vs.85\).aspx) и [стиль и тон](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742477\(v=vs.85\).aspx).  
  
#### Метки элементов управления  
 Метки элементов управления должны быть кратких и выполните [руководство рабочего стола Windows для элементов управления](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742399\(v=vs.85\).aspx).  
  
 Дополнительные сведения о формате элемента управления label и размещения в пользовательском Интерфейсе см. [Макет для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md).  
  
#### Ссылки на разделы справки  
 Ссылки на справку можно либо находиться в пояснительного текста либо в основной части пользовательского интерфейса. Можно ли ссылки на справку или запуска внутренней диалоговые окна.  
  
##### Правила стиля оформления для ссылки на справку  
  
-   Используйте цвета нужную среду для гиперссылки. Правильно оформленного гиперссылку, не мгновение появился красный цвет при нажатии. Если это происходит, то это означает, что цвета среды не используются.  
  
-   Подчеркивание следует использовать только при наведении курсора мыши или при ссылку внедряется в абзаце.  
  
-   Более подробные сведения о стилях visual и взаимодействие для гиперссылок в разделе кнопок и гиперссылок.  
  
##### Написание правил стиля для ссылки на справку  
  
-   При запуске диалоговых окон, соблюдения стандартов для эллипсов: нет кнопку с многоточием для навигации, эллипсы, если задача требует дополнительных пользовательского интерфейса.  
  
     ![Help link in Visual Studio](../../extensibility/ux-guidelines/media/0601-e_helplink.png "0601\-e\_HelpLink")  
  
     **Многоточие \(...\) в справке ссылка указывает, что задача потребует дополнительных пользовательского интерфейса.**  
  
-   Ссылки не должно начинаться с «Дополнительные сведения», как это не намерения пользователя. Пользователю необходимо ответить на конкретный вопрос, не будут получать общее образование.  
  
-   Справка фразу ссылки так, чтобы они вопрос, ответят на раздел.  
  
     Неверный:  
     «Дополнительные сведения о ценах на Windows Azure мобильные службы»  
  
     Исправление:  
     «Какие параметры ценообразования доступны для мобильных служб Windows Azure?»  
  
-   Никогда не используйте *нажмите кнопку...* на текст ссылки.  
  
-   Никогда не связать только слово «сюда». Это создает проблему, некоторые средства чтения с экрана, которые будет голосовые только слова с гиперссылкой.  
  
     Неверный:  
     «Найти сведения о мобильных служб Windows Azure **здесь**»  
  
     Исправление:  
     «Какие параметры ценообразования доступны для мобильных служб Windows Azure?»  
  
-   Дополнительные сведения о стиль правильные записи для ссылки на справку в разделе [руководство рабочего стола Windows для получения справки](https://msdn.microsoft.com/en-us/library/windows/desktop/dn742494\(v=vs.85\).aspx).  
  
#### Текст подсказки  
 Пояснительный текст отображается в качестве водяного знака в элементе управления или под элементом управления. Правильное форматирование будет применяться при помощи соответствующий маркер VSColors `Environment.GrayText`.  
  
 Он может отображаться в различных видов.  
  
-   Вместо метка элемента управления:  
  
     ![Hint text in Visual Studio](../../extensibility/ux-guidelines/media/0601-f_hinttext1.png "0601\-f\_HintText1")  
  
-   С помощью команды инструкций:  
  
     ![Hint text in Visual Studio](../../extensibility/ux-guidelines/media/0601-g_hinttext2.png "0601\-g\_HintText2")  
  
-   С текстом, указывающее необходимый элемент:  
  
     ![Hint text in Visual Studio](../../extensibility/ux-guidelines/media/0601-h_hinttext3.png "0601\-h\_HintText3")  
  
#### Текст водяного знака  
 На пустая область конструктора текст должен указывать, что нужно сделать, а также содержатся ссылки для открытия других связанных окон, при необходимости:  
  
 ![Watermark text in Visual Studio](../../extensibility/ux-guidelines/media/0601-i_watermarktext.png "0601\-i\_WatermarkText")  
  
 **Пример текста водяного знака в Visual Studio**  
  
### Общие термины  
  
|Термин|Объяснение|Примечание|  
|------------|----------------|----------------|  
|Вход и выход|Команды, используемые как синонимы веб\-проверки подлинности в веб\-свойство представления. В клиентах мы будем использовать этот раз как концепция верхнего уровня для подписи и подключение пользователя интегрированной среды разработки, которое представляет удостоверение верхнего уровня, обеспечивающий более высокого уровня возможностей, таких как перемещение и лицензирования, недоступны для всех подключений.|Пользователь интегрированной среды разработки является единственной возможностью, должен представлять вход \/ выход команды, представляет верхнего уровня пользователя интегрированной среды разработки.|  
|Подключение \/ отключение|Использовать в местах, где функция обеспечивает единое подключение к веб\-службы.|Обозреватель серверов, где может существовать только одно активное подключение Azure одновременно, является примером\/разрыв подключения.|  
|Добавить или удалить|Неразрушающее. Используется при добавлении или удалении что\-нибудь из списка.|Диалоговое окно списка сервер TFS диспетчер соединений является примером добавить или удалить.|  
|Удаление|Удалением. Используйте только в том случае, если удаляемый элемент будут окончательно удалены или удален с диска.|Обычно «Delete» требуется запрос, если результат является удаление файла с диска.|  
  
## Сообщения об ошибках  
  
### Обзор  
 Происходить ошибки. Установка ограничения на разрешенные действия пользователя является разумным первым шагом для предотвращения лишних ошибок. Однако при возникновении ошибки, сообщение об ошибке хорошо написанных можно перейти приблизиться к устранению проблемы. Сообщения об ошибках пожалуй, наиболее важные типы уведомлений, который видит пользователь, поскольку они являются синхронными и указывают на проблему, необходимо решить. Плохо написанного ошибок пользователям оставлять на свои собственные, чтобы определить причину ошибки, а также возможные решения.  
  
 Пользователи могут перестать внимания к чрезмерным или сбивает с толку сообщений об ошибках, возникают сообщения только необходимые записи, необходимые для пользователя. Если сообщение является просто уведомлений, используйте альтернативное представление.  
  
### Правила для создания сообщения об ошибке  
  
-   При создании сообщений об ошибках, выберите уровень соответствующей ошибки для аудитории. Цель для простой сводки, предоставляющих действие пользователя может потребоваться, если применимо. Все, что пользователю не нужно знать не состояния.  
  
-   Конструктивные оказывать. Это упрощает чтение и отреагировать на сообщение об ошибке, содержащая инструкцию.  
  
-   Не используйте двойные отрицательных результатов.  
  
-   Выполнить оба автоматизированной и ручной грамматики и орфографии проверьте на все сообщения об ошибках, создаваемых.  
  
-   Для сложных ошибок Избегайте последовательной связи. Никогда не используйте привязку F1 сообщения об ошибке. Само сообщение должно быть достаточно.  
  
-   Используйте соответствующий значок.  
  
-   Сделать вопросы простой для понимания и использования кнопок, снимите выбор, такие как «Удалить» и «Отмена».  
  
-   Для предупреждения необходимо иметь четкое представление о вследствие продолжение, которое будет иметь. Кнопки должно указывать на результат.  
  
-   Для ошибок опишите пользователь может сделать для решения проблемы. Кнопки следует действия или сказать «Закрыть». Не используйте кнопку «ОК» для сообщение об ошибке.  
  
-   Некоторые контрольных вопросов при создании сообщение об ошибке:  
  
    -   Выяснить, как для устранения проблемы с этой ошибкой только пользователь?  
  
    -   Пользователь использовать же словаря как ошибки  
  
    -   Являются неоднозначными этой ошибки или совместно в нескольких ситуациях? Если это так, как вы помогает пользователям для решения, которые необходимы?  
  
#### Ошибки построения  
 Поскольку Visual Studio является средством разработки программного обеспечения, многие из его компонентов имеют компиляции, преобразование или кодирование шаг для преобразования в двоичную форму работу разработчика. Эти преобразования могут вызвать ошибки, если компилятор не может обработать неправильно созданные файлы или параметры компилятора не были заданы правильно.  
  
 Пользователи Visual Studio могут тратить огромное количество часов разработки, устранение ошибок построения. Это время разрешения увеличивается, когда ошибки имеют зависимости или если сообщения об ошибках плохо написаны, поэтому может оказаться сложно обнаружить источник ошибки.  
  
 Лучшие ошибки построения являются те, которые не возникают в первую очередь, поэтому Visual Studio предоставляет автозаполнения и IntelliSense волнистых линий. Проверяющие элементы схемы и аналогичных средств предоставляют одинаковые обратной связи. Эти механизмы заранее руководство пользователя для создания правильного формата кода, уменьшая вероятность возникновения ошибок построения.  
  
 Visual Studio предоставляет окно инструментов, где пользователи считывают и просматривать ошибки, возникшие в их окна документов. Сочетания клавиш дают пользователь может быстро перемещаться большие объемы кода и перейти непосредственно к местоположению проблемы. Visual Studio также позволяет каждой ошибки сборки должны быть привязаны к определенным кодом ключевое слово или контекста справки, чтобы пользователь может переходить непосредственно к раздел справки, который предоставляет более подробные сведения об ошибке.  
  
 Ошибки построения краткими, записи:  
  
-   **Использование простого языка** разъясняющее проблему с почти или совсем не жаргоне компилятора. Не следует чрезмерно технических текст ошибки построения.  
  
-   **Описываются возможные причины ее возникновения.** Например «отсутствует двоеточие между свойством и значением в "\(свойство\): \(значение\)" объявление.»  
  
-   Получите подробные сведения о возможных исправлений. Если не хватает места, Дополнительные сведения могут быть помещены в соответствующий раздел справки.  
  
### Компоненты хорошо написанных сообщения об ошибке  
  
#### Использование службы диалогового окна оболочки для сообщения об ошибках.  
 С помощью диалогового окна оболочки службы позволяет управлять внешним видом сообщения, шрифты, в частности, без значительных изменений для отдельных элементов. Используйте **IErrorInfo** механизмы и сообщать о них с помощью **IVsUIShell::SetErrorInfo или ReportErrorInfo**.  
  
#### Выберите представления эффективный и соответствующие уведомления.  
 Используйте модального диалогового окна с критическое предупреждение, если требуется немедленное действие, во избежание потери данных \(синхронного уведомления\). Критические значки зарезервированы для ситуаций, в которых Закрытие сообщения без чтения может привести к отрицательных последствий. Потеря данных является критической ситуации, требующий ответа уровня сигнала. Значок "критический" злоупотребление desensitizes пользователям его важности. Если сообщение об ошибке информационными по природе, следует рассмотрите альтернативы модальное диалоговое окно \(асинхронное уведомление\).  
  
#### Предоставляют более ясным, краткое описание причины возникновения проблемы, а не общее описание.  
 Пользователи, имеющие технические подробности в объяснении перегрузки сделает их скорее всего игнорировать сообщения об ошибках. Примеры хорошо обмена сообщениями.  
  
-   «Не удается открыть запрошенный файл».  
  
-   «Не удается подключиться к Интернету».  
  
#### Приводятся сведения о том, как устранить проблему.  
 Предложения пользователей по устранению проблемы. Честно с пользователем, если отсутствуют варианты. Предоставляют прямые ссылки на альтернативные online источников, таких как техническую поддержку или поддержку от сообщества. Попробуйте для указания пользователям на разделы документации, относящиеся к проблеме. Если код ошибки рассмотрите возможность связывания пользователей с обсуждение об этой конкретной ошибке. Примеры хорошо обмена сообщениями.  
  
-   «Убедитесь, что вы подключены к Интернету и повторите попытку.»  
  
-   «Убедитесь, что файл существует и имеется разрешение, чтобы открыть его.»  
  
#### Записывает сообщение, краткости и точку.  
 Сообщение об ошибке может уведомлять, объяснить и предлагают решения но игнорироваться, если он слишком многословным. Одним из решений является использование постепенного развертывания списка с кнопкой «подробности». Например, дать краткое описание или решение, а затем указать дополнительные сведения в разделе кнопку сведения. Если пользователи выбирают Дополнительные сведения об этой ошибке, их можно сделать.  
  
 Язык в сообщении должно быть:  
  
-   **Соответствующие домена.** Используйте язык, который пользователь будет понимать. Хотя наши клиенты, разработчики, они часто нет контекста и терминология, у нас есть.  
  
-   **Только.** Избегайте Формулировка концепции и предоставить определенные имена и расположения объектов, участвующих. Например сообщение об ошибке, например «недопустимый символ» бесполезно. Какой символ? «Файл не найден». Какой файл?  
  
-   **Учтивость.** Не критиковать пользователя или у них чувство глупо. Избегайте враждебного или оскорбительных языка \(kill и выполнение, завершение Неустранимая, недопустимое\). Избегайте верхний регистр текста, который часто рассматривается как крик, а не как для чтения. Не используйте юмора.  
  
-   **Исправление.** Используйте правильное правописание \(даже в альфа\). Опечатки сумбурно и неудобно.  
  
-   **Необходимые зависимости от контекста.** Используйте соответствующие кнопки текст. Во избежание кнопку «ОК» и вместо этого использовать «Продолжить» или «Да\/нет».  
  
### Примеры сообщений ошибок  
  
|Хорошо|Неверный|  
|------------|--------------|  
|«Номер набран больше не службы. Проверьте номер и наберите его еще раз или набрать 0 для оператора.»|-   «Ошибка \(449\): недопустимое число»<br />-   «Эта ошибка необработанное исключение указывает, что операция завершилась успешно».<br /><br /> ![Bad error message in Visual Studio](../../extensibility/ux-guidelines/media/0602-a_errordialog.png "0602\-a\_ErrorDialog")|  
  
## Доступ к справке  
  
### Обзор  
 В дополнение к документации в библиотеке MSDN Visual Studio пользователь имеет несколько точек доступа, для упрощения работы пользователя в пользовательском Интерфейсе. Убедитесь, что эти точки доступа постоянно доступны, нужно воспользоваться справочной системы, предоставляемые средой специализированных групп. Эти точки доступа являются:  
  
-   **Инструкции и дополнительные текст в диалоговых окнах.** Статический текст, который дает направление или описание, либо в пользовательском Интерфейсе поверхности или доступны при наведении курсора мыши над значком всплывающая подсказка.  
  
-   **Справки F1** \(редактор\). В редакторе Visual Studio могут доверять пользователи, в любое время при нажатии клавиши F1 откроется раздел справки для текущего выделения. Убедитесь, что разделы, посвященные F1 соответствующий и информативным.  
  
-   **Ссылки на разделы справки.** Гиперссылки в диалоговое окно, окно инструмента или конструктора, которая запускает раздела, чтобы помочь пользователю получить дополнительные сведения о технологии, возможностей или сведения о способах выполнения задач.  
  
-   **Механизмы вспомогательный пользовательского интерфейса, такие как смарт\-теги и диалоговые окна построения.** Эти механизмы призвано помочь пользователю понять элемент пользовательского интерфейса или упрощают задачи, например смарт\-тегов и диалоговые окна построителя.  
  
-   **Кнопки Справка пользовательского интерфейса** \(устарело\). Индикатор отображается в заголовке окна обеспечивает доступ к соответствующий раздел справки F1.  
  
### Text  
  
#### Инструкции и дополнительные текст в диалоговых окнах  
 В диалоговых окнах, которые поддерживают сложные задачи может быть нужно дать пояснительный текст в пользовательском Интерфейсе, часто в верхней части диалогового окна или рядом сложных элементов управления. В разделе [Текст пользовательского интерфейса и терминология](../../extensibility/ux-guidelines/ui-text-and-help-for-visual-studio.md#BKMK_UITextAndTerminology) Подробные сведения о написании стиля.  
  
#### Всплывающих подсказках  
 Часто пояснительный текст может быть слишком длинным для размещения на месте в пользовательском Интерфейсе или можно использовать только для новых пользователей, походили помехи для опытных пользователей. В этом случае инструкции или информационный текст должен помещаться в виде всплывающей подсказки в всплывающую подсказку.  
  
 Всплывающих подсказках должны находиться рядом с элементами управления, они связаны и следует использовать определенные значок подсказку, выделялся заметно.  
  
 ![InfoTip in Visual Studio](../../extensibility/ux-guidelines/media/0601-d_infotip.png "0601\-d\_InfoTip")  
  
 **Пример всплывающую подсказку в Visual Studio**  
  
### Интерактивного механизма справки  
  
#### Справка F1  
 Требуется справка F1 редактора или конструктора, но не в другом месте в среде Visual Studio.  
  
#### Ссылки на разделы справки  
 Гиперссылки можно использовать для выполнения действия, перейдите в Интегрированной среде разработки или запустить справку в браузере. В разделе [Текст пользовательского интерфейса и терминология](../../extensibility/ux-guidelines/ui-text-and-help-for-visual-studio.md#BKMK_UITextAndTerminology) Дополнительные сведения о языке и 07.10.01 кнопок и гиперссылок visual и макет.  
  
#### Справка \[?\] кнопки в строке заголовка диалогового окна \(устарело\)  
 В большинстве случаев кнопки справки \[?\] в строке заголовка диалоговых окон являются устаревшими. Разделы пользовательского интерфейса больше не являются частью нашей модели doc и поэтому может не существовать соответствующем разделе для связывания. По существу то же самое, что справки F1 была кнопка панели заголовка и больше не требуется в диалоговых окнах. В некоторых случаях это по\-прежнему используется как индикатор, что дополнительные концептуальные и методические сведения недоступны, хотя чаще используются гиперссылки в новой пользовательского интерфейса.  
  
##### Диалоги, созданные с помощью среды  
 Многие диалоговые окна оболочки создаются с помощью **VBDialogBoxParam** функции. Этой общей функции был обновлен, чтобы упростить перемещение **справки** кнопки из диалогового окна, чтобы **?** кнопки, сохраняя архитектуру, которая обладает обратной совместимости и расширяемым.  
  
 В частности **VBDialogBoxParam** функция просматривает шаблона диалогового окна для кнопки с идентификатором **IDHELP** \(9\) или метка **помочь** или **& Справка**. При обнаружении кнопку "Справка", он скрыт и **WS\_EX\_CONTEXTHELP** стиля добавляется к диалоговому окну, помещает **?** кнопки в строке заголовка диалогового окна.  
  
 При создании диалогового окна, он помещает proc диалоговое окно в стек и вызывает диалоговое окно с предварительной обработки proc диалоговое окно с именем **DialogPreProc**. Когда **?** кнопки, он отправляет **WM\_SYSCOMMAND** из **SC\_CONTEXTHELP** в диалоговое окно.**DialogPreProc** записывает эту команду и изменяет его для **WM\_HELP** сообщения, которое передается исходное процедуру диалогового окна.  
  
 Большинство диалоговых окон среды создания иметь кнопку "Справка" в диалоговом окне. При отображении диалогового окна «Справка» автоматическое скрытие и только **?** работает кнопка. Если **?** кнопку никогда не удаляется или изменяется в Windows, это решение позволяет быстро вернуться к исходной кнопки «Справка».  
  
 Это решение предоставляет четыре предположений, которые могут стать причиной ошибок:  
  
-   Кнопка диалогового окна справки **IDHELP** \(9\).  
  
-   Диалоговое окно выглядит правильно, скрытого "Справка".  
  
-   Диалоговое окно не заменяет его чтобы процедура winproc результат.  
  
-   Диалоговое окно не встроено в другое диалоговое окно.  
  
 Если диалоговое окно находится в пределах msenv и не использует **VBDialogBoxParam**, изучить использование **VBDialogBoxParam** до реализации собственного обработчика.  
  
##### Диалоги, созданные в других пакетах  
 Можно реализовать собственное решение для диалоговых окон, которые находятся за пределами msenv. Для класса общего диалогового окна в VSPackage рассмотрите возможность перемещения кнопки в строке заголовка или реализации обработчика в каждом окне. Общая схема реализации поможет вам приступить к работе является следующий код:  
  
```  
struct DLGPROCITEM { FARPROC proc; // The info used to create the dialog. DLGPROCITEM* procPrev; }; DLGPROCITEM* g_dlgProcStack = NULL; // A dialog starter/wrapper function is used to push the new // dialog proc to the top of our dialog proc stack. int SomeDialogStarterFunction(hinst, id, proc, etc) { if (g_dlgProcStack == NULL) { g_dlgProcStack = new DLGPROCITEM; g_dlgProcStack->procPrev = NULL; } else { DLGPROCITEM* procItem = new DLGPROCITEM; g_dlgProcStack->procPrev = g_dlgProcStack; g_dlgProcStack = procItem; } } // Pop this dialog proc off the dialog proc stack. DialogBoxIndirectParam...(...) { DLGPROCITEM* procItem = g_dlgProcStack->procPrev; delete g_dlgProcStack; g_dlgProcStack = procItem; } // A wrapper dialog procedure will allow us to capture the // SC_CONTEXTHELP button on the title bar from Windows and // forward it as a simple WM_HELP message back to the dialog. INT_PTR CALLBACK DialogPreProc(HWND hwndDlg, UINT uMsg, WPARAM wParam, LPARAM lParam) { if (uMsg == WM_SYSCOMMAND && wParam == SC_CONTEXTHELP) { uMsg = WM_HELP; wParam = 0; lParam = 0; } return CallWindowProc((WNDPROC)g_dlgProcStack->proc, hwndDlg, uMsg, wParam, lParam); }  
```  
  
##### Кнопки справки в управляемом коде  
 Переопределение поведения по умолчанию окна кнопка заголовка окна справки прост в управляемом коде. Ниже приведен полный демонстрационного приложения, который демонстрирует эту ситуацию. По сути, необходимо переопределить формы **WndProc** метода и затем fire отключение справки F1 запросов при **SC\_CONTEXTHELP** перехватывает сообщения.  
  
```  
using System; using System.Windows.Forms; public class HelpForm : Form { private const int SC_CONTEXTHELP = 0xF180; private const int WM_SYSCOMMAND = 0x0112; public HelpForm() { this.ClientSize = new System.Drawing.Size(300, 250); this.HelpButton = true; this.MaximizeBox = false; this.MinimizeBox = false; this.Name = "HelpForm"; this.Text = "Help Form"; } protected override void WndProc(ref Message m) { if (m.Msg == WM_SYSCOMMAND && SC_CONTEXTHELP == (int)m.WParam) ShowHelp(); else base.WndProc(ref m); } private void ShowHelp() { MessageBox.Show("F1 Help goes here."); } [STAThread] static void Main() { Application.EnableVisualStyles(); Application.EnableRTLMirroring(); Application.Run(new HelpForm()); } }  
```  
  
## См. также  
 [Шрифты и форматирование для Visual Studio](../../extensibility/ux-guidelines/fonts-and-formatting-for-visual-studio.md)   
 [Макет для Visual Studio](../../extensibility/ux-guidelines/layout-for-visual-studio.md)   
 [Уведомления и хода выполнения для Visual Studio](../../extensibility/ux-guidelines/notifications-and-progress-for-visual-studio.md)
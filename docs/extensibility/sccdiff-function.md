---
title: "Функция SccDiff | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "SccDiff"
helpviewer_keywords: 
  - "Функция SccDiff"
ms.assetid: d49bc8c5-f631-4153-9d3c-feb3564da305
caps.latest.revision: 16
caps.handback.revision: 16
ms.author: "gregvanl"
manager: "ghogen"
---
# Функция SccDiff
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Эта функция отображает \(или при необходимости просто проверяет\) различия текущего файла \(на локальном диске\) и его последней возвращенной версии в источнике системы управления.  
  
## Синтаксис  
  
```cpp#  
SCCRTN SccDiff(  
   LPVOID    pvContext,  
   HWND      hWnd,  
   LPCSTR    lpFileName,  
   LONG      fOptions,  
   LPCMDOPTS pvOptions  
);  
```  
  
#### Параметры  
 pvContext  
 \[in\] Структура подключаемого модуля контекста исходного элемента управления.  
  
 hWnd  
 \[in\] Дескриптор окна интегрированной среды разработки, подключаемый модуль системы управления версиями можно использовать в качестве родительского для все диалоговые окна, которые он предоставляет.  
  
 lpFileName  
 \[in\] Имя файла, для которого запрашивается разницу.  
  
 Возможности  
 \[in\] Команда флаги. Дополнительные сведения см.  
  
 pvOptions  
 \[in\] Параметры конкретного подключаемого модуля системы управления версиями.  
  
## Возвращаемое значение  
 Реализации подключаемого модуля управления источника этой функции должен возвращать одно из следующих значений:  
  
|Значение|Описание|  
|--------------|--------------|  
|SCC\_OK|Версия рабочей копии и сервера совпадают.|  
|SCC\_I\_FILESDIFFERS|Рабочая копия отличается от версии в системе управления версиями.|  
|SCC\_I\_RELOADFILE|Файл или проект должен быть перезагружен.|  
|SCC\_E\_FILENOTCONTROLLED|Файл не существует в системе управления версиями.|  
|SCC\_E\_NOTAUTHORIZED|Для выполнения этой операции не разрешено пользователю.|  
|SCC\_E\_ACCESSFAILURE|Произошла ошибка при доступе к системе управления версиями, вероятно, из\-за проблемы с сетью или конфликтов. Рекомендуется повторить операцию.|  
|SCC\_E\_NONSPECIFICERROR|Неспецифическая ошибка; различия между файлами, не было получено.|  
|SCC\_E\_FILENOTEXIST|Локальный файл не найден.|  
  
## Заметки  
 Эта функция выступает в двух различных целей. По умолчанию он отображает список изменений в файл. Подключаемый модуль системы управления версиями откроется отдельное окно, в том формате, он выбирает для отображения различий между пользовательским файлом на диске и последнюю версию файла в системе управления версиями.  
  
 Кроме того интегрированной среды разработки просто необходимо определить, является ли файл был изменен. Например интегрированной среды разработки может потребоваться определить, является ли безопасного извлечения файла без уведомления пользователя. В этом случае передает IDE `SCC_DIFF_CONTENTS` флаг. Подключаемый модуль системы управления версиями необходимо проверить файл на диске, байт за байтом, с версиями файла и возвращает значение, указывающее, различаются ли два файла не отображаются для пользователя.  
  
 Для оптимизации производительности, подключаемый модуль системы управления версиями может использовать альтернативное, на основе контрольной суммы или метку времени вместо сравнения байт за байтом, вызываемые для `SCC_DIFF_CONTENTS`: эти формы сравнения очевидно быстрее, но менее надежной. Не все системы управления версиями может поддерживать эти методы альтернативные сравнения и подключаемый модуль может потребоваться переключиться на сравнение содержимого. Все источника подключаемые модули управления должен как минимум, поддерживать сравнение содержимого.  
  
> [!NOTE]
>  Флаги быстрого различие являются взаимоисключающими. Передать флаги не допускается, но одновременно передавать несколько недопустимо.`SCC_DIFF_QUICK_DIFF`, являющийся маской, объединяющее все флаги можно использовать для тестирования, но никогда не должны передаваться как параметр.  
  
|`fOption`|Смысл|  
|---------------|-----------|  
|SCC\_DIFF\_IGNORECASE|Сравнение без учета регистра \(может использоваться для быстрого либо visual разницы\).|  
|SCC\_DIFF\_IGNORESPACE|Игнорирует пробелы \(может использоваться для быстрого либо visual разницы\).|  
|SCC\_DIFF\_QD\_CONTENTS|Автоматически сравнивает файла байт за байтом.|  
|SCC\_DIFF\_QD\_CHECKSUM|Автоматически сравнивает файл с помощью контрольной суммы, когда это возможно. Если не поддерживается, возвращается к сравнения содержимого.|  
|SCC\_DIFF\_QD\_TIME|Автоматически сравнивает файл с помощью его отметки времени, когда это возможно. Если не поддерживается, возвращается к сравнения содержимого.|  
  
## См. также  
 [Функции API подключаемого модуля источника элемента управления](../extensibility/source-control-plug-in-api-functions.md)
---
title: "Общеязыковая среда выполнения и вычисление выражения | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- debugging [Debugging SDK], expression evaluation
- expression evaluation, and common language runtime
ms.assetid: b36c1eb5-1aaf-48a6-b287-ee7a273d2b1c
caps.latest.revision: "15"
author: gregvanl
ms.author: gregvanl
manager: ghogen
ms.workload: vssdk
ms.openlocfilehash: f3fe862f0115ae4890bd07e0b4f0171ecafcb4b7
ms.sourcegitcommit: 32f1a690fc445f9586d53698fc82c7debd784eeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="common-language-runtime-and-expression-evaluation"></a>Общеязыковая среда выполнения и вычисление выражений
> [!IMPORTANT]
>  В Visual Studio 2015 этот способ реализации вычислители выражений является устаревшим. Сведения о реализации вычислители выражений CLR, см. в разделе [вычислители выражений CLR](https://github.com/Microsoft/ConcordExtensibilitySamples/wiki/CLR-Expression-Evaluators) и [управляемых образец средства оценки выражений](https://github.com/Microsoft/ConcordExtensibilitySamples/wiki/Managed-Expression-Evaluator-Sample).  
  
 Компиляторы, такие как Visual Basic и C# (произносится как "Си-шарп"), что целевое Common Language Runtime (CLR), создают Microsoft промежуточного языка MSIL, который затем компилируется в машинный код. Среда CLR предоставляет модуля отладки (DE) для отладки конечный код. Если вы планируете интегрировать собственный язык программирования в СРЕДЕ Visual Studio, можно скомпилировать в код MSIL и поэтому не придется писать собственные DE. Тем не менее необходимо написать вычислитель выражений (EE), поддерживающий вычисление выражений в контексте объекта на языке программирования.  
  
## <a name="discussion"></a>Обсуждение  
 Для создания набора объектов данных и набор операторов, используемых для работы с ними обычно синтаксический анализ выражения на языке компьютера. Например выражение «A + B» может быть проанализирован для применения оператора сложения (+) для данных объектов «» и «Б», что может привести к другой объект данных. Общий набор объектов данных, операторов и их связи с наиболее часто представлены в программе с дерева с операторами в узлах дерева и объекты данных в ветвях. Выражение, которое разбиваются на форме дерева часто называют Проанализированное дерево.  
  
 После синтаксического анализа выражения символ поставщика услуг, вызываемый для определения каждого объекта данных. Например, если «A» определен в более чем один метод, а затем вопрос «Какие A?» необходимо ответить, чтобы получить значение A Возможно установить. Ответ, возвращенный хранимой Процедуры — примерно «Третий элемент в пятой кадре стека» или «A, который составляет 50 байт после начала статической памяти выделено в этот метод.»  
  
 Помимо создания MSIL для самой программы, компиляторы CLR также позволяет создавать непонятными отладочную информацию, которая записывается в файл базы данных программы (.pdb). При условии, что частные компилятор создает отладочную информацию в том же формате, компиляторы CLR, SP среды CLR может определить, что языка именованных объектов данных. После идентификации объекта именованных данных EE используется объект связывателя связывание (или привязки) объект данных в область памяти, содержащий значение этого объекта. DE можно получить или задать новое значение для объекта данных.  
  
 Собственный компилятор может предоставить среды CLR отладочную информацию, вызвав `ISymbolWriter` интерфейс (который определен в .NET Framework в пространстве имен `System.Diagnostics.SymbolStore`). Компиляция в MSIL и записи информации отладки через эти интерфейсы, можно использовать собственный компилятора CLR DE и SP. Это значительно упрощает интеграцию специального языка в Интегрированной среде разработки Visual Studio.  
  
 Когда CLR DE вызывает собственный EE для оценки выражения, DE предоставляет EE с интерфейсами (SP2) и объект связывателя. Таким образом написание средства ядра отладки на основе CLR это необходимо только для реализации интерфейсов оценки подходящим выражением. Среда CLR обеспечивает привязки и символ обработки для вас.  
  
## <a name="see-also"></a>См. также  
 [Написание выражений CLR](../../extensibility/debugger/writing-a-common-language-runtime-expression-evaluator.md)
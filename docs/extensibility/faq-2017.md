---
title: "Часто задаваемые вопросы | Документы Microsoft"
ms.custom: 
ms.date: 11/09/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 345855db-0cc3-45aa-8c57-bb18d9789772
caps.latest.revision: "1"
author: kevinfansler
ms.author: v-kefans
manager: pchapman
ms.workload: v-kefans
ms.openlocfilehash: ec64dd4a1e05e72fc51c8fd7fe540d7a67682cd6
ms.sourcegitcommit: 32f1a690fc445f9586d53698fc82c7debd784eeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="faq-for-visual-studio-2017-extensibility"></a>Часто задаваемые вопросы по расширяемости Visual Studio 2017 г.

Ниже приведены некоторые часто задаваемые вопросы о расширении среды Visual Studio 2017 г.

## <a name="what-is-the-backwards-compatibility-story-for-extensions"></a>Что такое обратной совместимости баллов истории для расширения?

Новый формат v3 VSIX совместима с VSIX v2, чтобы вы по-прежнему может существовать одно расширение VSIX с одного идентификатора VSIX, который поддерживает Visual Studio 2012 и более поздней версии. Новый формат v3 VSIX не поддерживает Visual 2010 и более ранних версий. Для поддержки Visual Studio 2010 и Далее необходимо создать отдельное расширение (с Идентификатором отдельный VSIX). В Visual Studio 2010 небольшой процент от базу пользователей, рекомендуется использовать существующий идентификатор VSIX для расширения, который поддерживает Visual Studio 2012 или более поздней версии и назначьте новый идентификатор VSIX до версии Visual Studio 2010.

## <a name="why-do-i-need-to-declare-prerequisites-with-visual-studio-2017"></a>Почему необходимо объявлять необходимых компонентов Visual Studio 2017 г?

2017 г. Visual Studio позволяет быстрее и влияние светлее установки Visual Studio, обеспечивает повышенный контроль пользователей над рабочих нагрузок и установленные компоненты. Чтобы убедиться, что компоненты, необходимые для расширения установлены с VSIX v3 и Visual Studio 2017 г., необходимо объявить компоненты, от которых зависит модуля в качестве необходимых компонентов. Если любой из необходимых компонентов не доступен на компьютере пользователя, пользователь будет невозможно запустить расширение. Тем не менее если Visual Studio обнаружит, что пользователь пытается установить расширение, необходимы отсутствующие компоненты, будет выведен запрос, чтобы установить необходимые компоненты. Если установлены дополнительные компоненты, нет необходимости перечислять в качестве необходимых компонентов, предоставляемых во время выполнения обнаружения соответствующую функцию. Все расширения необходимо указать основной компонент редактора, как элемент dependency Microsoft.VisualStudio.Component.CoreEditor.

## <a name="when-you-say-prerequisite-what-level-of-granularity-do-you-mean"></a>Говоря необходимого компонента, уровень гранулярности имеется в виду?

Для объявления необходимых компонентов на уровне компонента, то есть отдельных параметров, которые могут быть выбраны в пользовательском Интерфейсе. Не объявляйте предварительные требования для рабочих нагрузок или отдельных библиотек DLL.

## <a name="where-do-i-find-a-list-of-component-ids-so-i-can-declare-dependencies"></a>Где найти список идентификаторов компонента, поэтому можно объявить зависимости?

Чтобы найти список идентификаторов компонента, взгляните на [нагрузки 2017 г. Visual Studio и идентификаторов компонентов](https://aka.ms/vs2017componentIDs). Если вы не уверены, какой компонент содержит определенного двоичного файла, можно загрузить [компонентов -> Сопоставление двоичных объектов электронной таблицы](https://aka.ms/vs2017componentid-binaries). Дополнительные сведения об использовании электронной таблицы см. в разделе **поиск идентификаторов компонентов** статьи [как: миграция расширяемости проектов для Visual Studio 2017 г](how-to-migrate-extensibility-projects-to-visual-studio-2017.md).

## <a name="my-extension-requires-visual-studio-153-how-do-i-enforce-that-requirement"></a>Расширение My требует 15,3 Visual Studio, как применять этого требования?

Если расширение требует определенной версии Visual Studio 2017 г., например, зависит от компонентов, выпущенные в 15,3, можно указать номер сборки в вашего VSIX **InstallationTarget**. Например версия 15,3 содержит ряд построения "15.0.26730.3». Вы увидите сопоставление выпусков для номера построения [здесь](../install/visual-studio-build-numbers-and-release-dates.md). Обратите внимание, что с помощью номера версии «15.3"не будет работать правильно.

Если для модуля требуется 15,3 или более поздней версии, можно объявить **InstallationTarget версии** как [15.0.26730.3, 16.0):

```xml
<Installation>
  <InstallationTarget Id="Microsoft.VisualStudio.Community" Version="[15.0.26730.3, 16.0)" />
</Installation>
```

VSIXInstaller обнаружит более ранних версиях Visual Studio и информировать пользователей о том, что более позднее обновление является обязательным.

## <a name="i-keep-getting-an-error-when-i-try-to-upload-my-extension"></a>Почему произошла ошибка при попытке загрузить расширение my.

Это возможно, вы используете старую версию манифеста VSIX. Если модуль помечен как поддерживающий 2017 г. для Visual Studio, но не использует новый формат манифеста VSIX v3, его нельзя передать его.

## <a name="i-use-my-own-installer-can-i-continue-to-do-that"></a>Я использую свой собственный установщик. Можно продолжать работу, делать?

С помощью Visual Studio 2017 г. Минимальная установка Visual Studio будет намного меньше, чем предыдущие версии.

Мы улучшили формат манифеста VSIX для поддержки изменения, необходимые для установки недоступно. Возможно, мы рекомендуем предоставляют расширения в формате VSIX v3. Может потребоваться поддерживать существующие установщик для определенных сценариев как при установке компонентов вне Visual Studio.

Например если вам требуется MSBuild, следует указать, как необходимый компонент в VSIX-ФАЙЛ манифеста. При установке VSIX установщик убедитесь, что доступен MSBuild.

Затем установщик вызывает VSIXInstaller, чтобы установить расширение VSIX с помощью компонентов Visual Studio 2017 г.

## <a name="can-you-give-me-more-migration-guidance"></a>Приведите Дополнительные инструкции по миграции?

Дополнительные сведения в [как: миграция расширяемости проектов для Visual Studio 2017 г](how-to-migrate-extensibility-projects-to-visual-studio-2017.md). Кроме того, имеется в блоге, [изменения установки Visual Studio](https://blogs.msdn.microsoft.com/heaths/2016/09/15/changes-to-visual-studio-15-setup).

## <a name="how-do-i-do-package-registration"></a>Как сделать пакет регистрации?

Пакет регистрации так же, как это было в прошлом с записями реестра. Единственным изменением является реестра теперь выполняется detoured и записей реестра из pkgdef-файл, необходимо объявить.

Если вы используете `PackageRegistrationAttribute`, это должно происходить автоматически.

## <a name="will-i-need-a-new-gallery-entry-for-the-visual-studio-2017-version-of-my-extension"></a>Будет необходимо новый элемент коллекции для версии Visual Studio 2017 г. расширение my

Нет, не нужно новую запись в коллекции Visual Studio для обновленной VSIX, предоставляемых изменений являются полностью совместимы со всеми поддерживаемыми версиями. Если модуль не имеет обратной совместимости, рекомендуется расширение разбить на несколько VSIXs (даже если временно), каждый из которых собственный идентификатор VSIX и запись в коллекции.

## <a name="what-should-i-do-with-my-extension-that-currently-supports-visual-studio-2010-and-later"></a>Что делать с моей расширения, в настоящее время поддерживает Visual Studio 2010 и более поздних версий

Добавить поддержку для Visual Studio 2017 г текущего VSIX и обеспечения поддержки Visual Studio 2012 и более поздних версий. Кроме того можно создайте новый VSIX (с новой строки GUID и коллекции) с поддержкой для Visual Studio 2010.

## <a name="can-i-build-a-vsix-v3-with-visual-studio-2015"></a>Можно построить v3 VSIX с помощью Visual Studio 2015

Да. Отсутствует пакет NuGet, который содержит необходимые средства и задачи для создания манифестов форматирования v3 VSIX в Visual Studio 2015. Добавьте ссылку на пакет NuGet `Microsoft.VisualStudio.Sdk.BuildTasks.14.0` проект расширяемости. Также необходимо будет добавить `VsixType` указания элемента `v3` в файл проекта:

```xml
  <VsixType>v3</VsixType>
```

## <a name="can-i-run-the-vsixinstaller-in-quiet-mode"></a>Можно запускать VSIXInstaller в тихом режиме?

Необходимо задать дополнительные параметры VSIXInstaller теперь, потенциально несколько экземпляров Visual Studio установлена 2017 г.

```bash
vsixinstaller.exe /q /appidinstallpath:"c:\program files (x86)\Microsoft Visual Studio\2017\Enterprise\Common7\IDE\devenv.exe" /appidname:"Visual Studio" /logFile:<path to log file> /skuName:Enterprise /skuVersion:15.0.25810.0 "KendoUI.Mvc.VSPackage.vsix"
```

## <a name="why-does-the-vsixinstaller-now-wait-for-processes-to-exit-before-installing-the-vsix"></a>Почему VSIXInstaller теперь дождаться процессов для выхода перед установкой VSIX?

VSIXInstaller теперь использует механизм установки Visual Studio для установки необходимых компонентов определяется VSIX. Программа установки требует все связанные процессы VS для выхода, прежде чем его можно обновить установку Visual Studio.

## <a name="can-i-now-install-my-extension-assets-to-any-location-with-vsix-v3"></a>Мои активы расширение теперь установить в любое место с VSIX v3?

Нет, VSIX v3 `InstallRoot` свойства не позволяют установить объекты вне структуру папок для установки Visual Studio. В разделе [установки в папке расширений](set-install-root.md) раздел для поддерживаемых расположений. 

Компоненты расширения, которые не входят в состав Visual Studio могут включать единственных экземпляров на компьютере и получить установлен один раз для всех экземпляров Visual Studio 2017 г.

Рекомендации для этого сценария будет создавать MSI для компонентов не Visual Studio и иметь MSI вызова VSIXInstaller для установки отдельных компонентов Visual Studio.
---
title: "Описание шаблона каталога (. Файлы VSDir) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "файлов VSDir"
  - "Файлы VSDIR"
  - "файлы описания каталога шаблонов"
ms.assetid: 9df51800-190e-4662-b685-fdaafcff1400
caps.latest.revision: 8
caps.handback.revision: 8
ms.author: "gregvanl"
manager: "ghogen"
---
# Описание шаблона каталога (. Файлы VSDir)
[!INCLUDE[vs2017banner](../../code-quality/includes/vs2017banner.md)]

Файл описания шаблона каталога (.vsdir) является текстовый файл, который включает интегрированную среду разработки (IDE), чтобы отобразить папки, мастера VSZ-файлы и файлы шаблонов, связанных с проектом в диалоговых окнах. Содержание включает одна запись в файл или папку. Несмотря на то, что только один VSDir-файл, как правило, предоставляется для описания нескольких папок, мастера или файлы шаблонов объединяются всех файлов VSDir в расположении, на которую указывает ссылка.  
  
 Папки (подкаталоги), файлы, на которые ссылаются на VSDir-файл, а сам VSDir-файл находятся в том же каталоге. Когда запускается мастер интегрированной среды Разработки, или отображает папку или файл в **Новый проект** или **Add New Item** диалоговых окнах IDE проверяет каталог, содержащий выполненного файлы, чтобы определить, присутствует ли VSDir-файл. При обнаружении VSDir-файл, считывает интегрированной среды Разработки, его, чтобы определить, содержит ли запись выполняется или отображаемой папки или файла. Если запись найдена, интегрированная среда Разработки использует информацию выполнения мастера или отображения содержимого.  
  
 Следующий пример кода взят из файла SourceFiles.vsdir в \< EnvSDK>\BscPrj\BscPrj\BscPrjProjectItems\Source_Files раздел реестра:  
  
```  
HeaderFile.h|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#125|130|#126|0|0|0|#127  
SourceFile.cpp|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#122|110|#123|0|0|0|#124  
```  
  
 В этом случае две записи содержатся в одном файле. Строки (возврат каретки) отделяет каждую запись. Каждая строка представляет файл другого типа. Символ вертикальной черты (&#124;) отделяет полей в каждой записи. Единый каталог может содержать несколько файлов VSDir, которые имеют различные имена, или может иметь один VSDir-файл для каждого типа файлов.  
  
## <a name="fields"></a>Поля  
 В следующей таблице перечислены поля, указанные для каждой записи.  
  
|Поле|Описание|  
|-----------|-----------------|  
|Относительный путь (RelPathName)|Имя папки, шаблон или .vsz файла, например HeaderFile.h или MyWizard.vsz. Это поле также может быть имя, используемое для представления в папку.|  
|{clsidPackage}|Идентификатор GUID VSPackage, который обеспечивает доступ к локализованные строки, такие как LocalizedName, описание, IconResourceId и SuggestedBaseName, в VSPackage вспомогательные динамическую библиотеку (DLL) ресурсов. IconResourceId применяется, если DLLPath не задано. **Примечание:**  это поле является необязательным, если один или несколько предыдущих поля представляет собой идентификатор ресурса. Как правило, это поле пусто для файлов VSDir, соответствующих мастеров независимых производителей, которые не локализовать их текст.|  
|LocalizedName|Локализованное имя файла шаблона или мастера. Это поле может быть строка либо идентификатор ресурса в форме «#ResID». Это имя будет отображаться в **Add New Item** диалоговое окно. **Примечание:**  Если LocalizedName является идентификатором ресурса, а затем {clsidPackage} является обязательным.|  
|SortPriority|Целое число, представляющее относительный приоритет данного файла шаблона или мастера. Например если этот элемент имеет значение 1, этот элемент отображается рядом с другими элементами со значением 1 и заранее все элементы, имеющие значение сортировки 2 или больше.<br /><br /> Приоритет сортировки задается относительно элементы в том же каталоге. В том же каталоге может быть несколько VSDir-файл. В этом случае элементы из всех *.*файлы VSDir в этом каталоге объединяются. Элементы с таким же приоритетом, перечислены в регистр лексикографический порядок отображаемое имя.  `_wcsicmp` Функция используется для упорядочения элементов.<br /><br /> Элементы, не описанные в файлов VSDir включают номер приоритета, размер которых превышает наибольший номер приоритета, перечисленные в файлов VSDir. Результатом является то, что эти элементы находятся в конце списка независимо от их имени.|  
|Описание|Локализованное описание файл шаблона или мастера. Это поле может быть строка либо идентификатор ресурса в форме «#ResID». Эта строка отображается в **Новый проект** или **Add New Item** диалоговое окно при выборе элемента.|  
|DLLPath или {clsidPackage}|Используется для загрузки значок файла шаблона или мастера. Значок загружается как ресурс из файла .dll или .exe с помощью IconResourceId. Этот файл .dll или .exe, можно определить с помощью полного пути или по идентификатору GUID VSPackage. Реализация DLL VSPackage используется для загрузки значок (не вспомогательной библиотеки DLL).|  
|IconResourceId|Идентификатор ресурса в реализации библиотеки DLL, которая определяет значок, отображаемый DLL или VSPackage.|  
|Флаги (<xref:Microsoft.VisualStudio.Shell.Interop.__VSDIRFLAGS>)|Используется для включения или отключения **имя** и **расположение** поля на **Add New Item** диалоговое окно. Значение **флаги** поле является десятичный эквивалент сочетание требуемых битовых флагов.<br /><br /> При выборе пользователем элемента на **New** вкладку, проект определяет поля имя и расположение, отображаются ли при **Add New Item** сначала диалоговое окно. Элемент, с помощью VSDir-файл, можно управлять только поля, включены и отключена при выборе элемента.|  
|SuggestedBaseName|Представляет имя по умолчанию для файла, мастера или шаблона. Это поле является строка либо идентификатор ресурса в форме «#ResID». Интегрированная среда Разработки использует это значение для предоставления имени по умолчанию для элемента. Это основное значение дополняется целочисленное значение, чтобы сделать имя уникальным, например MyFile21.asp.<br /><br /> В предыдущем списке Описание, DLLPath, IconResourceId, флаги и SuggestedBaseNumber относятся только к файлы шаблонов и мастера. Эти поля не применяются к папкам. Это продемонстрировано в код в файле BscPrjProjectItems в \< EnvSDK>\BscPrj\BscPrj\BscPrjProjectItems реестра. Этот файл содержит три записи (по одному для каждой папки) с четыре поля для каждой записи: RelPathName {clsidPackage} LocalizedName и SortPriority.<br /><br /> `General&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#110&#124;100`<br /><br /> `Source_Files&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#111&#124;110`<br /><br /> `Env&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#112&#124;120`|  
  
 При создании файла мастера также следует учитывать следующие проблемы.  
  
-   Любое необязательное поле, для которого нет определенного значения должны содержать 0 (ноль) в качестве заполнителя.  
  
-   Если локализованное имя не указано, имя относительного пути используется в файле мастера.  
  
-   DLLPath переопределяет clsidPackage расположение значка.  
  
-   Если значок не определен, IDE подставляет значок по умолчанию для файла, где расширение.  
  
-   Если нет предлагаемое базовое имя не указано, используется «Project».  
  
-   При удалении VSZ-файлы, папки или файлы шаблона, необходимо также удалить их связанные записи из VSDir-файл.  
  
## <a name="see-also"></a>См. также  
 [Мастера](../../extensibility/internals/wizards.md)   
 [Мастер (. Файл VSZ)](../../extensibility/internals/wizard-dot-vsz-file.md)
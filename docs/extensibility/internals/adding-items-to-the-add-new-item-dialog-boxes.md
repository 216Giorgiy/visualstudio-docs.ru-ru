---
title: Добавление элементов, чтобы добавить новый элемент диалоговым окнам | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- Add New Item dialog box, adding items
ms.assetid: 2f70863b-425b-4e65-86b4-d6a898e29dc7
author: gregvanl
ms.author: gregvanl
manager: douge
ms.workload:
- vssdk
ms.openlocfilehash: a24a6d531812a170768f8c100f14ad64ab1e68c5
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="adding-items-to-the-add-new-item-dialog-boxes"></a>Добавление элементов, чтобы добавить новый элемент диалоговые окна
Добавление элементов в процесс **Добавление нового элемента** запускает диалоговое окно с разделами реестра. Как показано в следующем разделе реестра в разделе AddItemTemplates содержит путь и имя каталога в элементы, которые были доступны в **Добавление нового элемента** помещаются диалоговое окно.  
  
> [!NOTE]
>  Следующий сегмент кода сразу таблица содержит дополнительные сведения о параметре реестра.  
  
 Этот раздел находится в разделе [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\VisualStudio\14.0Exp\Projects].  
  
 Первый идентификатор GUID — это CLSID для проектов этого типа; второй идентификатор GUID указывает тип зарегистрированного проекта для шаблонов добавить элементы.  
  
 \\\1 \AddItemTemplates\TemplateDirs\ {ACEF4EB2-57CF-11D2-96F4-000000000000} {C061DB26-5833-11D2-96F5-000000000000}  
  
 @="#6"  
  
 «TemplatesDir «=»\<путь установки Visual Studio SDK\\\VSIntegration\\\SomeFolder\\\SomePackage\\\SomeProject\\\SomeProjectItems»  
  
 «SortPriority» = dword:00000064  
  
|name|Тип|Данные (RGS-файла)|Описание|  
|----------|----------|-----------------------------|-----------------|  
|@ (По умолчанию)|REG_SZ|#% IDS_ADDITEM_TEMPLATES_ENTRY %|Идентификатор ресурса для **добавить элемент** шаблонов.|  
|Val TemplatesDir|REG_SZ|%TEMPLATE_PATH%\ SomeProjectItems|Путь проекта элементов, отображаемых в диалоговом окне для **Добавление нового элемента** мастера.|  
|Val SortPriority|REG_DWORD|100 ([!INCLUDE[vcprx64](../../extensibility/internals/includes/vcprx64_md.md)])|Определяет порядок сортировки в узле дерева файлов, отображаемых в **Добавление нового элемента** диалоговое окно.|  
  
> [!NOTE]
>  Идентификаторы GUID для типов проектов Visual C# и Visual Basic, следующим образом:[!INCLUDE[csprcs](../../data-tools/includes/csprcs_md.md)]: {FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}[!INCLUDE[vbprvb](../../code-quality/includes/vbprvb_md.md)]: {F184B08F-C81C-45F6-A57F-5ABD9991F28F}  
  
 Каталог, указанные для TemplateDirs, который является % TEMPLATE_PATH%\SomeProjectItems, — это узел слева от **Добавление нового элемента** дерева поле диалогового окна. Дополнительные элементы в дереве основаны на подкаталог в этом корневом каталоге. Можно добавить в проект файлы являются элементы в правой части **Добавление нового элемента** диалоговое окно.  
  
 Как правило эта папка будет содержать файлы шаблонов для проекта, например шаблон HTML или CPP-файл и любые VSZ-файлы для запуска мастера. Чтобы управлять отображением элементов, можно также включить .vsdir файлов для локализации имен папок и значков. Локализованная строка имеет заголовок, отображаемый в диалоговом окне, который представляет этот узел в дереве диалоговое окно Добавление нового элемента.  
  
 Тем не менее у вас есть все, что в одной VSDir-файл. Может иметь один VSDir-файл для каждого элемента в каталоге. Дополнительные сведения см. в разделе [мастер (. Файл VSZ)](../../extensibility/internals/wizard-dot-vsz-file.md) и [описание шаблона каталога (. Файлы VSDir)](../../extensibility/internals/template-directory-description-dot-vsdir-files.md).  
  
> [!NOTE]
>  Файлы .vsdir в каталогах шаблона являются необязательными. Если вы хотите поместить элемент проекта в каталог и отобразит в **Добавление нового элемента** диалоговое окно, можно поместить этот файл в каталоге шаблонов, указанных в инструкции TemplatesDir. Файл будет отображаться в правой части **Добавление нового элемента** диалоговое окно для этого проекта. Тем не менее если требуется для отображения локализованного подписи для файла или значок, должен включать по крайней мере один VSDir-файл в каталоге шаблонов.  
  
## <a name="grouping-project-items"></a>Группирование элементов проекта  
 Требуется для хранения групп шаблонов в папках в **Добавление нового элемента** дерева диалогового окна поле, необходимо иметь корневой шаблон в каталоге с элементами в них. Когда **Добавление нового элемента** диалоговое окно отображается для пользователей, будут также просмотреть вложенные папки и сможет выбирать элементы проекта из них.  
  
 Приоритет сортировки в сегмент кода определяет, где этот каталог шаблон будет создан в дереве относительно других элементов узла дерева. Для **Добавление нового элемента** диалоговом приоритет сортировки — все, что необходимо включить, чтобы элементы будут отображаться в нужное место в диалоговом окне.  
  
 Вы также можете реализовать <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2> интерфейс для фильтрации отображаемых в **Добавление нового элемента** диалоговое окно. Реализовав этот интерфейс, можно выполнить настройку один шаблон каталог на диск, содержащий, например, 50 файлы шаблонов и мастера. Таким образом что для различных типов проектов с 20 файлов, принадлежащих одного типа проекта, 30 файлов, принадлежащих к другому типу проекта и все файлы, входящие в общий тип проекта. Таким образом, в зависимости от того, какой проект создания шаблона, можно отобразить набор файлов шаблонов.  
  
 Например в проекте Visual Basic может потребоваться веб-проектов и клиентских проектов. Веб-формы не полезные элементы для добавления в проект клиента, и windows forms не являются полезные элементы для добавления в проект веб-сервера. Таким образом можно создать один шаблон каталог, содержащий файлы для обоих типов проектов. Затем путем реализации <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>, можно скрыть элементы, которые не должны отображаться в зависимости от типа проекта или параметры проекта в проекте.  
  
## <a name="filtering-project-items"></a>Фильтрация элементов проекта  
 `IVsFilterAddProjectItemDlg2` предоставляет для фильтрации элементов в дереве (левая панель), файлы проекта (правая панель), одним из следующих способов:  
  
-   Локализованные имена (заголовки, отображаемые в диалоговом окне, содержащихся в VSDir-файл), предоставляемые `IVsFilterAddProjectItemDlg`.  
  
-   Фактические имена файлов и папок на диске (нелокализованное — VSDir-файл), предоставляемые `IVsFilterAddProjectItemDlg`.  
  
-   По категориям, предоставляемые `IVsFilterAddProjectItemDlg2`.  
  
 Для фильтрации по категории, укажите строку категории для элемента в VSDir-файл, например «Веб-формы» или «Item клиента» в Visual Basic. Коду диалогового окна затем извлекает категория классификации из VSDir-файл и передает его вам. Затем можно передать эту информацию в вашу реализацию `IVsFilterAddProjectItemDlg2` для фильтрации **Добавление нового элемента** диалоговое окно по категориям. Можно также фильтровать элементы для веб-страниц, так и клиентских сценариев приложений Win32. Кроме того, можно определить [!INCLUDE[vcprvc](../../code-quality/includes/vcprvc_md.md)] отмечен как Microsoft Foundation Classes (MFC) или библиотеки (классов ATL) элементов активного шаблона элементов. При идентификации этих элементов, система проектов можно определить собственные классификации, чтобы система фильтровать по категории и классификации.  
  
 При реализации этой функции фильтра, не обязательно сопоставлять таблице всех элементов, которые должны быть скрыты. Кроме того, можно просто классифицировать элементы в типы и поместить классификации в VSDir-файл или файлы. Затем можно скрыть элементы, имеющие конкретный класс, реализующий интерфейс. Таким образом, чтобы сделать объекты в **Добавление нового элемента** динамической поле диалогового окна на основе состояния в рамках проекта.  
  
## <a name="see-also"></a>См. также  
 <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>   
 [Регистрация шаблонов проектов и элементов](../../extensibility/internals/registering-project-and-item-templates.md)   
 [CATID для объектов, которые обычно используются для расширения проектов](../../extensibility/internals/catids-for-objects-that-are-typically-used-to-extend-projects.md)   
 [Добавление в проект и шаблоны элементов проекта](../../extensibility/internals/adding-project-and-project-item-templates.md)   
 [Описание шаблона каталога (. Файлы VSDir)](../../extensibility/internals/template-directory-description-dot-vsdir-files.md)   
 [Файл мастера (VSZ-файл)](../../extensibility/internals/wizard-dot-vsz-file.md)
---
title: "Добавление элементов, чтобы добавить новый элемент диалоговые окна | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "Добавить диалоговое окно «новый элемент», добавление элементов"
ms.assetid: 2f70863b-425b-4e65-86b4-d6a898e29dc7
caps.latest.revision: 18
ms.author: "gregvanl"
manager: "ghogen"
caps.handback.revision: 18
---
# Добавление элементов, чтобы добавить новый элемент диалоговые окна
[!INCLUDE[vs2017banner](../../code-quality/includes/vs2017banner.md)]

Добавление элементов в процесс **Добавление нового элемента** диалоговое окно начинается с разделами реестра. Как показано в следующем разделе реестра в разделе AddItemTemplates содержится путь и имя каталога в элементы, которые доступны в **Добавление нового элемента** помещаются диалоговое окно.  
  
> [!NOTE]
>  Следующий сегмент кода сразу таблица содержит дополнительные сведения о записи в реестр.  
  
 Этот раздел находится в разделе \[HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\VisualStudio\\14.0Exp\\Projects\].  
  
 Первый идентификатор GUID — это CLSID для проектов этого типа; второй идентификатор GUID указывает тип зарегистрированного проекта для шаблонов добавить элементы.  
  
 \\1 \\{C061DB26\-5833\-11d2\-96F5\-000000000000}\\AddItemTemplates\\TemplateDirs\\ {ACEF4EB2\-57CF\-11D2\-96F4\-000000000000}  
  
 @\="\#6"  
  
 «TemplatesDir «\=» \< path\\\\VSIntegration\\\\SomeFolder\\\\SomePackage\\\\SomeProject\\\\SomeProjectItems установки пакета SDK для Visual Studio»  
  
 «SortPriority» \= dword:00000064  
  
|Имя|Тип|Данные \(RGS\-файла\)|Описание|  
|---------|---------|---------------------------|--------------|  
|@ \(По умолчанию\)|REG\_SZ|\#% IDS\_ADDITEM\_TEMPLATES\_ENTRY %|Идентификатор ресурса для **Добавить элемент** шаблонов.|  
|Val TemplatesDir|REG\_SZ|%TEMPLATE\_PATH%\\ SomeProjectItems|Путь проекта элементов, отображаемых в диалоговом окне **Добавление нового элемента** мастера.|  
|Val SortPriority|REG\_DWORD|100 \([!INCLUDE[vcprx64](../../extensibility/internals/includes/vcprx64_md.md)]\)|Определяет порядок сортировки на узле дерева файлов, отображаемых в **Добавление нового элемента** диалоговое окно.|  
  
> [!NOTE]
>  Идентификаторы GUID для типов проектов Visual C\# и Visual Basic, следующим образом:[!INCLUDE[csprcs](../../data-tools/includes/csprcs_md.md)]: {FAE04EC0\-301F\-11D3\-BF4B\-00C04F79EFBC}[!INCLUDE[vbprvb](../../code-quality/includes/vbprvb_md.md)]: {F184B08F\-C81C\-45F6\-A57F\-5ABD9991F28F}  
  
 Каталог, указанные для TemplateDirs, который является % TEMPLATE\_PATH%\\SomeProjectItems, — это узел слева от **Добавление нового элемента** дерева поле диалогового окна. Дополнительные элементы в дереве основаны на подкаталог в этом корневом каталоге. Можно добавить в проект файлы являются элементами в правой части **Добавление нового элемента** диалоговое окно.  
  
 Как правило эта папка будет содержать файлы шаблонов для проекта, например шаблон HTML или CPP\-файл и любые VSZ\-файлы для запуска мастера. Чтобы управлять отображением элементов, включаемых файлов VSDir для локализации имен папок и значки. Локализованная строка имеет заголовок, который отображается в диалоговом окне, который представляет этот узел в дереве диалоговое окно Добавление нового элемента.  
  
 Тем не менее у вас есть все, что в один VSDir\-файл. Может иметь один VSDir\-файл для каждого элемента в каталоге. Дополнительные сведения см. в разделах [Мастер \(. Файл VSZ\)](../../extensibility/internals/wizard-dot-vsz-file.md) и [Описание шаблона каталога \(. Файлы VSDir\)](../../extensibility/internals/template-directory-description-dot-vsdir-files.md).  
  
> [!NOTE]
>  Файлов VSDir в каталогах шаблона являются необязательными. Если вы хотите поместить элемент проекта в каталог и отобразит его в **Добавление нового элемента** диалоговом можно поместить этот файл в каталоге шаблонов, указанных в инструкции TemplatesDir. Файл будет отображаться в правой части **Добавление нового элемента** диалоговое окно для этого проекта. Тем не менее если вы хотите отобразить локализованное название файла или значок, необходимо включить хотя бы один VSDir\-файл в каталоге шаблонов.  
  
## Группирование элементов проекта  
 Следует ли включать шаблона групп в папках в **Добавление нового элемента** дерева поле диалогового окна, необходимо иметь подкаталогов в корневой папке шаблона с элементами в них. Когда **Добавление нового элемента** диалоговое окно отображается для пользователей, они также просмотреть вложенные папки и получить возможность выбора из их элементов проекта.  
  
 Приоритет сортировки в сегменте кода определяет, где этот шаблон каталог будет создан в дереве относительно других элементов узла дерева. Для **Добавление нового элемента** диалоговом приоритет сортировки — все, что необходимо включить, чтобы элементы будут отображаться в нужное место в диалоговом окне.  
  
 Также можно реализовать <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2> интерфейс для фильтрации отображаемых в **Добавление нового элемента** диалоговое окно. Путем реализации этого интерфейса, можно выполнить настройку один шаблон каталог на диске, содержащий, например, 50 файлы шаблонов и мастера. Таким образом вы получаете различных типов проектов с 20 файлов, принадлежащих один тип проекта, 30 файлов, принадлежащих к другому типу проекта и все файлы, входящие в общий тип проекта. Таким образом, в зависимости от того, какой проект создается шаблон, можно отобразить другой набор файлов шаблонов.  
  
 Например в проекте Visual Basic может потребоваться веб\-проектов и клиентских проектов. Веб\-формы не полезные элементы для добавления в проект клиента и windows forms не являются полезным элементы для добавления в проект веб\-сервера. Таким образом можно создать один шаблон каталог, содержащий файлы для обоих типов проектов. Затем, реализовав <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>, можно скрыть элементы, которые не должны отображаться на основе типа проекта или параметры проекта в проекте.  
  
## Фильтрация элементов проекта  
 `IVsFilterAddProjectItemDlg2` предоставляет для фильтрации элементов в дереве \(слева\) и файлов проекта \(правая панель\), одним из следующих способов:  
  
-   По локализованные имена \(заголовки, отображаемые в диалоговом окне содержится в VSDir\-файл\) обеспечивает `IVsFilterAddProjectItemDlg`.  
  
-   Фактические имена файлов и папок на диске \(нелокализованное — VSDir\-файл\) предоставляемых `IVsFilterAddProjectItemDlg`.  
  
-   По категории, предоставляемые `IVsFilterAddProjectItemDlg2`.  
  
 Для фильтрации по категории, укажите строку категории для элемента в VSDir\-файл, например «Веб\-формы» или «Клиент элемента» в Visual Basic. Коде диалогового окна затем извлекает классификации категории из VSDir\-файл и передает его вам. Затем можно передать эту информацию в вашу реализацию `IVsFilterAddProjectItemDlg2` для фильтрации **Добавление нового элемента** диалоговое окно по категориям. Можно также отфильтровать элементы для веб\-страниц или в качестве клиента случаи приложений Win32. Кроме того, можно определить [!INCLUDE[vcprvc](../../debugger/includes/vcprvc_md.md)] размеченные элементы Microsoft Foundation Classes \(MFC\) или шаблонных элементов library \(ATL\). При идентификации этих элементов система проектов можно определить свои собственные классы, чтобы система фильтровать по категории и классификации.  
  
 При реализации этой функции фильтрации, не нужно сопоставить таблицу всех элементов, которые должны быть скрыты. Можно просто классифицировать элементы в типы и поместить классификации в VSDir\-файл или файлы. Затем можно скрыть все элементы, которые имеют категорию путем реализации интерфейса. Таким образом, чтобы сделать объекты в **Добавление нового элемента** динамическое поле диалогового окна на основе состояния в рамках проекта.  
  
## См. также  
 <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>   
 [Регистрация шаблонов проектов и элементов](../../extensibility/internals/registering-project-and-item-templates.md)   
 [CATID для объектов, которые обычно используются для расширения проектов](../../extensibility/internals/catids-for-objects-that-are-typically-used-to-extend-projects.md)   
 [Добавление проекта и шаблоны элементов проекта](../../extensibility/internals/adding-project-and-project-item-templates.md)   
 [Описание шаблона каталога \(. Файлы VSDir\)](../../extensibility/internals/template-directory-description-dot-vsdir-files.md)   
 [Мастер \(. Файл VSZ\)](../../extensibility/internals/wizard-dot-vsz-file.md)
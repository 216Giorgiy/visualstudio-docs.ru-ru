---
title: "Выбор каталога установки для VSPackage | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "Пакеты VSPackage, каталог установки"
ms.assetid: 01fbbb5b-f747-446c-afe0-2a081626a945
caps.latest.revision: 17
caps.handback.revision: 17
ms.author: "gregvanl"
manager: "ghogen"
---
# Выбор каталога установки для VSPackage
[!INCLUDE[vs2017banner](../../code-quality/includes/vs2017banner.md)]

VSPackage и его вспомогательные файлы должны находиться в файловой системе пользователя.  Зависит от расположения ли VSPackage или управляемый код находится в автономном режиме, параллельная схема управления версиями и выбор пользователя.  
  
## Автономное VSPackages  
 Автономное VSPackage сервер модели COM, который можно устанавливать в любом месте.  Его необходимо данным о регистрации точно отражает его расположение.  Пользовательский интерфейс установщика \(пользовательский интерфейс\) должен предоставить расположение по умолчанию, как подкаталог свойства установщика Windows ProgramFilesFolder.  Примеры.  
  
 \[ProgramFilesFolder\] MyCompany \\ MyVSPackageProduct \\ V1.0 \\  
  
 Пользователь должен быть разрешен, чтобы изменить каталог по умолчанию для размещения пользователи, которые содержат маленький загрузочный раздел и предпочитающих устанавливать приложения и средства на другом томе.  
  
 Если параллельная схема использует версию VSPackage, то можно использовать вложенные папки для хранения различных версий.  Примеры.  
  
 \[ProgramFilesFolder\] MyCompany \\ MyVSPackageProduct \\ V1.0 \\ 2002 \\  
  
 \[ProgramFilesFolder\] MyCompany \\ MyVSPackageProduct \\ V1.0 \\ 2003 \\  
  
 \[ProgramFilesFolder\] MyCompany \\ MyVSPackageProduct \\ V1.0 \\ 2005 \\  
  
## Управляемое VSPackages  
 Управляемое VSPackages также можно устанавливать в любом месте.  Однако следует всегда устанавливаться в глобальный кэш сборок \(gac\) для сокращения времени загрузки сборки.  Так как управляемое VSPackages всегда сильн\-названо сборками, устанавливать их в глобальном кэше сборок означает, что их проверка подписи строгого имени принимает только во время установки.  Сборки со строгими именами устанавливанные в другом месте файловой системы, должны иметь подписи подтверженной каждый раз, когда они загружаются.  При установке управляемое VSPackages в глобальном кэше сборок, используйте средство regpkg **\/assembly** переключитесь на записи реестра записи, указывающим на строгому имени сборки.  
  
 Если управляемое VSPackages в расположении, отличном от глобального кэша сборок, необходимо выполнить более ранней консультацией заданного для неуправляемого VSPackages для выбора иерархии каталога.  Используйте средство regpkg **\/codebase** переключитесь на записи реестра записи, указывающим на пути сборки VSPackage.  
  
 Дополнительные сведения см. в разделе [Регистрация и Отмена регистрации VSPackages.](../../extensibility/registering-and-unregistering-vspackages.md).  
  
## Вспомогательные библиотеки DLL  
 По соглашению вспомогательной библиотеки DLL \- VSPackage, содержащие ресурсы для конкретного языкового стандарта, \- располагаются в подкаталогах каталога VSPackage.  Вложенные папки соответствуют значениям кода языка \(lcid\).  
  
 [Управление пакеты VSPackage](../../extensibility/managing-vspackages.md) указывает, что записи реестра контролируют, где [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] фактически выполняет поиск VSPackage вспомогательной библиотеки DLL.  Однако [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] пытается загрузить вспомогательной библиотеки DLL в подкаталог с именем значения кода языка в следующем порядке:  
  
1.  По умолчанию код языка \(lcid \\ VS например 1033 для английского\)  
  
2.  По умолчанию код языка по умолчанию подъязыком.  
  
3.  Код языка по умолчанию системы.  
  
4.  Код языка по умолчанию системы с установленным по умолчанию подъязыком.  
  
5.  Клавиатура  Английский \(.  \\ 1033.  0x409 \\\).  
  
 Если библиотека DLL VSPackage включает ресурсы и точки входа реестра \\ SatelliteDll к нему, DllName [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] пытается загрузить их в указанном выше порядке.  
  
## См. также  
 [Выбор между VSPackages общих и управление версиями](../../extensibility/choosing-between-shared-and-versioned-vspackages.md)   
 [Управление пакеты VSPackage](../../extensibility/managing-vspackages.md)   
 [Managed Package Registration](http://msdn.microsoft.com/ru-ru/f69e0ea3-6a92-4639-8ca9-4c9c210e58a1)
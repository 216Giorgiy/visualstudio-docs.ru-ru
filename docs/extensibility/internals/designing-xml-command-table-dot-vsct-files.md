---
title: "Разработка таблицы команд XML (. Файлы Vsct) | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- VSCT files, designing
ms.assetid: bb87a322-bac4-4258-92bc-9a876f05d653
caps.latest.revision: 27
ms.author: gregvanl
manager: ghogen
translation.priority.mt:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 5db97d19b1b823388a465bba15d057b30ff0b3ce
ms.openlocfilehash: 047c23f9571007870e6d4db50f4604713c0d7ea3
ms.lasthandoff: 02/22/2017

---
# <a name="designing-xml-command-table-vsct-files"></a>Разработка таблицы команд XML (. Файлы Vsct)
Команда таблицы (.vsct) XML-файл описывает макет и внешний вид элементов команды VSPackage. Команда элементы включают кнопки, поля со списком, меню, панелей инструментов и групп элементов команды. В этом разделе описываются таблицы командные файлы XML, как они влияют на элементы команды и меню и как их создавать.  
  
## <a name="commands-menus-groups-and-the-vsct-file"></a>Команды, меню, группы и файла .vsct  
 vsct-файлы собраны команд, меню и группы команд. XML-теги в файле .vsct представляют каждый из этих элементов, а также другие связанные элементы, такие как кнопки, команда размещения и точечные рисунки.  
  
 При создании нового VSPackage, запустив [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] шаблона пакета шаблона создает файл .vsct с элементы, необходимые для команды меню, окно инструментов или специализированный редактор, в зависимости от выбора. Затем этот файл .vsct изменить для соответствия требованиям определенных VSPackage. Примеры того, как изменить файл .vsct см. в примерах [расширение меню и команд](../../extensibility/extending-menus-and-commands.md).  
  
 Создать новый, пустой .vsct-файл, в разделе [Практическое руководство: создание. Файл Vsct](../../extensibility/internals/how-to-create-a-dot-vsct-file.md). После создания добавить элементы XML, атрибуты и значения для описания структуры элемента команды в файл. Подробную схему XML, в разделе [Справочник по схемам XML VSCT](../../extensibility/vsct-xml-schema-reference.md).  
  
## <a name="differences-between-ctc-and-vsct-files"></a>Различия между файлами .ctc и .vsct  
 Хотя смысл тегов XML в файл .vsct такие же, как в настоящем, рекомендуется использовать формат файла .ctc, их реализация немного отличается.  
  
-   Новый ** \<extern настроек** тег — где ссылаются другие h-файлы, которые требуется скомпилировать, например, для [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] инструментов.  
  
-   А .vsct файлов поддержки **/ include** инструкции, как файлы .ctc, он также предоставляет новую \< **импорта настроек** элемента. Отличается, **/ include** привносит в **все** информации, но \< **импорта настроек** приводит только к именам.  
  
-   Хотя файлы .ctc требуют файл заголовка, в котором определяется вашей директивы препроцессора, один не является обязательным для vsct-файлы. Вместо этого поместите файл директив в таблицу символов, расположенных в ** \<символ настроек** элементов, расположенных в нижней части файла .vsct.  
  
-   функция файлы .vsct ** \<заметки настроек** тег, который позволяет внедрить любые сведения, например, заметки или даже изображений.  
  
-   Значения хранятся как атрибуты элемента.  
  
-   Команда флаги можно хранить отдельно или с накоплением.  Технология IntelliSense, тем не менее, не работает с накоплением команда флаги. Дополнительные сведения о флагах командной см [элемент Command флаг](../../extensibility/command-flag-element.md).  
  
-   Можно указать несколько типов, такие как раскрывающиеся списки разбиение комбинировать, и т. д.  
  
-   Идентификаторы GUID не проверяется.  
  
-   Каждый элемент пользовательского интерфейса имеет строка, представляющая текст, отображаемый вместе с ним.  
  
-   Родительским является необязательным. Если аргумент опущен, используется значение «Группы неизвестно».  
  
-   Значок аргумент является необязательным.  
  
-   В разделе точечного рисунка — таким же, как .ctc файла, за исключением того, что теперь можно указать имя файла через href, будет извлечено компилятор vsct.exe во время компиляции.  
  
-   ResID--старый идентификатор ресурса растрового изображения можно использовать и по-прежнему работает так же, как и файлы .ctc.  
  
-   HRef--новый метод, который позволяет указать имя файла ресурса точечного рисунка. Предполагается, что используются все, поэтому используется раздел можно пропустить. Компилятор сначала выполняет поиск локальных ресурсов для файла, затем на любых net общих ресурсов и ресурсы, определенные в параметре/i.  
  
-   Соответствующие клавиши — Больше не необходимо указать в эмуляторе. Если вы укажете, компилятор предполагает, что редактор и эмулятор одинаковы.  
  
-   Keychord--была удалена. Новый формат — Key1, Mod1, Key2, Mod2.  Можно указать символ, шестнадцатеричное или VK константа.  
  
 Новый компилятор, vsct.exe, компилирует файлы .ctc и .vsct. Компилятор старый ctc.exe, тем не менее, будет распознавать ни компиляции файлов .vsct.  
  
 Компилятор vsct.exe можно использовать для преобразования существующего файла .cto в файл .vsct. Дополнительные сведения об этом см. в разделе [Практическое руководство: создание. Файл Vsct из существующего. Руководитель технологического отдела компании файл](../../misc/how-to-create-a-dot-vsct-file-from-an-existing-dot-cto-file.md).  
  
## <a name="the-vsct-file-elements"></a>Элементы файла .vsct  
 Таблица команда имеет следующие иерархии и элементы:  
  
 [Элемент CommandTable](../../extensibility/commandtable-element.md) — представляет все команды, группы меню и меню, связанные с VSPackage.  
  
 [Внешний элемент](../../extensibility/extern-element.md) , ссылается на все внешние h-файлами, необходимо объединить с помощью файла .vsct.  
  
 [Включить элемент](../../extensibility/include-element.md) , ссылается на все файлы дополнительных заголовков (h), чтобы скомпилировать вместе с файлом your.vsct. Файл .vsct может включать h-файлы, содержащие константы, определяющие команды, группы меню и меню предоставляемых интегрированной среды разработки или другой VSPackage.  
  
 [Команды элемент](../../extensibility/commands-element.md) , представляющий все отдельные команды, которые могут быть выполнены. Каждая команда имеет следующие четыре дочерних элемента:  
  
 [Элемент меню](../../extensibility/menus-element.md) — представляет все меню и панелей инструментов в VSPackage. Меню являются контейнером для группы команд.  
  
 [Группирует элемент](../../extensibility/groups-element.md) — представляет все группы в VSPackage. Группы представляют собой наборы отдельных команд.  
  
 [Кнопки элемента](../../extensibility/buttons-element.md) , представляющий все кнопки и пункты меню в VSPackage. Кнопки располагаются визуальные элементы управления, которые могут быть связаны с командами.  
  
 [Растровые изображения элемента](../../extensibility/bitmaps-element.md) — представляет все точечных рисунков для всех кнопок в VSPackage. Точечные рисунки имеют рисунков, отображаемых рядом или командных кнопок, в зависимости от контекста.  
  
 [Элемент CommandPlacements](../../extensibility/commandplacements-element.md) — указывает дополнительных местах, где следует поместить отдельных команд в меню VSPackage.  
  
 [Элемент VisibilityConstraints](../../extensibility/visibilityconstraints-element.md) , указывает ли команда отображает все время или только в определенных контекстах, например при отображении определенного диалоговое окно или окно. Меню и команд, которые имеют значение для этого элемента будет отображаться только в том случае, когда активен указанного контекста. По умолчанию задается для отображения команды в любое время.  
  
 [Элемент привязки клавиш](../../extensibility/keybindings-element.md) — указывает все привязки клавиш для команд. То есть, один или несколько сочетаний клавиш, должна быть нажата для выполнения команды, такие как **CTRL + S**.  
  
 [Элемент UsedCommands](../../extensibility/usedcommands-element.md) — Informs [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] , несмотря на то, что указанная команда реализуется другим кодом, при активном текущего VSPackage, оно обеспечивает реализацию команды среды.  
  
 `Symbols Element`— Содержит символ имена и идентификаторы GUID для всех команд в пакете.  
  
## <a name="vsct-file-design-guidelines"></a>. Рекомендации по проектированию файл Vsct  
 Для успешного создания файла .vsct, воспользуйтесь следующими рекомендациями.  
  
-   Команды могут размещаться только в группах, группы могут находиться только в меню и меню могут размещаться только в группах. На самом деле только меню отображаются в Интегрированной среде разработки, групп и команд не.  
  
-   Подменю нельзя задать напрямую в меню, но необходимо назначить в группу, которой назначается в свою очередь, в меню.  
  
-   Команды, подменю и групп могут назначаться одну группу родительских связей или меню с помощью родительского поля их определения директивы.  
  
-   Упорядочение таблицы команд исключительно через родительские поля в директивы имеет существенное ограничение. Директивы, которые определяют объекты могут принимать только один родительский элемент аргумент.  
  
-   Повторное использование команд, группы или подменю требует использования новая директива для создания экземпляра объекта с собственным `GUID:ID` пары.  
  
-   Каждый `GUID:ID` пары должно быть уникальным. Повторное использование команды, которая например, добавленную в меню, панели инструментов или контекстного меню, обрабатывается <xref:Microsoft.VisualStudio.OLE.Interop.IOleCommandTarget>интерфейса.</xref:Microsoft.VisualStudio.OLE.Interop.IOleCommandTarget>  
  
-   Команды и подменю можно также назначить в несколько групп и групп можно назначить несколько меню с помощью [элемент команды](../../extensibility/commands-element.md).  
  
## <a name="vsct-file-notes"></a>. Заметки о Vsct-файла  
 Если внести изменения в файл .vsct после и скомпилировать его и поместить его в собственном вспомогательной библиотеки DLL, следует запустить **/nosetupvstemplates devenv.exe/Setup**. Это заставляет VSPackage ресурсы, указанные в экспериментальном реестра следует зачитывать повторно и внутренней базы данных, который описывает [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] создаются заново.  
  
 Во время разработки можно в нескольких проектах VSPackage быть созданы и зарегистрированы в экспериментальном реестра может привести к путанице помехи в Интегрированной среде разработки. Чтобы устранить эту проблему, можно сбросить экспериментальный куст параметры по умолчанию, удалите все зарегистрированные VSPackages и любые изменения, внесенных в интегрированную среду разработки. Чтобы сбросить экспериментальный куст, используйте средство CreateExpInstance.exe, входящий в состав Visual Studio SDK. Его можно найти в  
  
 **% PROGRAMFILES (x&86;) %\Visual Studio \<версии настроек SDK\VisualStudioIntegration\Tools\Bin\CreateExpInstance.exe**  
  
 Запустите средство, с помощью командной строки **CreateExpInstance/reset**. Помните, что это средство удаляет из экспериментальный куст зарегистрированного VSPackages, обычно не устанавливается вместе с [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)].  
  
## <a name="see-also"></a>См. также  
 [Расширение меню и команд](../../extensibility/extending-menus-and-commands.md)

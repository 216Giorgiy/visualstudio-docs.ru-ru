---
title: "Регистрация шаблонов проектов и элементов | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "проекты [Visual Studio SDK], добавление элементов"
  - "реестр, диалоговое окно «Добавление нового элемента»"
  - "Диалоговое окно ''Добавление нового элемента''"
  - "Добавление нового проекта-диалоговое окно"
  - "реестр, Добавление нового проекта-диалоговое окно"
ms.assetid: 6b909f93-d7f5-4aec-81c6-ee9ff0f31638
caps.latest.revision: 27
caps.handback.revision: 27
ms.author: "gregvanl"
manager: "ghogen"
---
# Регистрация шаблонов проектов и элементов
[!INCLUDE[vs2017banner](../../code-quality/includes/vs2017banner.md)]

Типы проектов необходимо зарегистрировать каталоги, где находятся их шаблонов проектов и элементов проекта.[!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] использует регистрационные данные, связанные с типами проектов, чтобы определить, что нужно показывать в **Добавление нового проекта** и **Добавление нового элемента** диалоговые окна.  
  
 Дополнительные сведения о шаблонах см. в разделе [Добавление проекта и шаблоны элементов проекта](../../extensibility/internals/adding-project-and-project-item-templates.md).  
  
## Записи реестра для проектов  
 В следующих примерах показаны записи реестра в разделе HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\VisualStudio\\ \<*версии*\>. Сопутствующий таблицах описываются элементы, используемые в примерах.  
  
```  
[Projects\{ProjectGUID}]  
@="MyProjectType"  
"DisplayName"="#2"  
"Package"="{VSPackageGUID}"  
"ProjectTemplatesDir"="C:\\MyProduct\\MyProjectTemplates"  
```  
  
|Имя|Тип|Описание|  
|---------|---------|--------------|  
|@|REG\_SZ|Имя по умолчанию проекты такого рода.|  
|DisplayName|REG\_SZ|Идентификатор ресурса имени должно быть извлечено из вспомогательной библиотеке DLL зарегистрировано пакетов.|  
|Пакет|REG\_SZ|КОД класса пакет, зарегистрированный в пакеты.|  
|ProjectTemplatesDir|REG\_SZ|По умолчанию путь к файлам проекта шаблона. Файлы шаблонов проекта отображаются по **Новый проект** шаблона.|  
  
### Регистрация шаблонов элементов  
 Каталог, где хранятся шаблоны элементов, необходимо зарегистрировать.  
  
```  
[Projects\{ProjectGUID}\AddItemTemplates\TemplateDirs\{VSPackageGUID}\1]  
@="#7"  
"TemplatesDir"="C:\\MyProduct\\MyProjectItemTemplates "  
"TemplatesLocalizedSubDir"="#10"  
"SortPriority"=dword:00000064  
```  
  
|Имя|Тип|Описание|  
|---------|---------|--------------|  
|@|REG\_SZ|Идентификатор ресурса для шаблонов добавить элемент.|  
|TemplatesDir|REG\_SZ|Путь проекта элементов, отображаемых в диалоговом окне **Добавление нового элемента** мастера.|  
|TemplatesLocalizedSubDir|REG\_SZ|Идентификатор ресурса строки с именем подкаталога TemplatesDir, который содержит локализованные шаблоны. Поскольку [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] загружает строковый ресурс из вспомогательные библиотеки DLL при их наличии, каждой вспомогательной библиотеки DLL может содержать разные локализованные подкаталог с именем.|  
|SortPriority|REG\_DWORD|Задайте SortPriority определяющую порядок отображения шаблонов в **Добавление нового элемента** диалоговое окно. Большие значения SortPriority отображаются выше в списке шаблонов.|  
  
### Регистрация фильтров файлов  
 Кроме того, можно зарегистрировать фильтры, [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] использует при запросе для имен файлов. Например [!INCLUDE[csprcs](../../data-tools/includes/csprcs_md.md)] фильтрации для **Открыть файл** используется диалоговое окно:  
  
 **Visual C\# файлы \(\*.cs, \*.resx, \*.settings, например, XSD, WSDL\); \*.cs, \*.resx, \*.settings, например, XSD, WSDL\)**  
  
 Для поддержки регистрации несколько фильтров, каждый фильтр регистрируется в свой собственный подраздел HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\VisualStudio\\ \<*версии*\> \\Projects\\ {\<*ProjectGUID*\>} \\Filters\\ \<*подраздел*\>. Имя раздела реестра может быть произвольным. [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] игнорирует имя подраздела и использует только его значения.  
  
 Вы можете управлять контексты, в которых используется фильтр, устанавливая флаги, показано в следующей таблице. Если фильтр не имеет флагов, установленных, он будет указан после общие фильтры в **Добавить существующий элемент** диалоговое окно и **Открыть файл** диалоговое окно, но не будет использоваться в **Поиск в файлах** диалоговое окно.  
  
```  
[Projects\{ProjectGUID}\Filters\MyLanguageFilter]  
@="#3"  
"CommonOpenFilesFilter"=dword:00000000  
"CommonFindFilesFilter"=dword:00000000  
"FindInFilesFilter"=dword:00000000  
"NotOpenFileFilter"=dword:00000000  
"NotAddExistingItemFilter"=dword:00000000  
"SortPriority"=dword:00000064  
```  
  
|Имя|Тип|Описание|  
|---------|---------|--------------|  
|CommonFindFilesFilter|REG\_DWORD|Создает фильтр один из распространенных фильтров в **Поиск в файлах** диалоговое окно. В списке фильтров до фильтров, которые не помечены как распространенные перечислены общие фильтры.|  
|CommonOpenFilesFilter|REG\_DWORD|Создает фильтр один из распространенных фильтров в **Открыть файл** диалоговое окно. В списке фильтров до фильтров, которые не помечены как распространенные перечислены общие фильтры.|  
|FindInFilesFilter|REG\_DWORD|Перечислены фильтра после общие фильтры в **Поиск в файлах** диалоговое окно.|  
|NotOpenFileFilter|REG\_DWORD|Указывает, что фильтр не используется в **Открыть файл** диалоговое окно.|  
|NotAddExistingItemFilter|REG\_DWORD|Указывает, что фильтр не используется в **Добавить существующий элемент** диалоговое окно.|  
|SortPriority|REG\_DWORD|Задайте SortPriority для определяют порядок, в котором отображаются фильтры. Большие значения SortPriority отображаются выше в списке фильтров.|  
  
## Структура каталогов  
 Пакеты VSPackage можно поместить шаблон файлов и папок в любом месте на локальном или удаленном диске, при условии, что расположение регистрируется через интегрированную среду разработки \(IDE\). Однако для упрощения организации рекомендуется следующая структура каталогов в пути установки продукта.  
  
 \\Templates  
  
 \\Projects \(содержит шаблоны проектов\)  
  
 \\Applications  
  
 \\Components  
  
 \\ ...  
  
 \\ProjectItems \(содержит элементы проекта\)  
  
 \\Class  
  
 \\Form  
  
 \\Web страницы  
  
 \\HelperFiles \(содержит файлы, используемые в элементах проекта нескольких файлов\)  
  
 \\WizardFiles  
  
## См. также  
 [Добавление проекта и шаблоны элементов проекта](../../extensibility/internals/adding-project-and-project-item-templates.md)   
 [Мастера](../../extensibility/internals/wizards.md)   
 [Локализация приложений](../../ide/localizing-applications.md)   
 [CATID для объектов, которые обычно используются для расширения проектов](../../extensibility/internals/catids-for-objects-that-are-typically-used-to-extend-projects.md)
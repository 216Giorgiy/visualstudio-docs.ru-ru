---
title: "Доступность команд | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "команды, контекст"
  - "пункты меню, видимость контексты"
ms.assetid: c74e3ccf-d771-48c8-a2f9-df323b166784
caps.latest.revision: 34
ms.author: "gregvanl"
manager: "ghogen"
caps.handback.revision: 34
---
# Доступность команд
[!INCLUDE[vs2017banner](../../code-quality/includes/vs2017banner.md)]

Контекст Visual Studio определяет, какие команды доступны. Контекст может меняться в зависимости от текущего проекта, текущий редактор, пакеты VSPackage, который загружаются и других аспектов интегрированную среду разработки \(IDE\).  
  
## Команда контексты  
 В следующем контексте команды являются наиболее частыми.  
  
-   **IDE** команд, предоставляемых IDE всегда доступны.  
  
-   **VSPackage** VSPackages можно определить, когда команды, чтобы отобразить или скрыть.  
  
-   **Проекта** проект команды отображаются только для выбранного проекта.  
  
-   **Редактор** одновременно может быть активна только одна редактор. Доступные команды из активного редактора. Редактор работает в тесном сотрудничестве с языковой службы. Служба языка необходимо обработать его команды в контексте связанного редактора.  
  
-   **Тип файла** редактора можно загрузить более одного типа. Доступные команды можно изменить в зависимости от типа файла.  
  
-   **Активного окна** последнее окно активного документа задает контекст пользовательского интерфейса пользователя для привязки клавиш. Однако окно инструментов, которое содержит таблицу ключ привязки похожа на внутренний веб\-обозреватель можно также задать контекст пользовательского интерфейса. Для документов с несколькими вкладками windows как редактор HTML Каждая вкладка имеет другую команду контекст GUID. После регистрации окно инструментов было всегда доступным на **представление** меню.  
  
-   **Контексте UI** контексты пользовательского интерфейса определяются значения <xref:Microsoft.VisualStudio.VSConstants.UICONTEXT> классов, например, <xref:Microsoft.VisualStudio.VSConstants.UICONTEXT_SolutionBuilding> при построении решения или <xref:Microsoft.VisualStudio.VSConstants.UICONTEXT_Debugging> когда активна отладчик. В то же время может быть активной нескольких контекстов пользовательского интерфейса.  
  
## Определение пользовательского контекста GUID  
 Если соответствующую команду контекста GUID еще не определен, можно определить ее в VSPackage и затем ей быть активными или неактивными, необходимые для управления видимостью вашей команды.  
  
1.  Зарегистрируйте идентификаторы GUID контекста путем вызова <xref:Microsoft.VisualStudio.Shell.Interop.IVsMonitorSelection.GetCmdUIContextCookie%2A> метод.  
  
2.  Получить состояние контекста GUID, вызвав <xref:Microsoft.VisualStudio.Shell.Interop.IVsMonitorSelection.IsCmdUIContextActive%2A> метод.  
  
3.  Включение идентификаторы GUID контекста и выключение путем вызова <xref:Microsoft.VisualStudio.Shell.Interop.IVsMonitorSelection.SetCmdUIContext%2A> метод.  
  
    > [!CAUTION]
    >  Убедитесь, что VSPackage не влияет на любой существующий контекст GUID поскольку их могут зависеть другие пакеты VSPackage.  
  
## См. также  
 [Выбор контекста объектов](../../extensibility/internals/selection-context-objects.md)   
 [Как добавить элементы пользовательского интерфейса в пакеты VSPackage](../../extensibility/internals/how-vspackages-add-user-interface-elements.md)
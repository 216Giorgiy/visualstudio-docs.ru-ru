---
title: Создание категории параметров | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- profile settings, creating categories
ms.assetid: 97c88693-05ff-499e-8c43-352ee073dcb7
author: gregvanl
ms.author: gregvanl
manager: douge
ms.workload:
- vssdk
ms.openlocfilehash: 22a625466dd8a94ba1dbe67ef6f05bec68954d2c
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
ms.locfileid: "31107502"
---
# <a name="creating-a-settings-category"></a>Создание категории параметров
В этом пошаговом руководстве создать категорию параметров Visual Studio и использовать его для сохранения значений и восстановить значения из файла параметров. Категория параметров — это группа связанных свойств, которые отображаются в виде «пользовательские параметры точки»; то есть как флажок в **Импорт и экспорт параметров** мастера. (Можно найти в **средства** меню.) Параметры сохранить или восстановить как категория, и отдельные параметры не отображаются в мастере. Дополнительные сведения см. в разделе [Персонализация интегрированной среды разработки Visual Studio](../ide/personalizing-the-visual-studio-ide.md).  
  
 Создать категорию параметров, производный от класса <xref:Microsoft.VisualStudio.Shell.DialogPage> класса.  
  
 Для этого пошагового руководства необходимо выполнить в первой части [Создание страницы параметров](../extensibility/creating-an-options-page.md). Результирующие параметры сетки свойств позволяет проверить и изменить свойства в категории. После сохранения категории свойства в файле параметров, вы проверяете файл, чтобы увидеть, как хранятся значения свойств.  
  
## <a name="prerequisites"></a>Предварительные требования  
 Начиная с Visual Studio 2015, не установить пакет SDK для Visual Studio из центра загрузки Майкрософт. Он включен в качестве дополнительного компонента в программе установки Visual Studio. VS SDK также можно установить позже. Дополнительные сведения см. в разделе [Установка пакета SDK для Visual Studio](../extensibility/installing-the-visual-studio-sdk.md).  
  
## <a name="creating-a-settings-category"></a>Создание категории параметров  
 В этом разделе используется точки настраиваемых параметров для сохранения и восстановления значения категории параметров.  
  
#### <a name="to-create-a-settings-category"></a>Чтобы создать категорию параметров  
  
1.  Завершить [Создание страницы параметров](../extensibility/creating-an-options-page.md).  
  
2.  Откройте файл VSPackage.resx и добавьте эти три строковые ресурсы.  
  
    |name|Значение|  
    |----------|-----------|  
    |106|Мои категории|  
    |107|Мои параметры|  
    |108|OptionInteger и OptionFloat|  
  
     Создает ресурсы, это имя категории «Мои категории», объект «мои параметры» и описание категории «OptionInteger и OptionFloat».  
  
    > [!NOTE]
    >  Из этих трех имя категории не отображается в мастере импорта и экспорта параметров.  
  
3.  Добавьте в MyToolsOptionsPackage.cs, `float` свойство с именем `OptionFloat` для `OptionPageGrid` класса, как показано в следующем примере.  
  
    ```csharp  
    public class OptionPageGrid : DialogPage  
    {  
        private int optionInt = 256;  
        private float optionFloat = 3.14F;  
  
        [Category("My Options")]  
        [DisplayName("My Integer option")]  
        [Description("My integer option")]  
        public int OptionInteger  
        {  
            get { return optionInt; }  
            set { optionInt = value; }  
        }  
        [Category("My Options")]  
        [DisplayName("My Float option")]  
        [Description("My float option")]  
        public float OptionFloat  
        {  
            get { return optionFloat; }  
            set { optionFloat = value; }  
        }  
    }  
    ```  
  
    > [!NOTE]
    >  `OptionPageGrid` С именем «Мои категории» теперь Категория состоит из двух свойств `OptionInteger` и `OptionFloat`.  
  
4.  Добавить <xref:Microsoft.VisualStudio.Shell.ProvideProfileAttribute> для `MyToolsOptionsPackage` класса и присвойте ему «Мои категории», «категория», добавьте ObjectName «Мои параметры» и isToolsOptionPage присвоено значение true. Значение categoryResourceID, objectNameResourceID и DescriptionResourceID соответствующий строковый ресурс, который ранее созданные идентификаторы.  
  
    ```csharp  
    [ProvideProfileAttribute(typeof(OptionPageGrid),   
        "My Category", "My Settings", 106, 107, isToolsOptionPage:true, DescriptionResourceID = 108)]  
    ```  
  
5.  Выполните сборку решения и запустите отладку. В экспериментальном экземпляре должно появиться **мою страницу сетки** теперь содержит целые и десятичные значения.  
  
## <a name="examining-the-settings-file"></a>Анализ файла параметров  
 В этом разделе вы экспортируете категории значений свойств в файл параметров. Просмотрите файл и затем импортировать обратно в категории свойств значения.  
  
1.  Запустите проект в режиме отладки, нажав клавишу F5. Запустится экспериментальный экземпляр.  
  
2.  Откройте **Сервис / Параметры** диалогового окна.  
  
3.  В представлении дерева в левой области разверните **Мои категории** и нажмите кнопку **мою страницу сетки**.  
  
4.  Измените значение **OptionFloat** для 3,1416 и **OptionInteger** до 12. Нажмите кнопку **ОК**.  
  
5.  На **средства** меню, нажмите кнопку **Импорт и экспорт параметров**.  
  
     **Импорт и экспорт параметров** откроется окно мастера.  
  
6.  Убедитесь, что **Экспортировать выбранные параметры среды** выбран и нажмите кнопку **Далее**.  
  
     **Выберите параметры для экспорта** появится страница.  
  
7.  Нажмите кнопку **мои параметры**.  
  
     **Описание** примет **OptionInteger и OptionFloat**.  
  
8.  Убедитесь, что **мои параметры** только категорией выбран и нажмите кнопку **Далее**.  
  
     **Имя файла параметров** появится страница.  
  
9. Назовите новый файл параметров `MySettings.vssettings` и сохраните его в соответствующий каталог. Нажмите кнопку **Готово**.  
  
     **Экспорт завершен** страница сообщает, что ваши параметры успешно экспортированы.  
  
10. На **файл** последовательно выберите пункты **откройте**, а затем нажмите кнопку **файл**. Найдите `MySettings.vssettings` и откройте его.  
  
     Можно найти категорию свойств, экспортированный в следующем разделе файла (вашего идентификатора GUID будет отличаться).  
  
    ```  
    <Category name="My Category_My Settings"   
          Category="{4802bc3e-3d9d-4591-8201-23d1a05216a6}"   
          Package="{6bb6942e-014c-489e-a612-a935680f703d}"   
          RegisteredName="My Category_My Settings">  
          PackageName="MyToolsOptionsPackage">  
       <PropertyValue name="OptionFloat">3.1416</PropertyValue>   
       <PropertyValue name="OptionInteger">12</PropertyValue>   
    </Category>  
    ```  
  
     Обратите внимание, что имя полного категории образуется путем добавления символа подчеркивания, имя категории, за которым следует имя объекта. OptionFloat и OptionInteger отображаются в категории, вместе с их экспортированного значения.  
  
11. Закройте файл параметров без изменений.  
  
12. На **средства** меню, нажмите кнопку **параметры**, разверните **Мои категории**, нажмите кнопку **мою страницу сетки** и измените значение  **OptionFloat** 1.0 и **OptionInteger** значение 1. Нажмите кнопку **ОК**.  
  
13. На **средства** меню, нажмите кнопку **Импорт и экспорт параметров**выберите **импортировать выбранные параметры среды**, а затем нажмите кнопку **Далее**.  
  
     **Сохранить текущие параметры** появится страница.  
  
14. Выберите **нет, импортировать новые параметры** и нажмите кнопку **Далее**.  
  
     **Выбор набора параметров для импорта** появится страница.  
  
15. Выберите `MySettings.vssettings` файла в **мои параметры** узле представления дерева. Если файл не отображается в представлении в виде дерева, щелкните **Обзор** его найти. Нажмите кнопку **Далее**.  
  
     **Выбор параметров для импорта** откроется диалоговое окно.  
  
16. Убедитесь, что **мои параметры** выбран и нажмите кнопку **Готово**. Когда **Импорт завершен** страницу, нажмите кнопку **закрыть**.  
  
17. На **средства** меню, нажмите кнопку **параметры**, разверните **Мои категории**, нажмите кнопку **мою страницу сетки** и убедитесь, что значения свойств категории были восстановлены.
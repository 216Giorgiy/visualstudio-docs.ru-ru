---
title: Элемент меню | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- vs-ide-sdk
ms.topic: conceptual
helpviewer_keywords:
- VSCT XML schema elements, Menus
- Menus element (VSCT XML schema)
ms.assetid: ce0560f3-b4c9-4ab2-a99c-d4e10f37b9e0
author: gregvanl
ms.author: gregvanl
manager: douge
ms.workload:
- vssdk
ms.openlocfilehash: 5c44ca8a78a331d66d099b8d141c4b66c1144949
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
ms.locfileid: "31143456"
---
# <a name="menu-element"></a>Элемент меню
Определяет один элемент меню. Существуют шесть типа меню: контекстное меню, MenuController, MenuControllerLatched, инструментов и ToolWindowToolbar.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
<Menu guid="guidMyCommandSet" id="MyCommand" priority="0x100" type="button">  
  <Parent>... </Parent>  
  <CommandFlag>... </CommandFlag>  
  <Strings>... </Strings>  
</Menu>  
```  
  
## <a name="attributes-and-elements"></a>Атрибуты и элементы  
 В следующих разделах описаны атрибуты, дочерние и родительские элементы.  
  
### <a name="attributes"></a>Атрибуты  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|guid|Обязательно. Идентификатор GUID идентификатор GUID или идентификатор команды.|  
|id|Обязательно. Идентификатор идентификатор GUID или идентификатор команды.|  
|priority|Необязательный. Числовое значение, указывающее относительное положение элемента меню в группы меню.|  
|ToolbarPriorityInBand|Необязательный. Числовое значение, указывающее относительное положение панели инструментов в полосе, если окно закреплено.|  
|type|Необязательный. Перечисляемое значение, указывающее тип элемента.<br /><br /> Если он отсутствует, значение по умолчанию — меню.<br /><br /> Контекст<br /> Контекстное меню, которое отображается, когда пользователь щелкает правой кнопкой мыши окно. Контекстное меню имеет следующие характеристики:<br /><br /> -Не использует поля родительской и приоритет при меню будет отображаться как контекстное меню.<br />-Может использоваться как подменю, так и в контекстном меню. В этом случае учитываются поля идентификатора группы и приоритета.<br />— Это не всегда доступен.<br /><br /> Контекстное меню отображается только в том случае, когда выполняются следующие условия:<br /><br /> -Окно, на котором размещен отображается.<br />-Обработчик мыши в VSPackage обнаруживает правой кнопкой мыши в окне, а затем вызывает метод, который обрабатывает команду.<br />-Контекстное меню, отображаемых при вызове <xref:Microsoft.VisualStudio.Shell.Interop.IOleComponentUIManager.ShowContextMenu%2A> метод (рекомендуемый подход) или <xref:Microsoft.VisualStudio.Shell.Interop.IVsUIShell.ShowContextMenu%2A> метод.<br /><br /> Меню<br /> Предоставляет раскрывающегося меню. Раскрывающееся меню имеет следующие характеристики:<br /><br /> -Уважает родительский объект в его определение.<br />-Должен иметь родительскую группу или CommandPlacement в группу.<br />-Можно в подменю в меню другого типа.<br />-Автоматически отображаются всякий раз, когда отображается его родительском меню.<br />-Не требует реализации любого кода VSPackage, чтобы сделать их отображения.<br /><br /> MenuController<br /> Предоставляет разворачивающуюся кнопку раскрывающегося меню, которое обычно используется в панели инструментов. Меню MenuController имеет следующие характеристики:<br /><br /> — Должен содержаться в другом меню через родительский или CommandPlacement.<br />-Уважает родительский объект в его определение.<br />-Может быть любого типа меню его родителя.<br />-Автоматически доступны всякий раз, когда отображается его родительском меню.<br />-Не требует программной поддержки для отображения меню отображается.<br /><br /> Команды меню "Разворачивающаяся кнопка" отображается на кнопке меню. Отображается команда может иметь одно из следующих характеристик:<br /><br /> — Это последняя команда, которая используется, если команда по-прежнему отображается и включено.<br />-Это первая команда отображается.<br /><br /> MenuControllerLatched<br /> Предоставляет раскрывающееся меню разворачивающейся кнопки, для которого можно указать команду выбранным по умолчанию, помечая команда как заблокирована.<br /><br /> Защелки команда выполняет, отмеченной в меню, как выбранные, обычно отображается флажок. Команды могут быть помечены как заблокирована, если у него есть OLECMDF_LATCHED флаг на его в реализацию `QueryStatus` метод <xref:Microsoft.VisualStudio.OLE.Interop.IOleCommandTarget> интерфейса. Меню MenuControllerLatched имеет следующие характеристики:<br /><br /> — Должен содержаться в другом меню через CommandPlacement или родительской группы.<br />-Уважает родительский объект в его определение.<br />-Может быть любого типа меню его родителя.<br />-Доступны всякий раз, когда отображается его родительском меню.<br />-Не требует программной поддержки для отображения меню отображается.<br /><br /> Команды меню "Разворачивающаяся кнопка" отображается на кнопке меню. Отображается команда может иметь одно из следующих характеристик:<br /><br /> -Это первая команда отображается, включена.<br />-Это первая команда отображается.<br /><br /> Toolbar<br /> Предоставляет панель инструментов. Панель инструментов имеет следующие характеристики:<br /><br /> -Игнорирует родительский объект в его определение.<br />-Нельзя сделать подменю любой из групп, даже с помощью CommandPlacement.<br />-Всегда могут отображаться при нажатии **панели инструментов** на **представление** меню.<br />-Могут отображаться с помощью [VisibilityItem](../extensibility/visibilityitem-element.md).<br />-Не требуется написание кода для его создания. Пример создания панели инструментов в разделе [Добавление панели инструментов](../extensibility/adding-a-toolbar.md).<br /><br /> ToolWindowToolbar<br /> Предоставляет панель инструментов, которая присоединяется к конкретному окну инструмента, так же, как панель инструментов подключен к среде разработки.<br /><br /> -Игнорирует родительский объект в его определение.<br />-Нельзя сделать подменю любой из групп, даже с помощью CommandPlacement.<br />-Отображается только в том случае, если отображается окно инструментов, на котором размещена панели инструментов и VSPackage явным образом добавляет панели инструментов окна инструментов. Обычно это делается, при создании окна инструментов, получив свойство узла панели инструментов (представленные как <xref:Microsoft.VisualStudio.Shell.Interop.IVsToolWindowToolbarHost> интерфейса) из фрейм окна инструментов и затем вызвать <xref:Microsoft.VisualStudio.Shell.Interop.IVsToolWindowToolbarHost.AddToolbar%2A> метод.|  
|Условие|Необязательный. В разделе [условные атрибуты](../extensibility/vsct-xml-schema-conditional-attributes.md).|  
  
### <a name="child-elements"></a>Дочерние элементы  
  
|Элемент|Описание|  
|-------------|-----------------|  
|Родительский|Необязательный. Родительский элемент данного элемента меню.|  
|CommandFlag|Обязательно. В разделе [команды элемент флаг](../extensibility/command-flag-element.md). Ниже приведены допустимые значения CommandFlag меню.<br /><br /> -   **AlwaysCreate**<br />-   **DefaultDocked**<br />-   **DefaultInvisible** -этот флаг не влияет на отображение панели инструментов.<br />-   **DontCache**<br />-   **DynamicVisibility** -этот флаг не влияет на отображение панели инструментов.<br />-   **IconAndText**<br />-   **NoCustomize**<br />-   **NotInTBList**<br />-   **NoToolbarClose**<br />-   **TextChanges**<br />-   **TextIsAnchorCommand**|  
|Строки|Обязательно. В разделе [строки элемента](../extensibility/strings-element.md). Дочерние `ButtonText` элемент должен быть определен.|  
|Комментарий|Необязательный комментарий.|  
  
### <a name="parent-elements"></a>Родительские элементы  
  
|Элемент|Описание|  
|-------------|-----------------|  
|[Элемент Menus](../extensibility/menus-element.md)|Определяет все меню, которые реализует VSPackage.|  
  
## <a name="example"></a>Пример  
  
```  
<Menu guid="cmdGuidWidgetCommands" id="menuIDEditWidget"  
  priority="0x0002" type="Menu">  
  <Parent guid="cmdSetGuidWidgetCommands" id="groupIDFileEdit">  
    <CommandFlag>AlwaysCreate</CommandFlag>  
    <Strings>  
      <ButtonText>Edit Widget</ButtonText>  
    </Strings>  
    </Parent>  
</Menu>  
```  
  
## <a name="see-also"></a>См. также  
 [Файлы таблицы команд Visual Studio (VSCT-файлы)](../extensibility/internals/visual-studio-command-table-dot-vsct-files.md)
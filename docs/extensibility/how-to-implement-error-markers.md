---
title: "Как: реализовать маркеры ошибка | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: editors [Visual Studio SDK], legacy - error markers
ms.assetid: e8e78514-5720-4fc2-aa43-00b6af482e38
caps.latest.revision: "12"
author: gregvanl
ms.author: gregvanl
manager: ghogen
ms.openlocfilehash: d926a498549e868e478d83b7930f5e569f49ce20
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2017
---
# <a name="how-to-implement-error-markers"></a>Как: реализовать маркеры ошибки
Маркеры ошибок (или красными волнистыми линиями) являются наиболее сложным для реализации настроек редактор текста. Тем не менее о преимуществах, которые предоставляют пользователям вашего VSPackage значительно перевешивают затраты, чтобы предоставить им. Маркеры ошибок слегка пометить текст, который ваш синтаксического анализа языка, которые считает неправильное волнистой или волнистой красной линией. Этот индикатор поможет программисты визуальное отображение неправильный код.  
  
 Используйте маркеры текста для реализации красными волнистыми линиями. Как правило языковые службы добавьте красными волнистыми линиями буфер текста как на этапе фона, или во время простоя или в фоновом потоке.  
  
### <a name="to-implement-the-red-wavy-underline-feature"></a>Для реализации функции красной волнистой линией  
  
1.  Выделите текст, в котором следует разместить красной волнистой линией.  
  
2.  Создать маркер типа `MARKER_CODESENSE_ERROR`. Дополнительные сведения см. в разделе [как: Добавление стандартных текстовых маркеров:](../extensibility/how-to-add-standard-text-markers.md).  
  
3.  После этого передавать <xref:Microsoft.VisualStudio.TextManager.Interop.IVsTextMarkerClient> указатель на интерфейс.  
  
 Этот процесс также позволяет создать текст подсказки или специальные контекстного меню через заданного маркера. Дополнительные сведения см. в разделе [как: Добавление стандартных текстовых маркеров:](../extensibility/how-to-add-standard-text-markers.md).  
  
 Следующие объекты необходимы, прежде чем можно отобразить маркеры ошибки.  
  
-   Средство синтаксического анализа.  
  
-   Поставщик задач (то есть реализация <xref:Microsoft.VisualStudio.Shell.Interop.IVsTaskProvider2>) чтобы определить строки повторного анализа, который поддерживает записи изменений в сведения о строке.  
  
-   События изменения фильтра представления текста, отражающая курсор из представления с помощью <xref:Microsoft.VisualStudio.TextManager.Interop.IVsTextViewEvents.OnChangeCaretLine%2A>) метод.  
  
 Средство синтаксического анализа, поставщик задач и фильтр предоставляют инфраструктуру, необходимо сделать возможные ошибки маркеры. Ниже представлен процесс для отображения ошибки маркеров.  
  
1.  В представлении, фильтруется фильтр получает указатель на поставщик задач, связанных с данными этого представления.  
  
    > [!NOTE]
    >  Можно использовать один и тот же фильтр команды для метод советы, завершение операторов, маркеры ошибок и т. д.  
  
2.  Если фильтр получает событие, указывающее на то, что вы переместили на другую строку, задача создается проверка на наличие ошибок.  
  
3.  Обработчик задачи проверяет строку «грязных». В этом случае он анализирует строку на наличие ошибок.  
  
4.  Если обнаружены ошибки, поставщика задач создает экземпляр элемента задачи. Этот экземпляр создает маркер «текст», в среде используется как маркер ошибки в представлении текста.  
  
## <a name="see-also"></a>См. также  
 [С помощью текстовых маркеров с помощью API прежних версий](../extensibility/using-text-markers-with-the-legacy-api.md)   
 [Как: Добавление маркеров стандартного текста](../extensibility/how-to-add-standard-text-markers.md)   
 [Как: Создание настраиваемых текстовых маркеров](../extensibility/how-to-create-custom-text-markers.md)   
 [Как: использовать маркеры текста](../extensibility/how-to-use-text-markers.md)
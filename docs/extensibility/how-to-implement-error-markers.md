---
title: "Практическое руководство: реализации маркеры ошибки | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "редакторы [Visual Studio SDK] прежних версий - ошибка маркеры"
ms.assetid: e8e78514-5720-4fc2-aa43-00b6af482e38
caps.latest.revision: 12
caps.handback.revision: 12
ms.author: "gregvanl"
manager: "ghogen"
---
# Практическое руководство: реализации маркеры ошибки
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Метки красное волнистое подчеркивание ошибок \(или\) наиболее сложных настроек текстовый редактор для ссылки.  Однако они дают преимущества пользователям в VSPackage могут далеко перевешивать стоимость для обеспечения их.  Метки ошибки subtly которые отмечают текста, что средство синтаксического анализа языка считает неправильным с красной волнистой линией. красную или  Этот индикатор позволяет разработчикам приложения визуального индикатора неправильным кодом.  
  
 Текстовой метки использования для реализации красное волнистое подчеркнутым.  Как правило, красное волнистое языковой службы добавить подчеркнутым в текстовый буфер, как передать фона или во время простоя или в фоновом потоке.  
  
### Для реализации красное волнистое подчеркивание функция  
  
1.  Выберите текст, в котором необходимо размещение красные волнистые подчеркнутым.  
  
2.  Создайте метка типа `MARKER_CODESENSE_ERROR`.  Дополнительные сведения см. в разделе [Практическое руководство: Добавление маркеров стандартный текст](../extensibility/how-to-add-standard-text-markers.md).  
  
3.  После этого передайте <xref:Microsoft.VisualStudio.TextManager.Interop.IVsTextMarkerClient> указатель интерфейса.  
  
 Этот процесс также позволяет создать текста окна подсказок или специальное контекстное меню с данной меткой.  Дополнительные сведения см. в разделе [Практическое руководство: Добавление маркеров стандартный текст](../extensibility/how-to-add-standard-text-markers.md).  
  
 Следующие объекты не требуются, прежде чем метки ошибки можно отобразить.  
  
-   Средство синтаксического анализа.  
  
-   Поставщик задачи \(то есть реализация <xref:Microsoft.VisualStudio.Shell.Interop.IVsTaskProvider2>\), ведет запись изменений в данных по линии, чтобы указать линии, которое необходимо проанализировать.  
  
-   Фильтр представления текста, который захватывает события изменения из представления с помощью курсора <xref:Microsoft.VisualStudio.TextManager.Interop.IVsTextViewEvents.OnChangeCaretLine%2A>метод.\)  
  
 Средство синтаксического анализа, поставщик задачи и фильтр предоставляют инфраструктуру, необходимую для меток, что ошибки возможным.  Следующие действия приведены процесс для отображения меток ошибки.  
  
1.  В представлении, фильтрацию, фильтр возвращает указатель к поставщику задачи, связанный с данными этого представления.  
  
    > [!NOTE]
    >  Можно использовать один и тот же фильтр советы метода завершения команды выписки метки ошибки и т д  
  
2.  Если фильтр возвращает событие, указывающее, что была перемещена в другую линии, создается задача проверять наличие ошибок.  
  
3.  Если обработчик задачи проверяет линия пакостна.  Если да, то он анализирует линия на наличие ошибок.  
  
4.  При обнаружении ошибки, то поставщик задачи создает экземпляр элемента задачи.  Этот экземпляр создает маркер текста, которую среда используется как метка ошибки в представлении текста.  
  
## См. также  
 [С помощью текстовых маркеров с API прежних версий](../extensibility/using-text-markers-with-the-legacy-api.md)   
 [Практическое руководство: Добавление маркеров стандартный текст](../extensibility/how-to-add-standard-text-markers.md)   
 [Практическое руководство: Создание пользовательского текста маркеры](../extensibility/how-to-create-custom-text-markers.md)   
 [Практическое руководство: использование текстовых меток](../extensibility/how-to-use-text-markers.md)
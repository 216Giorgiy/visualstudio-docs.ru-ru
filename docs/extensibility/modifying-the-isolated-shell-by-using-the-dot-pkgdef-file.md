---
redirect_url: shell/modifying-the-isolated-shell-by-using-the-dot-pkgdef-file
title: "Изменение с помощью изолированной оболочки. Файл pkgdef | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Visual Studio shell, isolated mode, .pkgdef file
ms.assetid: 69e8f78e-bcf1-46cb-8866-7de37d134997
caps.latest.revision: 
author: gregvanl
ms.author: gregvanl
manager: ghogen
ms.openlocfilehash: addeeaa294a81acce6558feb5257fee1344532f8
ms.sourcegitcommit: 9a2f937e42305db6e3eaa7aadc235b0ba9aafc83
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2018
---
# <a name="modifying-the-isolated-shell-by-using-the-pkgdef-file"></a>Изменение с помощью изолированной оболочки. Файл pkgdef
Файл pkgdef поддерживает параметры, которые можно использовать для настройки приложения изолированной оболочки. Он задает значения, которые создаются при установке приложения на компьютере и которые ссылается оболочки Visual Studio при запуске приложения. Параметры организованы в файле на основе ключей соответствующий параметр.  
  
> [!WARNING]
>  Обратите внимание, что .pkgdef файлы, которые не объявлены в файле VSIXMANIFEST VSPackage не проверяются при запуске Visual Studio.  
  
 Pkgdef-файл содержит разделы, каждый из которых идентифицируется по ключу, либо `[$RootKey$]` или `[$RootKey$\` *подраздел*`]`, где $RootKey$ — это корневой ключ для приложения.  
  
 Каждый раздел содержит пары имя/значение, которые имеют следующий формат: `"` *ValueName*`"=`*значение*.  
  
 Значения: строка, заключенная в кавычки, либо 32-разрядное целое число, которое представляется как dword. Значения имеют следующие ограничения:  
  
-   Все значения dword представлены в шестнадцатеричном формате, например `dword:00000001`.  
  
     Для логических значений 1 соответствует true и 0 соответствует false.  
  
-   Все строки GUID находятся в формате реестра, например, `"{00000000-0000-0000-0000-000000000000}"`.  
  
-   Все идентификаторы локализуемый ресурс иметь форму «@*resourceID*» или «#*resourceID*», где *resourceID* — идентификатор ресурса в пакете пользовательского интерфейса приложения например `"@102"`. Пакет пользовательского интерфейса приложения является пакет, указанный в параметре AppLocalizationPackage.  
  
 Например, примененная к объекту директива  
  
```  
"HideSolutionConcept"=dword:00000001  
"DefaultDebugEngine"="{00000000-0000-0000-0000-000000000000}"  
```  
  
 Можно добавить комментарии в pkgdef-файл. Однострочный комментарий имеет две косые черты, что первые два символа.  
  
 Список строки подстановки см. в разделе [использовать строки подстановки в. Pkgdef и. Файлы pkgundef-файлов](../extensibility/substitution-strings-used-in-dot-pkgdef-and-dot-pkgundef-files.md).  
  
 В следующих разделах описаны определенные разделы реестра, влияющих на поведение оболочки Visual Studio в изолированном режиме. В этом файле можно также определить дополнительными значениями реестра для приложения.  
  
> [!NOTE]
>  Если параметр в pkgdef-файл не указан, выполняется без соответствующей записи в реестре.  
  
## <a name="settings"></a>Параметры  
 Следующая таблица описывает значения, определенные в разделе [$RootKey$].  
  
|name|Тип|Значение|  
|----------|----------|-----------|  
|AddinsAllowed|dword|Значение true, если надстройки могут быть загружены; в противном случае — значение false.<br /><br /> Значение по умолчанию — true.|  
|AllowsDroppedFilesOnMainWindow|dword|Значение true, если главное окно может принимать перенесенных файлов; в противном случае — значение false. Файлы, которые сбрасываются в главном окне открываются с помощью <xref:Microsoft.VisualStudio.Shell.Interop.IVsUIShellOpenDocument.OpenDocumentViaProject%2A> метод. Это эквивалентно Открытие документа с помощью **откройте** на **файл** меню в приложении.<br /><br /> Значение по умолчанию — true.|  
|AppIcon|string|Полный путь значка программы. Этот значок отображается в строке заголовка слева от имени приложения.<br /><br /> Значение по умолчанию — «$RootFolder$\\*имя_решения*.ico», где *имя_решения* имя файла решения приложения.|  
|AppLocalizationPackage|string|Идентификатор GUID пакета VSPackage, содержащий вспомогательную сборку пользовательского интерфейса для приложения. Этот пакет VSPackage включает скомпилированная версия файла vsct и может содержать другие локализованные строки. Наборы функций и группы команд меню можно включить или отключить, изменив параметры в vsct-файле проекта пользовательского интерфейса.<br /><br /> Значение по умолчанию — «{*vsUiPackageGuid*}», где *vsUiPackageGuid* — это GUID, назначенный пакету пользовательского интерфейса приложения.|  
|AppName|string|Имя приложения. Имя отображается в строке заголовка окна приложения.<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
|CommandLineLogo|string|Текст баннера при запуске приложения в окне консоли. Этот параметр затрагивает только приложения, которые поддерживают операции построения из командной строки.<br /><br /> Значение по умолчанию — "*companyName ** имя_решения* версии 1.0.», где *companyName* имя компании, указанный при установке Windows, и *имя_решения*— имя файла решения приложения.|  
|DefaultDebugEngine|string|Идентификатор GUID набора по умолчанию отладки модуль для использования для приложения.<br /><br /> Примечание: Пустой GUID (все 0) указывает, что приложение не указывает модуля отладки по умолчанию. Это позволяет отладчику выберите подлежащий использованию модуль отладки.<br /><br /> Значение по умолчанию — «{00000000-0000-0000-0000-000000000000}».|  
|DefaultHomePage|string|URL-адрес домашней страницы по умолчанию для окна внутреннего веб-браузера.<br /><br /> Если **Домашняя страница** доступен в приложении, а затем этот параметр также влияет на состояние по умолчанию параметра. Дополнительные сведения см. в разделе [веб-браузер, среда, параметры](../ide/reference/web-browser-environment-options-dialog-box.md).<br /><br /> Значение по умолчанию — URL-адрес компании, указанный при установке Windows.|  
|DefaultProjectsLocation|string|Полный путь папки проектов по умолчанию. Например, примененная к объекту директива<br /><br /> `"DefaultProjectsLocation"="$MyDocuments$\MyVSShellStub\Projects"`<br /><br /> Если **расположение проектов Visual Studio** доступен в приложении, а затем этот параметр также влияет на состояние по умолчанию параметра. <br /><br /> Значение по умолчанию — «$MyDocuments$\\*имя_решения*», где *имя_решения* имя файла решения приложения.|  
|DefaultSearchPage|string|URL страницы поиска по умолчанию для окна внутреннего веб-обозревателя.<br /><br /> Если **страницу поиска** доступен в приложении, а затем этот параметр также влияет на состояние по умолчанию параметра. Дополнительные сведения см. в разделе [веб-браузер, среда, параметры](../ide/reference/web-browser-environment-options-dialog-box.md).<br /><br /> Значение по умолчанию — «http://search.live.com».|  
|DefaultUserFilesFolderRoot|string|Имя папки пользователя, относительно текущего пользователя и папка «Мои документы».<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
|DisableOutputWindow|dword|Указывает, рассматривать ли как отключенный изолированной оболочки в окне вывода.<br /><br /> Если это значение равно значение true, Visual Studio не отображает выходные данные построения manager решения в **выходные данные** окна и скрывает **Показывать окно вывода при запуске построения** флажок в  **Проекты и решения** категории в **параметры** диалоговое окно.<br /><br /> Значением по умолчанию является false.|  
|HideMiscellaneousFilesByDefault|dword|Значение true, чтобы скрыть **прочие файлы** папки по умолчанию в **обозревателе решений**; в противном случае — значение false.<br /><br /> Если **Показывать прочие файлы в обозревателе решений** доступен в приложении, а затем этот параметр также влияет на состояние по умолчанию параметра. Дополнительные сведения см. в разделе [документы, среда, параметры](../ide/reference/documents-environment-options-dialog-box.md).<br /><br /> Значением по умолчанию является false.|  
|HideSolutionConcept|dword|Значение true, чтобы создать все проекты как изолированные проекты и скрыть решение и связанные с решением команд для автономного проектов по умолчанию. в противном случае — значение false.<br /><br /> Если **всегда показывать решение** доступен в приложении, а затем этот параметр также влияет на состояние по умолчанию параметра.<br /><br /> Значением по умолчанию является false.|  
|NewProjDlgInstalledTemplatesHdr|string|Имя заголовка изменило шаблоны Visual Studio в **шаблоны** списка в **новый проект** диалоговое окно. Это строка, либо идентификатор локализуемый ресурс, загруженной из пакета пользовательского интерфейса приложения.<br /><br /> Значение по умолчанию — "*имя_решения* установленные шаблоны», где *имя_решения* имя файла решения приложения.|  
|NewProjDlgSlnTreeNodeTitle|string|Имя для **решения Visual Studio** узел в **типов проектов** дерева в **новый проект** диалоговое окно. Это строка, либо идентификатор локализуемый ресурс, загруженной из пакета пользовательского интерфейса приложения.<br /><br /> Значение по умолчанию — "*имя_решения* установленные шаблоны», где *имя_решения* имя файла решения приложения.|  
|SolutionFileCreatorIdentifier|string|Идентификатор приложения отображается как во второй строке файлы решения, созданные приложением. Эта линия указывает на приложения, создавшего файл. По соглашению это значение включает имя приложения и номер версии приложения. Например, примененная к объекту директива<br /><br /> `"SolutionFileCreatorIdentifier"="MyVSShellStub Solution File, Format Version 10.00"`<br /><br /> Программа VSLauncher.exe, которая является программой по умолчанию для открытия файла решения Visual Studio, использует этот второй строки для определения версии Visual Studio, в котором необходимо открыть файл решения. Приложению потребуется собственный запуска для обработки файлов связанного решения. Средство запуска также можно использовать этот второй строки в файле решения для определения в версию приложения, чтобы открыть решение.<br /><br /> Примечание: Программа Visual Studio VSLauncher.exe обрабатывает SLN-файлы, созданные приложением изолированной оболочки.<br /><br /> Значение по умолчанию — "*имя_решения* файл решения, версия формата 10,00", где *имя_решения* имя файла решения приложения.|  
|SolutionFileExt|string|Расширение имени файла решения для приложения. Рекомендуется использовать расширение уникальное имя файла (not.sln).<br /><br /> Значение по умолчанию — "*имя_решения*_sln», где *имя_решения* имя файла решения приложения.|  
|SplashScreenBitmap|string|Полный путь файла растрового изображения для экрана-заставки для приложения.<br /><br /> Значение по умолчанию — «$RootFolder$\Splash.bmp».|  
|ThisVersionDTECLSID|string|Идентификатор класса (CLSID) на объект автоматизации для приложения.<br /><br /> Объект автоматизации приложения является объектом верхнего уровня для приложения в модели автоматизации Visual Studio shell и реализует <xref:EnvDTE._DTE?displayProperty=fullName> интерфейса.<br /><br /> Если в разделе реестра HKEY_CLASSES_ROOT\CLSID правильно зарегистрирован объект автоматизации приложения, то можно использовать [CComPtrBase::CoCreateInstance](/cpp/atl/reference/ccomptrbase-class#cocreateinstance) функцию для непосредственного создания экземпляра приложения.<br /><br /> Оболочка Visual Studio использует этот идентификатор CLSID регистрируемого объекта автоматизации приложения в таблице текущих объектов (ROT) с помощью флага ACTIVEOBJECT_WEAK. Это позволяет использовать [GetActiveObject](http://msdn.microsoft.com/en-us/a276e30c-6a7f-4cde-9639-21a9f5170b62)функции для получения указателя к запущенному экземпляру приложения. Кроме того, если определить идентификатор ProgID объекта автоматизации приложения, затем оболочка Visual Studio также регистрирует каждый экземпляр приложения в таблице ROT с помощью моникера элемента формы *progID*:*processID* , где *progID* — это идентификатор ProgID объекта автоматизации приложения и *processID* — идентификатор процесса для текущего экземпляра приложения. Например, если специальное имя создается следующим образом:<br /><br /> `CreateItemMoniker(L"!",`  *instanceString* `, &instanceMoniker)`<br /><br /> где `instanceString` — *progID*:*processID* строки. Затем можно использовать `instanceMoniker` с функцией ROT GetObject для получения экземпляра.<br /><br /> Если параметр ThisVersionDTECLSID опущен, приложение не предоставляется через объект модели компонентов (COM). В этом случае невозможно создать экземпляр приложения путем вызова [CComPtrBase::CoCreateInstance](/cpp/atl/reference/ccomptrbase-class#cocreateinstance) функцией и не может быть зарегистрирован в таблице ROT.<br /><br /> Каждая версия VSPackage должен иметь разные CLSID.<br /><br /> Значение по умолчанию — идентификатор GUID, созданный средой Visual Studio объекта автоматизации приложения.|  
|ThisVersionSolutionCLSID|string|Идентификатор CLSID объекта решение для приложения.<br /><br /> Объект автоматизации решение содержит сведения о текущее открыть решение в экземпляре приложения и реализует <xref:EnvDTE._Solution?displayProperty=fullName> интерфейса.<br /><br /> Если в разделе реестра HKEY_CLASSES_ROOT\CLSID правильно зарегистрирован объект автоматизации решение, то можно использовать [CComPtrBase::CoCreateInstance](/cpp/atl/reference/ccomptrbase-class#cocreateinstance) , позволяющей напрямую создать объект решение для приложения.<br /><br /> Оболочка Visual Studio использует этот идентификатор CLSID регистрируемого объекта автоматизации решения в таблице ROT с помощью флага ACTIVEOBJECT_WEAK.<br /><br /> Если этот параметр опущен, то класс решения не зарегистрирован объект модели компонентов (COM) и не может создать объект решения путем вызова [CComPtrBase::CoCreateInstance](/cpp/atl/reference/ccomptrbase-class#cocreateinstance) функции и не может быть зарегистрировано в ROT.<br /><br /> Значение по умолчанию — идентификатор GUID, созданный средой Visual Studio для решений объекта приложения.|  
|UserFilesSubFolderName|string|Имя вложенной папки в папке Мои документы пользователя, в котором приложение создает пользовательские файлы и вложенные папки.<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
|UserOptsFileExt|string|Расширения для файлов параметры пользователя решения для приложения.<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
  
## <a name="binding-path-settings"></a>Параметры привязки пути  
 [$RootKey$ \BindingPaths\\{00000000-0000-0000-0000-000000000000}] ключ содержит список каталогов, в которых проверяется для сборок. Эти каталоги будут добавлены в список каталогов, в которых оболочка выполняет поиск закрытых сборок для приложения.  
  
 По умолчанию записи путь привязки не добавляются в pkgdef-файл. Тем не менее следующие подкаталоги каталога установки Visual Studio автоматически добавляются в список приложений путь привязки в реестре.  
  
-   Common7\IDE\  
  
-   Common7\IDE\\\PrivateAssemblies  
  
-   Common7\IDE\\\PublicAssemblies  
  
 Чтобы добавить каталог в путь привязки, добавьте запись в формате "*имя_каталога*«=»», где *имя_каталога* является абсолютным путем. Например, примененная к объекту директива  
  
```  
[$RootKey$\BindingPaths\{00000000-0000-0000-0000-000000000000}]  
"$RootFolder$\directory1"=""  
"%CommonProgramFiles%\directory2"=""  
```  
  
## <a name="profile-settings"></a>Параметры профиля  
 Следующая таблица описывает значения, которые определены для каждого связанного пакета в разделе [$RootKey$ \Profile].  
  
|name|Тип|Значение|  
|----------|----------|-----------|  
|AutoSaveFile|string|Каталог, в котором приложение сохраняет автоматического сохранения файлов.<br /><br /> Значение по умолчанию — «$RootFolder$\Profiles\CurrentSettings.vssettings».|  
  
## <a name="package-satellite-dll-settings"></a>Параметры библиотеки DLL вспомогательных пакета  
 В следующей таблице описаны значения, которые определены в разделе [$RootKey$ \Packages\\{*vsPackageGuid*} \SatelliteDll] для вспомогательной библиотеки DLL для каждого из связанных пакетов, где *vsPackageGuid* — это GUID, связанный с ним пакет.  
  
|name|Тип|Значение|  
|----------|----------|-----------|  
|Имя DLL-библиотеки|string|Имя файла библиотеки DLL.<br /><br /> Значение по умолчанию — "*имя_решения*ui.dll», где *имя_решения* имя файла решения приложения.|  
|Путь|string|Каталог, содержащий вспомогательную библиотеку DLL.<br /><br /> Значение по умолчанию — «$PackageFolder$».|  
  
## <a name="package-menu-item-settings"></a>Параметры элемента меню пакета  
 Раздел реестра [$RootKey$ \Menus] определяет файлы ресурсов пользовательского интерфейса для приложения.  
  
 Значения элементов меню, имеют форму «{*vsUiPackageGuid*} «=», *resourceId*, *Номер_версии*», где *vsUiPackageGuid* — это GUID пакет пользовательского интерфейса приложения, *resourceId* CTMENU ресурса, который содержит элементы пользовательского интерфейса, идентификатор ресурса и *Номер_версии* — номер версии виртуального для CTMENU ресурс. Дополнительные сведения см. в разделе [регистрацию обработчиков команд сборки взаимодействия](../extensibility/internals/registering-interop-assembly-command-handlers.md).  
  
 По умолчанию в меню элемент создается в pkgdef-файл для пакета пользовательского интерфейса приложения.  
  
 Для каждого пакета, предоставляющий элементы меню и который распространяется в составе приложения добавьте запись элемента меню пакета.  
  
## <a name="see-also"></a>См. также  
 [Настройка изолированной оболочки](../extensibility/customizing-the-isolated-shell.md)   
 [. Файлы pkgundef-файлов](../extensibility/modifying-the-isolated-shell-by-using-the-dot-pkgundef-file.md)
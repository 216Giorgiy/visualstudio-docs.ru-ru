---
title: "Изменение с помощью изолированной оболочки. Файл pkgdef | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Visual Studio shell, isolated mode, .pkgdef file
ms.assetid: 69e8f78e-bcf1-46cb-8866-7de37d134997
caps.latest.revision: 27
ms.author: gregvanl
manager: ghogen
translation.priority.mt:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 9044821c2bfee0dba8ffa91f3d91afd565b8d957
ms.openlocfilehash: 41e91983aaf236682b4ce723143f4053b5189547
ms.lasthandoff: 02/22/2017

---
# <a name="modifying-the-isolated-shell-by-using-the-pkgdef-file"></a>Изменение с помощью изолированной оболочки. Файл pkgdef
Файл pkgdef поддерживает параметры, которые можно использовать для настройки приложения изолированной оболочки. Он задает значения, которые создаются при установке приложения на компьютере и которые ссылается оболочки Visual Studio при запуске приложения. Параметры организованы в файле на основе ключей соответствующий параметр.  
  
> [!WARNING]
>  Обратите внимание, что не проверены .pkgdef файлы, которые не объявлены в файле VSIXMANIFEST VSPackage при запуске Visual Studio.  
  
 Pkgdef-файл содержит разделы, каждый из которых идентифицируется по ключу, либо `[$RootKey$]` или `[$RootKey$\` *подраздел*`]`, где $RootKey$ — это корневой ключ для приложения.  
  
 Каждый раздел содержит пары имя/значение, которые имеют следующий формат: `"` *ValueName*`"=`*значение*.  
  
 Значения: строка, заключенная в кавычки или 32-разрядное целое число, которое представляется как тип dword. Значения имеют следующие ограничения:  
  
-   Все значения dword представлены в шестнадцатеричном формате, например `dword:00000001`.  
  
     Для логических значений 1 представляет значение true, а 0 соответствует false.  
  
-   Все строки GUID хранятся в формате реестра, например, `"{00000000-0000-0000-0000-000000000000}"`.  
  
-   Все локализуемые ресурсы идентификаторы имеют форму «@*resourceID*» или «#*resourceID*», где *resourceID* является идентификатор ресурса в пакете пользовательского интерфейса приложения, например `"@102"`. Пакет пользовательского интерфейса приложения является пакет, указанный в параметре AppLocalizationPackage.  
  
 Например:  
  
```  
"HideSolutionConcept"=dword:00000001  
"DefaultDebugEngine"="{00000000-0000-0000-0000-000000000000}"  
```  
  
 Можно добавить комментарии в pkgdef-файл. Однострочный комментарий имеет две косые черты, что первые два символа.  
  
 Список строки подстановки см. в разделе [использовать строки подстановки в. Pkgdef и. Файлы Pkgundef](../extensibility/substitution-strings-used-in-dot-pkgdef-and-dot-pkgundef-files.md).  
  
 В следующих разделах описаны определенные разделы реестра, влияющих на поведение оболочки Visual Studio в изолированном режиме. В этом файле можно также определить дополнительными значениями реестра для приложения.  
  
> [!NOTE]
>  Если параметр не указан в pkgdef-файл, не соответствующая запись выполняется в реестре.  
  
## <a name="settings"></a>Параметры  
 Ниже перечислены значения, определенные в разделе [$RootKey$].  
  
|Имя|Тип|Значение|  
|----------|----------|-----------|  
|AddinsAllowed|dword|Значение true, если надстройки могут быть загружены; в противном случае — значение false.<br /><br /> Значение по умолчанию — true.|  
|AllowsDroppedFilesOnMainWindow|dword|Значение true, если главное окно может принимать перенесенных файлов; в противном случае — значение false. Файлы, которые перетаскиваются в главном окне открываются с помощью <xref:Microsoft.VisualStudio.Shell.Interop.IVsUIShellOpenDocument.OpenDocumentViaProject%2A>метод.</xref:Microsoft.VisualStudio.Shell.Interop.IVsUIShellOpenDocument.OpenDocumentViaProject%2A> Это эквивалентно Открытие документа с помощью **откройте** на **файл** меню в приложении.<br /><br /> Значение по умолчанию — true.|  
|AppIcon|string|Полный путь значка программы. Этот значок отображается в строке заголовка слева от имени приложения.<br /><br /> Значение по умолчанию — «$RootFolder$\\*имя_решения*.ico», где *имя_решения* — имя файла решения приложения.|  
|AppLocalizationPackage|string|Идентификатор GUID VSPackage, содержащий вспомогательную сборку пользовательского интерфейса для приложения. Этот пакет VSPackage включает скомпилированную версию файла .vsct и может содержать другие локализованные строки. Наборы функций и группы команд меню можно включить или отключить, изменив параметры в файле .vsct проекта пользовательского интерфейса.<br /><br /> Значение по умолчанию — «{*vsUiPackageGuid*}», где *vsUiPackageGuid* — это GUID, назначенный пакету пользовательского интерфейса приложения.|  
|Имя приложения|string|Имя приложения. Имя отображается в строке заголовка окна приложения.<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
|CommandLineLogo|string|Текст баннера при запуске приложения в окне консоли. Этот параметр затрагивает только приложения, которые поддерживают операции построения из командной строки.<br /><br /> Значение по умолчанию — «*companyName**имя_решения* версии 1.0.», где *companyName* имя компании, указанный при установке Windows, и *имя_решения* — имя файла решения приложения.|  
|DefaultDebugEngine|string|Идентификатор GUID, по умолчанию отладки ядра для приложения.<br /><br /> Примечание: Пустой GUID (все&0;) указывает, приложение не содержит модуль отладки по умолчанию. Это позволяет отладчику выберите подлежащий использованию модуль отладки.<br /><br /> Значение по умолчанию — «{00000000-0000-0000-0000-000000000000}».|  
|DefaultHomePage|string|URL-адрес домашней страницы по умолчанию для внутреннего веб-обозревателя.<br /><br /> Если **Домашняя страница** доступен в приложении, то этот параметр также определяет состояние по умолчанию параметра. Дополнительные сведения см. в разделе [диалогового окна Параметры веб-обозревателя, среда,](../ide/reference/web-browser-environment-options-dialog-box.md).<br /><br /> Значение по умолчанию — URL-адрес компании, указанный при установке Windows.|  
|DefaultProjectsLocation|string|Полный путь папки проектов по умолчанию. Например:<br /><br /> `"DefaultProjectsLocation"="$MyDocuments$\MyVSShellStub\Projects"`<br /><br /> Если **расположение проектов Visual Studio** доступен в приложении, то этот параметр также определяет состояние по умолчанию параметра. Дополнительные сведения см. в разделе [NIB: Общие, проекты и решения, диалоговое окно «Параметры»](http://msdn.microsoft.com/en-us/8f8e37e8-b28d-4b13-bfeb-ea4d3312aeca).<br /><br /> Значение по умолчанию — «$MyDocuments$\\*имя_решения*», где *имя_решения* — имя файла решения приложения.|  
|DefaultSearchPage|string|Адрес URL страницы поиска по умолчанию для внутреннего веб-обозревателя.<br /><br /> Если **страница поиска** доступен в приложении, то этот параметр также определяет состояние по умолчанию параметра. Дополнительные сведения см. в разделе [диалогового окна Параметры веб-обозревателя, среда,](../ide/reference/web-browser-environment-options-dialog-box.md).<br /><br /> Значение по умолчанию — «http://search.live.com».|  
|DefaultUserFilesFolderRoot|string|Имя папки, относительно текущего пользователя в папку «Мои документы».<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
|DisableOutputWindow|dword|Указывает ли изолированной оболочки следует рассматривать в окне вывода, как отключенный.<br /><br /> Если это значение true, Visual Studio не отображает выходные данные построения manager решения в **вывода** окна и скрывает **Показывать окно вывода при запуске построения** флажок в **проекты и решения** категории в **параметры** диалоговое окно.<br /><br /> Значением по умолчанию является false.|  
|HideMiscellaneousFilesByDefault|dword|Значение true, чтобы скрыть **прочие файлы** папки по умолчанию в **обозревателе решений**; в противном случае — значение false.<br /><br /> Если **Показывать прочие файлы в обозревателе решений** доступен в приложении, то этот параметр также определяет состояние по умолчанию параметра. Дополнительные сведения см. в разделе [документов в среде, параметры-диалоговое окно](../ide/reference/documents-environment-options-dialog-box.md).<br /><br /> Значением по умолчанию является false.|  
|HideSolutionConcept|dword|Значение true, чтобы создать все проекты как изолированные проекты и скрыть решение и связанные с решением команд для автономного проектов по умолчанию. в противном случае — значение false.<br /><br /> Если **всегда показывать решение** доступен в приложении, то этот параметр также определяет состояние по умолчанию параметра. Дополнительные сведения см. в разделе [NIB: Общие, проекты и решения, диалоговое окно «Параметры»](http://msdn.microsoft.com/en-us/8f8e37e8-b28d-4b13-bfeb-ea4d3312aeca).<br /><br /> Значением по умолчанию является false.|  
|NewProjDlgInstalledTemplatesHdr|string|Имя для заголовка изменило шаблонов Visual Studio в **шаблоны** список **новый проект** диалоговое окно. Это строка, либо идентификатор локализуемый ресурс, который загружается из пакета интерфейса пользователя приложения.<br /><br /> Значение по умолчанию — «*имя_решения* установленные шаблоны», где *имя_решения* — имя файла решения приложения.|  
|NewProjDlgSlnTreeNodeTitle|string|Имя для **решения Visual Studio** узел в **типы проектов** дерева в **новый проект** диалоговое окно. Это строка, либо идентификатор локализуемый ресурс, который загружается из пакета интерфейса пользователя приложения.<br /><br /> Значение по умолчанию — «*имя_решения* установленные шаблоны», где *имя_решения* — имя файла решения приложения.|  
|SolutionFileCreatorIdentifier|string|Идентификатор приложения отображается как во второй строке файлы решения, созданные приложением. Эта линия указывает на приложения, создавшего файл. По соглашению это значение включает имя приложения и номера версии приложения. Например:<br /><br /> `"SolutionFileCreatorIdentifier"="MyVSShellStub Solution File, Format Version 10.00"`<br /><br /> Это вторая строка использует программу VSLauncher.exe, которая является программой по умолчанию для открытия файла решения Visual Studio, для определения версии Visual Studio, в котором следует открыть файл решения. Приложению потребуется собственный запуска для обработки файлов связанного решения. Средство запуска также можно использовать второй строке в файле решения для определения версии приложения для открытия решения.<br /><br /> Примечание: Visual Studio VSLauncher.exe программа не обрабатывает SLN-файлы, созданные в приложении изолированной оболочки.<br /><br /> Значение по умолчанию — «*имя_решения* файл решения, версия формата 10,00", где *имя_решения* — имя файла решения приложения.|  
|SolutionFileExt|string|Расширение имени файла решения для приложения. Рекомендуется использовать расширение уникальное имя файла (not.sln).<br /><br /> Значение по умолчанию — «*имя_решения*_sln», где *имя_решения* — имя файла решения приложения.|  
|SplashScreenBitmap|string|Полный путь файла точечного рисунка для экрана-заставки для приложения.<br /><br /> Значение по умолчанию — «$RootFolder$\Splash.bmp».|  
|ThisVersionDTECLSID|string|Идентификатор класса (CLSID в) объект автоматизации для приложения.<br /><br /> Объект автоматизации приложения является объектом верхнего уровня для приложения в модели автоматизации Visual Studio оболочки и реализует <xref:EnvDTE._DTE?displayProperty=fullName>интерфейса.</xref:EnvDTE._DTE?displayProperty=fullName><br /><br /> Если объект автоматизации приложения правильно зарегистрированы в разделе реестра HKEY_CLASSES_ROOT\CLSID, то можно использовать [CComPtrBase::CoCreateInstance](../Topic/CComPtrBase::CoCreateInstance.md) функцию для непосредственного создания экземпляра приложения.<br /><br /> Оболочка Visual Studio использует этот идентификатор CLSID регистрируемого объекта автоматизации приложения в таблице текущих объектов (ROT) с помощью флага ACTIVEOBJECT_WEAK. Это позволяет использовать [GetActiveObject](http://msdn.microsoft.com/en-us/a276e30c-6a7f-4cde-9639-21a9f5170b62)функции, чтобы получить указатель к запущенному экземпляру приложения. Кроме того, при определении идентификатора ProgID для данного объекта автоматизации приложения, затем оболочки Visual Studio также регистрирует каждый экземпляр приложения в таблице ROT с помощью моникера элемента формы *progID*:*processID*, где *progID* — это идентификатор ProgID объекта автоматизации приложения и *processID* — идентификатор процесса для текущего экземпляра приложения. Например, при создании моникера следующим образом:<br /><br /> `CreateItemMoniker(L"!",`  *instanceString*`, &instanceMoniker)`<br /><br /> где `instanceString` — *progID*:*processID* строку. Затем можно использовать `instanceMoniker` с помощью функции ROT GetObject для получения экземпляра.<br /><br /> Если параметр ThisVersionDTECLSID опущен, приложение не предоставляется через модель компонентных объектов (COM). В этом случае не удается создать экземпляр приложения путем вызова [CComPtrBase::CoCreateInstance](../Topic/CComPtrBase::CoCreateInstance.md) функцией и не может быть зарегистрирован в таблице ROT.<br /><br /> Каждая версия VSPackage должен иметь разные CLSID.<br /><br /> Значение по умолчанию — идентификатор GUID, созданный средой Visual Studio для автоматизации объекта приложения.|  
|ThisVersionSolutionCLSID|string|Идентификатор CLSID объекта решение для приложения.<br /><br /> Объект автоматизации решений содержит сведения о текущей открытое решение в экземпляре приложения и реализует <xref:EnvDTE._Solution?displayProperty=fullName>интерфейса.</xref:EnvDTE._Solution?displayProperty=fullName><br /><br /> Если объект автоматизации решений правильно зарегистрированы в разделе реестра HKEY_CLASSES_ROOT\CLSID, то можно использовать [CComPtrBase::CoCreateInstance](../Topic/CComPtrBase::CoCreateInstance.md) функция непосредственное создание объекта решений для приложения.<br /><br /> Оболочка Visual Studio использует этот идентификатор CLSID для регистрации объектов автоматизации решений в таблице ROT с помощью флага ACTIVEOBJECT_WEAK.<br /><br /> Если этот параметр опущен, то решение класс не зарегистрирован объект модели компонентов (COM) и не удается создать объект решения путем вызова [CComPtrBase::CoCreateInstance](../Topic/CComPtrBase::CoCreateInstance.md) функцией и не может быть зарегистрирован в таблице ROT.<br /><br /> Значение по умолчанию — идентификатор GUID, созданный средой Visual Studio для решения объекта приложения.|  
|UserFilesSubFolderName|string|Имя вложенной папки в папке Мои документы пользователя, в котором приложение создает пользовательские файлы и вложенные папки.<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
|UserOptsFileExt|string|Расширение решения пользовательских файлов параметров для приложения.<br /><br /> Значение по умолчанию — имя файла решения приложения.|  
  
## <a name="binding-path-settings"></a>Параметры пути привязки  
 [$RootKey$ \BindingPaths\\{00000000-0000-0000-0000-000000000000}] ключ содержит список каталогов, оболочка проверяет наличие сборки. Эти каталоги будут добавлены к списку каталогов, оболочка проверяет наличие закрытых сборок для приложения.  
  
 По умолчанию записи путь привязки не добавляются в pkgdef-файл. Тем не менее следующие подкаталоги каталога установки Visual Studio автоматически добавляется в список пути привязки приложений в реестре.  
  
-   Common7\IDE\  
  
-   Common7\IDE\\\PrivateAssemblies  
  
-   Common7\IDE\\\PublicAssemblies  
  
 Чтобы добавить каталог в путь привязки, добавьте запись в формате «*имя_каталога*«=»», где *имя_каталога* является абсолютным путем. Например:  
  
```  
[$RootKey$\BindingPaths\{00000000-0000-0000-0000-000000000000}]  
"$RootFolder$\directory1"=""  
"%CommonProgramFiles%\directory2"=""  
```  
  
## <a name="profile-settings"></a>Параметры профиля  
 Ниже перечислены значения, которые определены для каждого связанного пакета в разделе [$RootKey$ \Profile].  
  
|Имя|Тип|Значение|  
|----------|----------|-----------|  
|AutoSaveFile|string|Каталог, в котором приложение сохраняет файлы автоматического сохранения.<br /><br /> Значение по умолчанию — «$RootFolder$\Profiles\CurrentSettings.vssettings».|  
  
## <a name="package-satellite-dll-settings"></a>Параметры вспомогательной библиотеки DLL пакета  
 В следующей таблице описаны значения, которые определены в разделе [$RootKey$ \Packages\\{*vsPackageGuid*} \SatelliteDll] вспомогательной библиотеки DLL для каждого связанного пакета где *vsPackageGuid* — это GUID связанный пакет.  
  
|Имя|Тип|Значение|  
|----------|----------|-----------|  
|Имя DLL-библиотеки|string|Имя файла библиотеки DLL.<br /><br /> Значение по умолчанию — «*имя_решения*ui.dll», где *имя_решения* — имя файла решения приложения.|  
|Путь|string|Каталог, содержащий вспомогательную библиотеку DLL.<br /><br /> Значение по умолчанию — «$PackageFolder$».|  
  
## <a name="package-menu-item-settings"></a>Параметры элемента меню пакета  
 В разделе реестра [$RootKey$ \Menus] определяет файлы ресурсов пользовательского интерфейса для приложения.  
  
 Значения элементов меню иметь форму» {*vsUiPackageGuid*} «=», *resourceId*, *Номер_версии*», где *vsUiPackageGuid* — это GUID пакета пользовательского интерфейса приложения, *resourceId* — идентификатор ресурса CTMENU ресурс, который содержит элементы пользовательского интерфейса и *Номер_версии* номер версии виртуального ресурса CTMENU. Дополнительные сведения см. в разделе [регистрации обработчиков команд сборки взаимодействия](../extensibility/internals/registering-interop-assembly-command-handlers.md).  
  
 По умолчанию в pkgdef-файл для пакета интерфейса пользователя приложения создается запись элемента меню.  
  
 Для каждого пакета, предоставляющий элементы меню, который распространяется в составе приложения добавьте запись элемент меню для пакета.  
  
## <a name="see-also"></a>См. также  
 [Настройка изолированной оболочки](../extensibility/customizing-the-isolated-shell.md)   
 [. Pkgundef файлы](../extensibility/modifying-the-isolated-shell-by-using-the-dot-pkgundef-file.md)

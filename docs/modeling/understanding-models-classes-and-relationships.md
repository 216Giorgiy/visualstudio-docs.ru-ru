---
title: Сведения о моделях, классах и отношениях
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- Domain-Specific Language, models
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.technology: vs-ide-modeling
ms.openlocfilehash: cbb3f5c2abc6a768c69d6d375674f3d54eadee31
ms.sourcegitcommit: 4c0bc21d2ce2d8e6c9d3b149a7d95f0b4d5b3f85
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/20/2018
---
# <a name="understanding-models-classes-and-relationships"></a>Сведения о моделях, классах и отношениях
Доменный язык (DSL), определяется его файл определения DSL вместе с любой пользовательской программы код, который вы могли бы написать. Большая часть программного кода в решении DSL создается из этого файла.

 В этом разделе описаны функции центра определения DSL.

## <a name="the-dsl-definition"></a>Определение DSL
 При открытии `Dsl\DslDefinition.dsl`, [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] окно напоминает следующий рисунок.

 ![Конструктор DSL](../modeling/media/dsl_designer.png "dsl_designer")

 Наиболее важные сведения в определения DSL отображается в схема определения DSL. Дополнительные сведения, которые также является частью DslDefinition.dsl, отображается в обозревателе DSL, которая обычно появляется у части диаграммы. Работа с диаграммой для наиболее частых задач и с помощью обозревателя DSL для дополнительной настройки.

 Схема определения DSL показывает домена классы, определяющие элементы модели и связей, которые определяют связи между элементами модели. Он также показывает фигуры и соединители, которые используются для отображения элементов модели для пользователя.

 ![Конструктор DSL с дорожкой](../modeling/media/dsl_desinger.png "dsl_desinger")

 При выборе элемента в определении DSL на схеме или в обозревателе DSL сведения о нем отображаются в окне «Свойства». Дополнительные сведения могут отображаться в окне сведений DSL.

### <a name="models-are-instances-of-dsls"></a>Модели являются экземплярами доменных языков
 Объект *модель* экземпляр созданного пользователем доменного языка. В модели содержатся элементы модели, которые являются экземплярами классов домена и связи между элементами, которые являются экземплярами отношений домена, которые указываются. Модель также может иметь фигуры и соединители, отображающих элементов модели и ссылками на схеме. Определение DSL включает классы фигур, соединитель классов и класса схемы.

 Определение DSL называется также *модель домена*. Модель определения DSL или домена является представлением разработки доменный язык, тогда как модель является создание экземпляров во время выполнения доменного языка.

## <a name="domain-classes-define-model-elements"></a>Доменные классы определяют элементов модели
 Доменные классы используются для создания различных элементов в домене и отношений домена — это связи между элементами. Это представление разработки элементов и ссылок, которые будут созданы пользователями разработки конкретного языка при создании их моделей.

 На этом рисунке показана модель, созданное пользователем фонотека DSL. Альбомы представлены полей, содержащих списки песни. Исполнители представляются в полях со скругленными углами и подключены к альбомам, к которым были внесены.

 ![Модель экземпляра созданного DSL](../modeling/media/music_instance.png "Music_Instance")

 Определение DSL разделяет два аспекта. Внешний вид элементов модели в схему модели определяется с помощью формы и классы соединителя. Сведения, хранящиеся в модели определяются с помощью классы доменов и отношений между доменами.

 На следующем рисунке классы доменов и отношений в определении DSL библиотеке музыки.

 ![Внедрение и ссылочных связей](../modeling/media/music_classes.png "Music_Classes")

 На рисунке показано четыре класса домена: музыка, альбом, исполнителя и композиции. Доменные классы определяют свойства домена, такие как имя, заголовок и т. д. Экземпляр модели значения некоторых из этих свойств будут отображаться на диаграмме.

 Между классами являются отношений домена: MusicHasAlbums, MusicHasArtists, AlbumbHasSongs и ArtistAppearedOnAlbums. Связи имеет количество элементов, таких как 1..1, 0.. *. Например каждые песню должен быть связан с ровно один альбом через отношение AlbumHasSongs. Каждый альбом может иметь любое количество песни.

### <a name="rearranging-the-dsl-definition-diagram"></a>Изменение расположения схема определения DSL
 Обратите внимание, что класс домена могут отображаться несколько раз на схема определения DSL, как на этом рисунке альбома. Всегда есть один основное представление и могут быть некоторые *ссылки* представления.

 Чтобы изменить порядок схема определения DSL, вы можете:

-   Поменять местами основной и ссылки на представления с помощью **перевести дерево здесь** и **разбиения дерева** команд. Щелкните правой кнопкой мыши класс один домен, чтобы просмотреть эти команды.

-   Изменить порядок доменные классы и классы фигур, нажав клавиши Ctrl + Стрелка вверх и Ctrl + Стрелка вниз.

-   Сворачивать и разворачивать классы, с помощью значка в правом верхнем углу каждой фигуры.

-   Свернуть части дерева, щелкнув знак минуса (-) в нижней части класса домена.

## <a name="inheritance"></a>Наследование
 Доменные классы могут определяться с помощью наследования. Для создания производного наследования, выберите инструмент наследование, щелкните производного класса и нажмите кнопку базового класса. Элемент модели имеет все свойства, определенные на свой собственный класс домена, а также все свойства, унаследованные от базового класса. Он также наследует его роли в связи.

 Наследование можно использовать также между связей, фигуры и соединители. Наследование должно сохраняться в той же группе. Фигуры не может наследовать от класса домена.

## <a name="domain-relationships"></a>Доменная связь
 Элементы модели могут быть связаны отношениями. Ссылки всегда являются двоичными; они связывают строго два элемента. Тем не менее любой элемент может иметь много ссылок на другие объекты, и даже может быть более одной связи между одной пары элементов.

 Так же, как можно определить различные классы элементов, можно определить различные классы ссылок. Класс ссылки, называется *доменной связи*. Доменная связь указывает, какие классы элемента, которые могут подключаться его экземпляров. Вызывается каждой стороны связи *роли*, и связь домена определяет имена для двух ролей, а также сама связь.

 Существует два вида отношений домена: внедрение связей и ссылочные связи. На схеме определения DSL связи внедренные имеются сплошные линии на каждой роли и ссылочные связи пунктирных линий.

### <a name="embedding-relationships"></a>Внедрение связей
 Каждый элемент в модели, за исключением его корневой является целевым объектом одной связи внедренные. Таким образом всю модель формирует одно дерево внедрения ссылки. Отношение внедрения представляет вложения или его владельца. Двух элементов модели, связанных таким образом, называются родительской и дочерней. Говорят, что дочерний внедряться в родительском объекте.

 Внедрение ссылки не отображаются обычно явно соединителей на схеме. Вместо этого они обычно представлены вложения. Корень модели, представленной схеме, а внедренный в него элементы отображаются в виде фигур на схеме.

 В примере в корневом классе музыка имеет внедрения связь MusicHasAlbums альбом, имеющая внедрения AlbumHasSongs для композиции. Они отображаются в виде элементов в списке внутри каждого альбома. Музыка также имеет внедрения MusicHasArtists класс исполнителя, экземпляры которого также отображаются как фигур на схеме.

 По умолчанию встроенные элементы автоматически удаляются при удалении их родительских объектов.

 При сохранении модели в файл в формате XML, внедренные элементы вложены в своих родителей, если не настроена сериализации.

> [!NOTE]
>  Внедрение не является наследованием. Дочерние элементы в отношении внедрения не наследуют свойства родительского элемента. Внедрение — это тип связи между элементами модели. Наследование — это связь между классами и не приводит к созданию связи между элементами модели.

### <a name="embedding-rules"></a>Внедрение правил
 Каждый элемент в модели экземпляр должен быть целевым ровно один связи внедренные, за исключением корневой модели.

 Таким образом каждого домена неабстрактного класса, за исключением корневого класса, должен быть целевым объектом по крайней мере один отношения внедрения, или он должен наследовать внедрения от базового класса. Класс может быть целью внедрений двух или более, но его элементы модели экземпляр может иметь одновременно только один родительский элемент. Кратность от цели к источнику должен быть от 0 до 1 или 1.. 1.

### <a name="the-explorer-displays-the-embedding-tree"></a>Проводник показывает дерево внедрения
 Определение DSL также создает обозреватель, в котором пользователи видят вместе с их схема модели.

 ![Созданный обозреватель DSL](../modeling/media/music_explorer.png "Music_Explorer")

 Проводник показывает все элементы в модели, даже те, для которых не определены фигуры. Он показывает элементы и отношения внедрения, но не ссылочные связи.

 Чтобы просмотреть значения свойств домена элемента, пользователь выбирает элемент, схема модели или в обозревателе моделей и открывает окно свойств. Отображает все свойства домена, включая те, которые не отображаются на диаграмме. В примере каждой песни имеет заголовок и жанра, но только значение заголовка отображается на диаграмме.

## <a name="reference-relationships"></a>Ссылочные связи
 Ссылочная связь представляет любые связи, которая не внедрения.

 Ссылочные связи обычно отображаются на схеме соединителей между фигурами.

 В XML-представление модели, ссылка между двумя элементами представляется с помощью *моникеры.* Иными словами моникеров имеют имена, которые уникальным образом определять каждый элемент в модели. Узел XML для каждого элемента модели содержит узел, который определяет имя связи и специальное имя другого элемента.

## <a name="roles"></a>Роли
 Все связи домена имеет две роли, роль источника и целевой роли.

 На рисунке ниже, а линии между **издатель** класса домена и **PublisherCatalog** отношения между доменом является роль источника. Линии между доменной связи и **альбом** класс домена является целевой роли.

 ![Роли и свойства. ] (../modeling/media/propertycode.png "PropertyCode")

 Имена, связанные с отношением особенно важны при написании программного кода, который проходит через модель. Например при сборке решения DSL, созданный класс издателя имеет свойство каталог, который представляет собой коллекцию альбомов. Класс альбом имеет свойства издателя, — это одиночный экземпляр класса издателя.

 При создании связи в определения DSL имена свойств и отношений получают значения по умолчанию. Тем не менее можно изменить их.

## <a name="multiplicities"></a>Количество элементов
 Количество элементов укажите, сколько элементов может иметь одну роль в доменной связи. В примере ноль много (0..\*) параметра кратность на **каталога** роль указывает, что любой экземпляр **издатель** доменный класс может иметь любое количество  **PublisherCatalog** отношение ссылки, которые нужно предоставить его.

 Настройка кратности роли, введя на диаграмме или путем изменения `Multiplicity` свойство в **свойства** окна. В следующей таблице описаны параметры для этого свойства.

|Количество элементов типа|Описание|
|-----------------------|-----------------|
|0.. * (ноль или более)|Каждый экземпляр класса домена может иметь несколько экземпляров связи или нет экземпляров связи.|
|От 0 до 1 (ноль к одному)|Каждый экземпляр класса домена может иметь не более одной связи или нет экземпляров связи.|
|1..1 (один)|Каждый экземпляр класса домена может иметь один экземпляр связи. Не удается создать более одного экземпляра этого отношения из любого экземпляра класса роли. Если проверка включена, при любой экземпляр класса роли имеет экземпляр связи отображается ошибку проверки.|
|1.. * (один ко многим)|Каждый экземпляр класса с ролью, имеет этот кратность может иметь несколько экземпляров связи, и каждый экземпляр должен иметь по крайней мере один экземпляр связи. Если проверка включена, при любой экземпляр класса роли имеет экземпляр связи отображается ошибку проверки.|

## <a name="domain-relationships-as-classes"></a>Доменная связь как классы
 Ссылка представляется в хранилище как экземпляр LinkElement, который является производным классом от ModelElement. Эти свойства можно определить в схеме модели домена для домена.

 Вы также можете связь источником или назначением другие связи. На диаграмме модели домена, щелкните правой кнопкой мыши доменной связи, а затем нажмите кнопку **Показать класс**. Появится окно дополнительный класс. Связи могут подключиться к нему.

 Можно определить отношение частично наследованием, так же, как с классами домена. Выберите производные связи и задайте **отношение базовой** в окне «Свойства».

 Связь производного специализирует его базового отношения. Домен классы, которые ссылки должен быть производным от ее или таким же, как классы, связанные с базовым связи. При создании ссылки производного связи в модели это экземпляр производный и базовый связи. В программном коде можно перейти на противоположном конце канала, с использованием свойства, созданные с помощью базового или производного класса.

## <a name="see-also"></a>См. также

- [Глоссарий инструменты доменного языка](http://msdn.microsoft.com/ca5e84cb-a315-465c-be24-76aa3df276aa)

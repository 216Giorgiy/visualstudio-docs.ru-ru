---
title: "Общие сведения о моделях, классах и отношениях | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Domain-Specific Language, models
ms.assetid: 2ecd569c-b369-41ea-b78e-a61b62e2e4e9
caps.latest.revision: 35
author: alancameronwills
ms.author: awills
manager: douge
translationtype: Machine Translation
ms.sourcegitcommit: eb2ab9d49cdeb1ed71da8ef67841f7796862dc30
ms.openlocfilehash: 4982dcc5c6fb0184f1f467971b6255aace6bec53
ms.lasthandoff: 02/22/2017

---
# <a name="understanding-models-classes-and-relationships"></a>Сведения о моделях, классах и отношениях
Доменный язык (DSL) определяется его файл определения DSL вместе с любой пользовательской программы код, который можно написать. Большая часть программного кода в решение DSL создается из этого файла.  
  
 В этом разделе рассматриваются функции центра определения DSL.  
  
## <a name="the-dsl-definition"></a>Определение DSL  
 При открытии `Dsl\DslDefinition.dsl`, [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] окно напоминает следующий рисунок.  
  
 ![Конструктор DSL](../modeling/media/dsl_designer.png "dsl_designer")  
  
 Наиболее важная информация в определении DSL отображается в схеме определения DSL. Дополнительные сведения, которые также является частью DslDefinition.dsl, отображается в обозревателе DSL обычно появляется у части диаграммы. Работа с диаграммой для наиболее частых задач и с обозревателем доменного языка для дополнительной настройки.  
  
 Схема определения DSL показывает домена классы, определяющие элементы модели и связей, которые определяют связи между элементами модели. Он также показывает, фигур и соединителей, которые используются для отображения элементов модели.  
  
 ![Конструктор DSL с дорожкой](../modeling/media/dsl_desinger.png "dsl_desinger")  
  
 При выборе элемента в определении DSL на схеме или в обозревателе DSL, сведения о нем отображаются в окне «Свойства». Дополнительные сведения могут отображаться в окне сведений DSL.  
  
### <a name="models-are-instances-of-dsls"></a>Модели являются экземплярами доменных языков  
 Объект *модель* является экземпляром вашего DSL, созданный пользователем. Модель содержит элементы модели, которые являются экземплярами классов доменов, создаваемые и связи между элементами, которые представляют собой экземпляры доменных связей, определенных. Модель также может иметь фигур и соединителей, которые отображать элементы модели и ссылки на схеме. Определение DSL включает классы фигур, соединителей и класс схемы.  
  
 Определение DSL называется также *модель домена*. Модель определения DSL или домена является представлением разработки доменного языка, тогда как модель создания экземпляров во время выполнения доменного языка.  
  
## <a name="domain-classes-define-model-elements"></a>Определение классов доменов элементов модели  
 Классы доменов используются для создания различных элементов в домене и доменных связей являются связи между элементами. Они являются представлением разработки элементов и связей, который будет создан для пользователей языком разработки при создании модели.  
  
 На этом рисунке показана модель, созданную пользователем фонотека DSL. Музыкальные альбомы, представляются в полях, содержащих списки песен. Исполнители представлены поля со скругленными углами и подключенные диски, которые были внесены.  
  
 ![Модель экземпляра созданного DSL](../modeling/media/music_instance.png "Music_Instance")  
  
 Определение DSL разделяет два аспекта. Внешний вид элементов модели в схеме модели определяется с помощью формы и классы соединителя. Сведения, хранящиеся в модели определяется с помощью классов доменов и отношений между доменами.  
  
 На следующем рисунке классов доменов и отношений в определении DSL библиотека музыки.  
  
 ![Внедрение и ссылочных отношений](../modeling/media/music_classes.png "Music_Classes")  
  
 На рисунке показаны четыре класса домена: музыка, альбом, исполнителя и композиции. Классы домена определяют свойства домена, такие как имя, заголовок и т. д. В модели экземпляра значения некоторых из этих свойств отображаются на диаграмме.  
  
 Между классами являются доменных связей: MusicHasAlbums, MusicHasArtists, AlbumbHasSongs и ArtistAppearedOnAlbums. Связи имеет количество элементов, таких как 1..1, 0.. *. Например каждой песни должен быть связан только один альбом через связь AlbumHasSongs. Каждый альбом может иметь любое количество песен.  
  
### <a name="rearranging-the-dsl-definition-diagram"></a>Изменение расположения схемы определения DSL  
 Обратите внимание, что класс домена может отображаться несколько раз в схеме определения DSL как на этом рисунке альбома. Всегда существует один главного представления, и может быть некоторые *ссылки* представления.  
  
 Чтобы изменить схему определения DSL, можно:  
  
-   Переключить основной и ссылаться на представления с помощью **перенести дерево сюда** и **разделить дерево** команды. Щелкните правой кнопкой мыши класс одного домена для просмотра этих команд.  
  
-   Изменить порядок домена классы и классы фигур, нажав сочетание клавиш Ctrl + Стрелка вверх и Ctrl + Стрелка вниз.  
  
-   Сворачивать и разворачивать классы, с помощью значка в правом верхнем углу каждой фигуры.  
  
-   Свернуть части дерева, щелкнув значок «минус» (-) в нижней части класса домена.  
  
## <a name="inheritance"></a>Наследование  
 Классы доменов могут определяться с помощью наследования. Чтобы создать наследование производного, щелкните инструмент наследование и производного класса и выберите базовый класс. Элемент модели имеет все свойства, определенные на свой собственный класс домена, а также все свойства, унаследованные от базового класса. Также оно наследует его роли в отношениях.  
  
 Наследование может также использоваться между отношения, фигуры и соединители. Наследование должны храниться в той же группе. Фигуры не может наследовать от класса домена.  
  
## <a name="domain-relationships"></a>Доменные связи  
 Элементы модели могут быть связаны отношениями. Ссылки всегда являются двоичными; они связывают ровно два элемента. Тем не менее любой элемент может иметь множество ссылок на другие объекты, и даже может быть более одной связи между одной парой элементов.  
  
 Так же, как можно определить различные классы элементов, можно определить различные классы ссылок. Класс ссылки, называется *доменной связи*. Доменная связь указывает, какие классы элемента, которые могут подключаться его экземпляров. Каждый элемент связи называется *роль*, и отношения между доменом определяет имена для двух ролей, а также для самого отношения.  
  
 Существует два вида отношений домена: внедрения и ссылок отношений. Схема определения DSL отношения внедрения имеют сплошные линии в каждой роли и ссылочные отношения пунктирной линии.  
  
### <a name="embedding-relationships"></a>Внедрение связей  
 Каждый элемент в модели, за исключением его корневой является целевым объектом внедрения ссылок. Таким образом всю модель создает одно дерево внедрения ссылки. Отношение внедрения представляет вложения или владельца. Двух элементов модели, связанных таким образом, называются родительской и дочерней. Говорят, что дочерний внедряться в родительском объекте.  
  
 Внедрение ссылки не отображаются обычно явно как соединителей на схеме. Вместо этого они обычно представлены вложения. Корень модели, представленной схеме, а внедренный в него элементы отображаются в виде фигуры на схеме.  
  
 В примере корневой класс Music имеет отношение внедрения MusicHasAlbums альбом, имеющий внедрения AlbumHasSongs, чтобы песни. Песни отображаются как элементы в списке внутри каждого альбома. Музыка также имеет внедрения MusicHasArtists исполнителя класс, экземпляры которого также отображаются как фигуры на схеме.  
  
 По умолчанию встроенные элементы автоматически удаляются при удалении своих родителей.  
  
 При сохранении модели в файл в формате XML, встроенные элементы вложены в своих родителей, при стандартной сериализации.  
  
> [!NOTE]
>  Внедрение не является наследованием. Дочерние элементы в отношении внедрения не наследуют свойства родительского элемента. Внедрение является тип связи между элементами модели. Наследование — это связь между классами и не создавать ссылки между элементами модели.  
  
### <a name="embedding-rules"></a>Внедрение правил  
 Каждый элемент в модели экземпляр должен быть целевым ровно один внедрения связи, за исключением корня модели.  
  
 Таким образом каждый класс домена абстрактным, за исключением корневой класс должен быть целевым объектом хотя бы одного отношения внедрения или наследоваться внедрение от базового класса. Класс может быть целевым объектом два или несколько внедренных, но во время его элементы модели экземпляр может иметь только один родительский элемент. Кратность от целевого объекта к источнику должно быть от 0 до 1 или 1.. 1.  
  
### <a name="the-explorer-displays-the-embedding-tree"></a>Обозреватель отображает дерева внедрения  
 Определение DSL также создает обозревателе пользователи видят вместе с их схема модели.  
  
 ![Созданный обозреватель DSL](~/docs/modeling/media/music_explorer.png "Music_Explorer")  
  
 Проводник показывает все элементы в модели, даже те, для которых не было определено фигуры. Он показывает элементы и отношения внедрения, но не ссылочные связи.  
  
 Чтобы просмотреть значения свойств домена элемента, пользователь выбирает элемент в схеме модели или в обозревателе моделей и открывает окно свойств. Отображает все свойства домена, включая те, которые не отображаются на схеме. В примере каждой песни имеет заголовок и жанра, но только значение заголовка, отображаемые на схеме.  
  
## <a name="reference-relationships"></a>Ссылочные отношения  
 Ссылочная связь представляет любой тип отношений не внедрение.  
  
 Ссылочные отношения обычно отображаются как соединительные линии между фигурами на схеме.  
  
 В XML-представление модели, ссылка между двумя элементами представляется с помощью *моникеры.* То есть специальные имена являются именами, однозначно определить каждый элемент в модели. Узел XML для каждого элемента модели содержит узел, который определяет имя связи и специальное имя этого элемента.  
  
## <a name="roles"></a>Роли  
 Каждое отношение домена имеет две роли, роли источника и целевой роли.  
  
 На следующем рисунке линии между **издатель** класс домена и **PublisherCatalog** отношения между доменом является роль источника. Линии между отношения между доменом и **альбома** класс домена является целевой роли.  
  
 ![Роли и свойства. ] (~/docs/modeling/media/propertycode.png "PropertyCode")  
  
 Имена, связанные с отношением особенно важны при написании программного кода, который проходит через модель. Например при построении решения DSL, созданный класс издателя имеет свойство каталог, который представляет собой коллекцию альбомов. Класс альбом имеет свойства издателя — это одиночный экземпляр класса издателя.  
  
 Создать связь в определении DSL, имена свойств и отношений, предоставленные значения по умолчанию. Тем не менее их можно изменить.  
  
## <a name="multiplicities"></a>Количество элементов  
 Кратности укажите, сколько элементов может иметь ту же роль в доменной связи. В примере нуль ко многим (0..\*) параметр кратность на **каталога** роль указывает, что любой экземпляр **издателя** класс домена может иметь любое количество **PublisherCatalog** отношение ссылки, необходимо предоставить его.  
  
 Настройте кратность роли, введя на схеме или путем изменения `Multiplicity` свойство в **свойства** окна. В следующей таблице описаны параметры для этого свойства.  
  
|Кратность типа|Описание|  
|-----------------------|-----------------|  
|0.. * (ноль ко многим)|Каждый экземпляр класса домена может иметь несколько экземпляров связи или нет экземпляров связи.|  
|От&0; до&1; (от нуля до единицы)|Каждый экземпляр класса домена может иметь не более одной связи или нет экземпляров связи.|  
|1..1 (один)|Каждый экземпляр класса домена может иметь один экземпляр отношения. Не удается создать более одного экземпляра этого отношения из любого экземпляра класса роли. При включении проверки, ошибка проверки будет отображаться после любого экземпляра класса роли не экземпляр отношения.|  
|1.. * (один ко многим)|Каждый экземпляр класса на роли, в которой этот кратность может иметь несколько экземпляров связи, и каждый экземпляр должен иметь по крайней мере один экземпляр отношения. При включении проверки, ошибка проверки будет отображаться после любого экземпляра класса роли не экземпляр отношения.|  
  
## <a name="domain-relationships-as-classes"></a>Доменные связи как классы  
 Ссылка представляется в хранилище как экземпляр LinkElement, который является производным от класса ModelElement. Эти свойства можно определить в схеме модели домена на доменных связей.  
  
 Вы также можете связь источником или назначением другие связи. В схеме модели домена, щелкните правой кнопкой мыши связь домена и нажмите кнопку **Показать как класс**. Появится окно дополнительный класс. Затем связей можно подключиться к нему.  
  
 Можно определить отношение частично наследованием, так же, как с помощью классов доменов. Выберите производный связь и задать **отношение базовой** в окне «Свойства».  
  
 Связь производного специализируется ее базовые связи. Домен классы, ссылки должны быть производными от ее или же, как классы, связанные с базовым связи. При создании ссылки производного связи в модели это экземпляр производного и базового связи. В программном коде можно перейти на противоположном конце канала, с использованием свойства, созданные с помощью базового или производного класса.  
  
## <a name="see-also"></a>См. также  
 [Глоссарий по средствам доменного языка](http://msdn.microsoft.com/en-us/ca5e84cb-a315-465c-be24-76aa3df276aa)


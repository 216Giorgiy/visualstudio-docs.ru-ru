---
title: Просмотр и реорганизация карт кода
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.prod: visual-studio-dev15
ms.technology: vs-ide-modeling
ms.openlocfilehash: b88a74b3b3d943b7a063bd61fff99aee9cb25cff
ms.sourcegitcommit: e13e61ddea6032a8282abe16131d9e136a927984
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
---
# <a name="browse-and-rearrange-code-maps"></a>Просмотр и реорганизация карт кода
Вы можете изменять расположение элементов на картах кода, чтобы упростить их чтение и повысить производительность.

 Карты кода можно настраивать, не затрагивая базовый код решения. Это полезно, когда нужно сосредоточить внимание на ключевых элементах кода или сообщить сведения о нем. Например, чтобы выделить требуемые области, можно выбрать элементы кода на карте и отфильтровать их, изменить стиль элементов кода и связей, скрыть или удалить элементы кода, а также упорядочить элементы кода по свойствам, категориям или группам.

 **Требования**

-   Для создания карт кода требуется Visual Studio Enterprise.

-   В Visual Studio Professional можно просматривать карты кода и вносить в них ограниченные изменения.

##  <a name="ManageLargeGraphs"></a> Начать работу с картами кода
 Создайте карту кода (в разделе [сопоставление зависимостей в решениях](../modeling/map-dependencies-across-your-solutions.md) Дополнительные сведения). Если вы не хотите ждать карту, чтобы завершить создание, щелкните **отменить** связи в любое время, чтобы остановить процесс создания. Однако в этом случае вы получите неполную информацию о зависимостях и связях.

 После создания карты воспользуйтесь приведенными ниже советами по анализу кода.

-   Обратите внимание на естественные кластеры зависимостей в коде. На панели инструментов карты выберите **макета**, **быстрых кластеров**![быстрых кластеров кнопку на панель инструментов графа](../modeling/media/quickclustersicon.gif "QuickClustersIcon"). В разделе [изменение макета карты](#Selecting).

     ![Граф зависимостей &#45; макет быстрых кластеров](../modeling/media/dependencygraph_quickclusters.png "DependencyGraph_QuickClusters")

-   Разбейте карту на меньшие области путем группировки связанных узлов. Эти группы можно свернуть для просмотра только зависимостей между группами, которые появляются автоматически. В разделе [узлов](#OrganizeGroups).

-   Используйте фильтры, чтобы упростить карту и сосредоточиться на интересующих вас типах узлов или связей. В разделе [фильтрации узлов и связей](#FilterNodes).

-   Повысьте производительность крупных карт. В разделе [сопоставление зависимостей в решениях](../modeling/map-dependencies-across-your-solutions.md) для получения дополнительной информации. Например, включите **пропустить сборку** на панели инструментов карты, который Visual Studio не перестройку решения при его обновлении элементы на карте.

##  <a name="Selecting"></a> Изменение макета карты

|**Задача**|**Выполните следующие действия**|
|------------|-----------------------------|
|Расположение потока зависимостей на всей карте в определенном направлении. Это помогает увидеть архитектурные уровни в коде.|На панели инструментов карты выберите **макета**, а затем:<br /><br /> -   **Сверху вниз** ![верхней, нижней диаграмме кнопку](../modeling/media/topbottomgraphbutton.gif "TopBottomGraphButton")<br />-   **Снизу вверх** ![снизу верхней диаграмме кнопку](../modeling/media/bottomtopgraphbutton.gif "BottomTopGraphButton")<br />-   **Слева направо** ![левый кнопки макета правой](../modeling/media/leftrightgraphbutton.gif "LeftRightGraphButton")<br />-   **Справа налево** ![право кнопка схемы слева](../modeling/media/rightleftgraphbutton.gif "RightLeftGraphButton")|
|Просмотр естественных кластеров зависимостей в коде: наиболее зависимые узлы находятся в центре кластеров, а наименее зависимые — возле внешней части кластеров.|На панели инструментов карты выберите **макета**, а затем **быстрых кластеров**![быстрых кластеров кнопку на панель инструментов графа](../modeling/media/quickclustersicon.gif "QuickClustersIcon").|
|Выделение одного или нескольких узлов на карте.|Чтобы выделить узел, щелкните его. Чтобы выбрать или отменить выбор более чем одним узлом, нажмите и удерживайте **CTRL** щелкая мышью.<br /><br /> Клавиатуры: нажмите клавишу **ВКЛАДКЕ** или используйте клавиши со стрелками для перемещения прямоугольника пунктирным узлу и нажмите клавишу **ПРОСТРАНСТВА** для ее выделения. Нажмите клавишу **CTRL** + **ПРОСТРАНСТВА** выбрать или отмените выбор узлов.|
|Перемещение определенных узлов по карте.|Чтобы переместить узлы, перетащите их. Для перемещения других узлов и связей в сторону как перетаскивать узлы, нажмите и удерживайте **SHIFT** ключа.<br /><br /> Сочетания: хранения **CTRL** и используйте клавиши со стрелками.|
|Изменение структуры внутри группы независимо от других узлов и групп на карте.|Выделите узел и откройте контекстное меню. Выберите **макета** и выберите нужный стиль макета.<br /><br /> -или-<br /><br /> Выделите узел и разверните его, чтобы отобразить дочерние узлы. Щелкните заголовок узла для отображения всплывающего панель инструментов группы и откройте **изменить стиль макета группы**![граф зависимостей &#45; панель инструментов группы &#45; макета](../modeling/media/dependencygraph_grouptoolbar.gif "DependencyGraph_ GroupToolbar") списка. Выберите один из макетов дерева **быстрых кластеров**, или **представление списка** (который упорядочивает содержимое в список).<br /><br /> В разделе [узлов](#OrganizeGroups) для получения дополнительных сведений.|
|Отмена действия на карте.|Нажмите клавишу **CTRL** + **Z** или с помощью Visual Studio **отменить** команды.|

##  <a name="Explore"></a> Обзор карты

|**Задача**|**Выполните следующие действия**|
|------------|-----------------------------|
|Просмотр карты.|Перетащите карту мышью в любом направлении.<br /><br /> -или-<br /><br /> Удерживайте **SHIFT** и вращайте колесико мыши для прокрутки по горизонтали. Удерживайте **SHIFT** + **CTRL** и вращайте колесико мыши для прокрутки по горизонтали.|
|Увеличение или уменьшение карты.|Вращайте колесико мыши.<br /><br /> -или-<br /><br /> Используйте **масштаб** раскрывающегося списка на панели инструментов карты кода.<br /><br /> -или-<br /><br /> Используйте сочетания клавиш. Чтобы увеличить масштаб, нажмите клавишу **CTRL + SHIFT +.** (точка). Для уменьшения масштаба, нажмите клавишу **CTRL + SHIFT +,** (запятая).|
|Увеличение определенной области с помощью мыши.|Удерживая нажатой правую кнопку мыши, обведите прямоугольником нужную область.|
|Изменение размера карты под размер ее окна.|Выберите **масштаб по размеру** из **масштаб** списка на панели инструментов карты кода.<br /><br /> -или-<br /><br /> Нажмите кнопку **вписать** значок ![значок масштаба на панели инструментов карты](../modeling/media/almcodemapzoomicon.png "ALMCodeMapZoomIcon") на панели инструментов карты кода. Клавиатуры: нажмите клавишу **CTRL + 0** (ноль).|
|Поиск узла на карте по его имени. **Совет:** это работает только для элементов на карте. Чтобы найти элементы в решении, но не на карте, найти их в **обозревателе решений**, а затем перетащите их на карту. (Перетащите выделение или на панели инструментов обозревателя решений щелкните **Показать на карте кода**).|1.  Выберите **найти** значок ![значок поиска на панели инструментов карты](../modeling/media/almcodemapfindicon.png "ALMCodeMapFindIcon") на панели инструментов карты кода (Клавиатура: клавишу **сочетание клавиш CTRL + F**) для отображения поле поиска в правом верхнем углу карты.<br />2.  Введите имя элемента и нажмите клавишу **возвращают** или щелкните значок «Экранная лупа». Первый элемент, соответствующий условиям поиска появятся на схеме.<br />3.  Чтобы настроить поиск, откройте раскрывающийся список и выберите параметр поиска. Возможные варианты: **Найти далее**, **найти предыдущее**, и **выделить все**. Затем нажмите соответствующую кнопку рядом с текстовым полем поиска.<br />     ![Drop параметры поиска&#45;списке](../modeling/media/almcodemapssearchdropdown.png "ALMCodeMapsSearchDropDown")<br />     Кроме того, использование клавиатуры: нажмите клавишу **F3** установите следующий соответствующий узел или **SHIFT + F3** для выбора предыдущего соответствующего узла.<br />4.  Выберите параметры, определяющие способ обработки поискового запроса, щелкнув значки под текстовым полем поиска.<br />     ![Параметры соответствия поиска](../modeling/media/almcodemapssearchmatchicons.png "ALMCodeMapsSearchMatchIcons")<br />     Возможные варианты: слева направо, с учетом регистра, слова целиком, использовать синтаксис регулярных выражений .NET, автоматически разворачивать группы для поиска совпадений в содержащихся в них элементах. **Важно:** для поиска соответствий в свернутой группы только в том случае, если ранее были развернуты эти группы можно использовать поле поиска. Чтобы найти эти совпадения и развернуть их родительские группы автоматически, выберите этот параметр под полем поиска.|
|Выбор всех невыбранных узлов.|Откройте контекстное меню выбранных узлов. Выберите **выберите**, **Обратить выделение**.|
|Выбор дополнительных узлов, связанных с уже выбранными.|Откройте контекстное меню выбранных узлов. Выберите **выберите** и один из следующих:<br /><br /> — Чтобы выбрать дополнительные узлы, которые непосредственно ведут к выбранному узлу, выберите **входящие зависимости**.<br />— Чтобы выбрать дополнительные узлы, которые связываются непосредственно из выбранного узла, выберите **исходящие зависимости**.<br />— Чтобы выбрать дополнительные узлы, которые непосредственно связаны с выбранным узлом, выберите **оба**.<br />— Чтобы выбрать все узлы для связывания и выбранных узлов, выберите **подключен Subgraph**.<br />— Чтобы выбрать все дочерние элементы выбранного узла, выберите **дочерних**.|

##  <a name="FilterNodes"></a> Фильтрация узлов и связей

|**Задача**|**Выполните следующие действия**|
|------------|-----------------------------|
|Отображение или скрытие области "Фильтры".|Выберите **фильтры** кнопку на панели инструментов карты кода. Область "Фильтры" по умолчанию отображается в окне "Обозреватель решений" в виде страницы со вкладками.|
|Фильтрация типов узлов, отображаемых на карте.|Установите или снимите флажки в **элементов кода** список в панели «фильтры».|
|Фильтрация типов связей, отображаемых на карте.|Установите или снимите флажки в **связи** список в панели «фильтры».|
|Отображение или скрытие узлов тестового проекта на карте.|Установите или снимите флажок **средств тестирования** флажок в **Разное** список в панели «фильтры».|

 Значки на панели "Легенда" карты зависят от выбранных в списке пунктов. Чтобы отобразить или скрыть область легенды, нажмите кнопку **условных обозначений** кнопку на панели инструментов карты кода.

##  <a name="Inspect"></a> Проверьте узлы и ссылки
 На картах кода приводятся следующие типы связей:

-   отдельная связь представляет единичное отношение между двумя узлами;

-   связь между группами представляет отношение между двумя узлами в разных группах;

-   совокупная связь представляет все отношения в одном направлении между двумя группами.

> [!TIP]
>  По умолчанию на карте показаны связи между группами только для выбранных узлов. Чтобы изменить это поведение, чтобы показать или скрыть совокупными связями между группами, щелкните **макета** код сопоставления панели инструментов и выберите **Дополнительно**, затем **Показать все ссылки между группами** или **Скрыть все ссылки между группами**. В разделе [скрыть или Показать узлы и ссылки](#HidingShowing) для получения дополнительных сведений.

|**Задача**|**Выполните следующие действия**|
|------------|-----------------------------|
|Просмотр дополнительной информации об узле или связи.|Наведите указатель мыши на узел или связь, пока не появится подсказка.<br /><br /> В подсказке для совокупной связи перечисляются отдельные зависимости, которые она представляет.<br /><br /> -или-<br /><br /> Откройте контекстное меню узла или связи. Выберите **изменить**, **свойства**.|
|Отображение или скрытие содержимого группы.|— Чтобы развернуть группу, откройте контекстное меню для узла и выберите **группы**, **развернуть**.<br />     -или-<br />     Наведите указатель мыши на узел, пока не появится кнопка шеврона (стрелка вниз). Нажмите эту кнопку, чтобы развернуть группу. Клавиатура: чтобы развернуть или Свернуть выбранную группу, нажмите клавиши **, а также** ключ (**+**) или **минус** ключ (**-**).<br />— Чтобы свернуть группу, откройте контекстное меню для узла и выберите **группы**, **свернуть**.<br />     -или-<br />     Наведите указатель мыши на группу, пока не появится кнопка шеврона (стрелка вверх). Нажмите эту кнопку, чтобы свернуть группу.<br />— Чтобы развернуть все группы, нажмите клавишу **CTRL** + **A** для выбора всех узлов. Откройте контекстное меню для карты и выберите **группы**, **развернуть**. **Примечание:** этого команда недоступна, если развертывание всех групп создает схему непригодным для использования или проблем с памятью. Рекомендуется разворачивать карту только до необходимого уровня детализации.<br />— Чтобы свернуть все группы, откройте контекстное меню для узла или для карты. Выберите **группы**, **Свернуть все**.|
|Просмотр определения кода для пространства имен, типа или члена.|Откройте контекстное меню для узла, а затем выберите **перейти к определению**.<br /><br /> - или -<br /><br /> Дважды щелкните узел. Если группа развернута, дважды щелкните ее заголовок.<br /><br /> - или -<br /><br /> Выберите узел и нажмите клавишу **F12**.<br /><br /> Пример:<br /><br /> -Для пространства имен, содержащего один класс файл кода для класса открывается чтобы показать определение этого класса. В других случаях **результаты поиска символа** окне отображается список файлов кода. **Примечание:** при выполнении этой задачи в пространстве имен Visual Basic, не удается открыть файл кода для пространства имен. Эта проблема также возникает при выполнении этой задачи для группы выбранных узлов, которые включают пространство имен Visual Basic. Чтобы обойти эту проблему, вручную перейдите к файлу кода для пространства имен или исключите узел для пространства имен из числа выбранных.<br />— Для класса или разделяемого класса файл кода для этого класса открывается для отображения определения класса.<br />-Для метода для отображения определения метода откроется файл кода родительского класса.|
|Просмотр зависимостей и элементов, участвующих в совокупной связи.|Выберите ссылки интересует и откройте контекстное меню для выбранного элемента. Выберите **Показать добавляющие ссылки** или **Показать добавляющие ссылки на новой карте кода**.<br /><br /> Visual Studio разворачивает группы на обоих концах связи и отображает только те элементы и зависимости, которые участвуют в связи. **Примечание:** при проверке зависимостей между элементами в частичной групп, может появиться это поведение: <ul><li>Ссылки на элементы, которые не участвуют в проверка исчезают из схемы, даже если эти связи по-прежнему существуют.</li><li>Предположим, что вы просматриваете связь с элементом разделяемой группы, а затем просматриваете другую связь с этим же элементом. При втором просмотре в целевой разделяемой группе отображаются только элементы из первого просмотра. Ссылки и целевых элементов, которые не участвовать в первом проверка, включенный в вторая проверка не отображаются.</li></ul> Чтобы увидеть отсутствующие элементы из группы, выберите **повторно извлечь дочерние элементы**![повторно извлечь дочерние элементы значок](../modeling/media/dependencygraph_deletednodesicon.png "DependencyGraph_DeletedNodesIcon") (что означает, что не все члены группы отображаются на карте). Попробуйте отменить свои действия (Клавиатура: клавишу **CTRL + Z**) и изучить зависимости на новой карте.|
|Изучение зависимостей между несколькими узлами из разных групп.|Разверните группы, чтобы можно было просмотреть все их дочерние элементы. Выделите все нужные узлы, включая их дочерние элементы. На карте показаны ссылки между группами для выбранных узлов.<br /><br /> Чтобы выбрать все узлы в группе, нажмите и удерживайте **SHIFT** и левой кнопки мыши при рисовании прямоугольник вокруг этой группы. Чтобы выбрать все узлы на карте, нажмите **CTRL**+**A**. **Совет:** чтобы показать ссылки между группами в любое время, выберите **макета** на панели инструментов карты **Дополнительно**, **Показать все ссылки между группами**.|
|Просмотр элементов, на которые ссылается узел или связь.|Откройте контекстное меню для узла, а затем выберите **найти все ссылки**. **Примечание:** это применяется, только если `Reference` установлен атрибут для узла или ссылки в DGML-файла сопоставления. Добавление ссылки на элементы из узлов или ссылок, в разделе [карты кода Настройка путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).|

##  <a name="HidingShowing"></a> Скрытие и отображение узлов и связей
 Если скрыть узлы, они не будут участвовать в алгоритмах создания макета. По умолчанию связи между группами скрыты. Связи между группами представляют собой отдельные связи, которые соединяют узлы между группами. Если свернуть группы, все связи между группами на карте объединяются в единичные связи между группами. Если развернуть группу и выбрать в ней узлы, отобразятся связи между группами и зависимости в этой группе.

> [!CAUTION]
>  Перед тем как предоставить общий доступ к карте, созданной в Visual Studio Enterprise, пользователям Visual Studio Professional, отобразите все скрытые узлы или связи между группами, которые требуется показать другим пользователям. В противном случае пользователи не увидят эти элементы.

### <a name="to-hide-or-show-nodes"></a>Скрытие и отображение узлов

|**Задача**|**Выполните следующие действия**|
|------------|-----------------------------|
|Скрытие выделенных узлов.|1.  Выберите узлы, которые необходимо скрыть.<br />2.  Откройте контекстное меню выделенных узлов или карты. Выберите **выберите**, **скрыть выбранные**.|
|Скрытие невыделенных узлов.|1.  Выделите узлы, которые должны оставаться видимыми.<br />2.  Откройте контекстное меню выделенных узлов или карты. Выберите **выберите**, **скрыть не выбрано**.|
|Отображение скрытых узлов.|— Чтобы отобразить все скрытые узлы внутри группы, сначала убедитесь, что группа развернута. Откройте контекстное меню и выберите **выберите**, **Показать дочерние элементы**.<br />     -или-<br />     Нажмите кнопку **Показать дочерние элементы**![Показать дочерние элементы значок](../modeling/media/dependencygraph_filtericon_hiddennodes.gif "DependencyGraph_FilterIcon_HiddenNodes") значок в левом верхнем углу группы (это становится видимым только при существует скрытый дочерние узлы).<br />-Чтобы показать все скрытые узлы, откройте контекстное меню для карты или узел и выберите **выберите**, **Показать все**.|

### <a name="to-hide-or-show-links"></a>Скрытие и отображение связей

|**Задача**|**На панели инструментов карты, Выбор макета, Дополнительно, а затем выберите**|
|------------|----------------------------------------------------------------------|
|Постоянное отображение связей между группами.|**Показать все ссылки между группами**. В результате будут скрыты все совокупные связи между группами.|
|Постоянное скрытие связей между группами.|**Скрыть все ссылки между группами**|
|Отображение связей между группами только для выбранных узлов.|**Показать ссылки между группами в выбранных узлах**|
|Скрытие всех связей.|**Скрыть все ссылки**. Чтобы снова показать связи, выберите один из перечисленных выше пунктов.|

##  <a name="OrganizeGroups"></a> Группирование узлов

|**Задача**|**Выполните следующие действия**|
|------------|-----------------------------|
|Показ узлов контейнеров в виде узлов групп или листовых узлов.|Для отображения узлов контейнера как листовые узлы: Выберите узлы, откройте контекстное меню для выбранного элемента и выберите **группы**, **преобразование для конечного**.<br /><br /> Для отображения узлов контейнера как группа узлов: Выберите узлы, откройте контекстное меню для выбранного элемента и выберите **группы**, **преобразовать в группу**.|
|Изменение макета внутри группы.|Выберите группу, откройте контекстное меню, выберите **макета**и выберите нужный тип макета.<br /><br /> -или-<br /><br /> 1.  Выделите группу и убедитесь в том, что она развернута.<br />2.  Еще раз щелкните название группы. Появится панель инструментов группы.<br />     ![Граф зависимостей &#45; панель инструментов группы](../modeling/media/dependencygraph_group.png "DependencyGraph_Group")<br />3.  Откройте **изменить стиль макета группы** списка ![граф зависимостей &#45; панель инструментов группы &#45; макета](../modeling/media/dependencygraph_grouptoolbar.gif "DependencyGraph_GroupToolbar") и выберите пункт нужный стиль макета.<br /><br /> **Представление списка** Упорядочение членов группы в список. **Диаграмма по умолчанию** сбрасывает макет группы к макету карты по умолчанию. Другие варианты см. в разделе [изменение макета карты](#Selecting).|
|Добавление узла в группу|Перетащите узел в группу.<br /><br /> При перетаскивании узла в Visual Studio отображается соответствующий индикатор.<br /><br /> Можно также перетаскивать узлы из группы.|
|Добавление узла в узел, не состоящий в группе.|Перетащите узел в целевой узел. Любой узел можно преобразовать в группу, добавив в него узлы.|
|Группирование выбранных узлов.|1.  Выберите узлы, которые требуется сгруппировать. Над последним выбранным узлом появится всплывающая панель инструментов.<br />     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph_toolbar.png "DepedencyGraph_Toolbar")<br />2.  На панели инструментов щелкните значок четвертый **группа выбранных узлов** (если узел развернут с пятью вместо четыре значка). Введите имя для новой группы и нажмите клавишу **возвращают**.<br />     -или-<br />     Выделите узлы, которые нужно сгруппировать, и откройте контекстное меню. Выберите **группы**, **Добавить родительскую группу**, введите имя для новой группы и нажмите клавишу **возвращают**.<br /><br /> Группу можно переименовать. Откройте контекстное меню для группы и выберите **изменить**, **свойства** для открытия окна свойств среды Visual Studio. В **метка** свойство, переименуйте группу при необходимости.|
|Удаление групп.|Выберите группу или группы, которые требуется удалить. Откройте контекстное меню для выбранного элемента и выберите **группы**, **удалить группу**.|
|Удаление узлов из родительской группы.|Выберите узлы, которые требуется переместить. Откройте контекстное меню для выбранного элемента и выберите **группы**, **удалить из родительской**. При этом узлы перемещаются в прародительскую группу или за пределы группы, если прародительской группы нет.<br /><br /> -или-<br /><br /> Выделите узлы и перетащите их за пределы группы.|

##  <a name="AddRemoveNodesLinks"></a> Добавление, удаление или переименование узлов, ссылки и комментарии
 Чтобы детализировать данные на карте или упростить ее, можно отображать на карте больше или меньше элементов. Вы также можете переименовывать элементы и добавлять к ним комментарии.

> [!CAUTION]
>  Перед тем как предоставить общий доступ к карте, созданной в Visual Studio Enterprise, пользователям Visual Studio Professional, отобразите все скрытые элементы кода, которые требуется показать другим пользователям. В противном случае эти пользователи не смогут извлечь удаленные элементы кода.

### <a name="add-a-node-for-a-code-element"></a>Добавление узла для элемента кода

|**Задача**|**Выполните следующие действия**|
|------------|-----------------------------|
|Добавление нового универсального узла в текущем положении указателя мыши.|1.  Переместите указатель мыши в место на карте, которой вы хотите добавить новый элемент кода и нажмите клавишу **вставить**.<br />     -или-<br />     Откройте контекстное меню для карты и выберите **изменить**, **добавить**, **универсальный узел**.<br />2.  Введите имя для нового узла и нажмите клавишу **возвращают**.|
|Добавление узла элемента кода определенного типа в текущем положении указателя мыши.|1.  Наведите указатель мыши на то место на карте, в которое нужно поместить новый элемент кода, и откройте контекстное меню карты.<br />2.  Выберите **изменить**, **добавить**и выберите требуемый узел.<br />3.  Введите имя для нового узла и нажмите клавишу **возвращают**.|
|Добавление узла элемента кода универсального или определенного типа в группу.|1.  Выделите узел группы и откройте контекстное меню.<br />2.  Выберите **изменить**, **добавить**и выберите требуемый узел.<br />3.  Введите имя для нового узла и нажмите клавишу **возвращают**.|
|Добавление нового узла, связанного с существующим узлом и имеющего тот же тип.|1.  Выделите элемент кода. Над ним появится всплывающая панель инструментов.<br />     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph_toolbar.png "DepedencyGraph_Toolbar")<br />2.  На панели инструментов щелкните второй значок **создание узла с той же категории этот узел и добавить новую ссылку на него**.<br />3.  Выберите место на карте, в которое нужно поместить новый элемент кода, и нажмите левую кнопку мыши.<br />4.  Введите имя для нового узла и нажмите клавишу **возвращают**.|
|Добавление нового универсального узла, на который указывает ссылка из существующего элемента кода, имеющего фокус.|1.  С помощью клавиатуры, нажмите клавишу **вкладке** ссылку из элемента кода фокус на (пунктирная прямоугольник).<br />2.  Нажмите клавишу **Alt**+**вставить**.<br />3.  Введите имя для нового узла и нажмите клавишу **возвращают**.|
|Добавление нового универсального узла со ссылкой на существующий элемент кода, имеющий фокус.|1.  С помощью клавиатуры, нажмите клавишу **вкладке** элемент кода, чтобы связать фокус на (пунктирная прямоугольник).<br />2.  Нажмите клавишу **Alt**+**Shift**+**вставить**.<br />3.  Введите имя для нового узла и нажмите клавишу **возвращают**.|

|**Чтобы добавить элементы кода**|**Выполните следующие действия**|
|----------------------------------|-----------------------------|
|Элементы кода в решении|1.  Найдите элемент кода в **обозревателе решений**. Используйте **обозревателе решений** поле поиска, или перейдите к решению. **Совет:** для поиска элементов кода, имеющие зависимости от типа или члена, откройте контекстное меню для типа или члена в **обозревателе решений**. Выберите требуемое отношение. **Обозреватель решений** показывает только те элементы кода с помощью указанных зависимостей.<br />2.  Перетащите требуемые элементы кода на поверхность карты. Элементы кода можно также перетаскивать из представления классов и обозревателя объектов.<br />     -или-<br />     В **обозревателе решений**, выберите элементы кода, которые необходимо сопоставить. Затем на **обозревателе решений** инструментов, нажмите кнопку **Показать на карте кода**.<br /><br /> По умолчанию на карте отображается иерархия родительского контейнера для новых элементов кода. Используйте **включить родительские элементы** кнопку на панели инструментов карты кода, чтобы изменить это поведение. Если этот режим выключен, на карту добавляется только сам элемент кода. Чтобы изменить это поведение для перетаскивания лишь один перетаскивания действие, нажмите и удерживайте клавишу **CTRL** ключа при перетаскивании элементов кода на карту.<br /><br /> Visual Studio добавляет элементы кода для выделенных элементов кода верхнего уровня. Чтобы проверить, содержит ли элемент кода другие элементы, наведите на него указатель мыши, чтобы появился шеврон (стрелка вниз). Щелкните шеврон, чтобы развернуть элемент кода. Чтобы развернуть все элементы кода, нажмите клавишу **CTRL**+**A** чтобы выбрать все элементы, откройте контекстное меню для карты и выберите **группы**, **развертывания** . Эта команда недоступна, если при развертывании всех групп карта станет непригодна к использованию или возникнут проблемы нехватки памяти.|
|Элементы кода, связанные с элементами кода на карте.|Нажмите кнопку **Показать связанные** кнопку на панели инструментов карты кода и выберите тип связанных элементов, которые вас интересуют.<br /><br /> -или-<br /><br /> Откройте контекстное меню элемента кода. Выберите один из **Показать...**  пункты меню в зависимости от типа связи, который нужно просмотреть. Например, можно просмотреть элементы, на которые ссылается текущий элемент или которые сами ссылаются на него, базовые и производные типы для классов, вызывающие объекты методов, а также содержащие классы, пространства имен и сборки.<br /><br /> Дополнительные сведения см. в разделе [в этом разделе](../modeling/map-dependencies-across-your-solutions.md).|
|Скомпилированные сборки .NET (DLL или EXE) или двоичные файлы.|Вне Visual Studio перетащите сборки или двоичные файлы на карту.<br /><br /> Объекты можно перетаскивать из проводника, только если проводник и Visual Studio запущены на одном уровне разрешений управления доступом на уровне пользователей. Например, если управление доступом на уровне пользователей включено и среда Visual Studio запущена с правами администратора, проводник Windows заблокирует операцию перетаскивания.|

###  <a name="AddNodes"></a>
##### <a name="add-a-link-between-existing-code-elements"></a>Добавление связи между существующими элементами кода

1.  Выделите исходный элемент кода. Над ним появится панель инструментов.

     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph_toolbar.png "DepedencyGraph_Toolbar")

2.  На панели инструментов нажмите значок первый **создать новую ссылку из этого узла на любой узел, который, вы щелкните следующим**.

3.  Выделите целевой элемент кода. Между двумя элементами кода появится связь.

 \- или -

1.  Выделите исходный элемент кода на карте.

2.  При наличии мыши переместите ее указатель за границы карты.

3.  Откройте контекстное меню элемента кода и выберите **изменить**, **добавить**, **универсальной ссылки**.

4.  Перейдите к целевому элементу кода для связи с помощью клавиши TAB и выделите его.

5.  Нажмите клавишу **ВВОД**.

###  <a name="AddComments"></a>
##### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>Добавление комментария к существующему узлу на карте

1.  Выделите элемент кода. Над ним появится панель инструментов.

     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph_toolbar.png "DepedencyGraph_Toolbar")

2.  На панели инструментов щелкните значок третий **создания нового узла комментария с новой ссылкой на выбранный узел**.

     \- или -

     Откройте контекстное меню для элемента кода, а затем выберите **изменить**, **нового комментария**.

3.  Введите комментарии. Для ввода в новой строке, нажмите клавишу **SHIFT** + **ВОЗВРАЩАЮТ**.

##### <a name="add-a-comment-to-the-map-itself"></a>Добавление комментария к самой карте

1.  Откройте контекстное меню для карты и выберите **изменить**, **нового комментария**.

2.  Введите комментарии. Для ввода в новой строке, нажмите клавишу **SHIFT** + **ВОЗВРАЩАЮТ**.

###  <a name="RenameNodes"></a>
##### <a name="rename-a-code-element-or-link"></a>Переименование элемента кода или связи

1.  Выделите элемент кода или связь, которые нужно переименовать.

2.  Нажмите клавишу **F2**, или откройте контекстное меню и выберите **изменить**, **переименование**.

3.  Когда на карте появится поле редактирования, переименуйте элемент кода или связь.

     \- или -

4.  Откройте контекстное меню и выберите **изменить**, **свойства**.

5.  Изменить **метка** свойства в окне свойств среды Visual Studio.

##### <a name="remove-a-code-element-or-link-from-the-map"></a>Удаление элемента кода или связи на карте

1.  Выберите код элемента или связи и нажмите клавишу **удалить** ключа.

     \- или -

     Откройте контекстное меню для элемента кода или ссылку и выберите **изменить**, **удалить**.

2.  Если элемент или связь входит в состав группы, **повторно извлечь дочерние элементы** кнопку ![повторно извлечь дочерние элементы значок](../modeling/media/dependencygraph_deletednodesicon.png "DependencyGraph_DeletedNodesIcon") появляется внутри группы. Нажмите ее, чтобы получить отсутствующие элементы и связи.

-   Элементы кода и связи можно удалять с карты, не меняя базовый код. При удалении элементов кода и связей их определения удаляются из DGML-файла.

-   Карты, созданные путем изменения DGML-файла, добавления неопределенных элементов кода или использования предыдущих версий Visual Studio, не поддерживают эту возможность.

##### <a name="flag-a-code-element-for-follow-up"></a>Добавление к элементу кода пометки к исполнению

1.  Выделите элемент кода или связь, которые нужно пометить к исполнению.

2.  Откройте контекстное меню и выберите **изменить**, **Отметка к исполнению**.

-   По умолчанию элемент кода получает красный фон. Рассмотрим [добавления комментария](#AddComments) на него соответствующей информацией по обработке результатов.

-   Изменить цвет фона для элемента или снимите флаг по обработке результатов, выбрав **изменить**, **другие цвета флаг**.

##  <a name="ChangeStyleCodeOrLink"></a> Изменение стиля элемента кода или ссылки
 Вы можете изменять значки на элементах кода, а также цвета элементов кода и связей, используя предопределенные значки и цвета. Например, можно выбрать цвет выделения элементов кода и связей в соответствии с категорией или свойством. Это позволит идентифицировать определенные области карты и сосредоточиться на них. Можно указать настраиваемые значки и цвета путем редактирования DGML-файла сопоставления; в разделе [карты кода Настройка путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).

#### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>Применение предопределенного цвета или значка к элементам кода или связям с определенной категорией или свойством

1.  На панели инструментов карты выберите **условных обозначений**.

2.  В **условных обозначений** см. в разделе, если код элемента категория или свойство уже присутствует в списке.

3.  Если список не содержит категорию или свойство, выберите **+** в **условных обозначений** , а затем выберите **свойства узла**, **узел категории** , **Свойства связи**, или **ссылку категории**. Затем выберите свойство или категорию. Категория или свойство отобразится в **условных обозначений** поле.

    > [!NOTE]
    >  Чтобы создать и назначить категорию или свойство элемента кода, можно отредактировать DGML-файла сопоставления; в разделе [карты кода Настройка путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).

4.  В **условных обозначений** поле, щелкните значок рядом с категория или свойство, можно добавить или изменить.

5.  Воспользуйтесь следующей таблицей, чтобы выбрать стиль, который нужно изменить:

    |**Чтобы изменить**|**Choose**|
    |-----------------------|----------------|
    |Цвет фона|**Фон**|
    |Цвет контура|**Штрих**|
    |Цвет текста (буква «f» отображается для отображения результатов)|**Передний план**|
    |Значок|**Значки**|

     **Цветовая палитра** или **значок палитра** откроется диалоговое окно для выбора цвета или значок.

6.  В **цветовая палитра** или **значок палитра** диалоговое окно, выполните одно из следующих действий:

    |**Для применения**|**Выполните следующие действия**|
    |--------------------|-----------------------------|
    |Набор цветов или значков|Откройте **выберите цвет** (или **значок**) **задать** списка. Выберите набор цветов или значков.|
    |Определенный цвет или значок|Откройте список значений категорий или свойств. Выберите цвет или значок.|

    > [!NOTE]
    >  Можно изменить, удалить или временно отключить стили в **условных обозначений** поле. В разделе [изменить условные обозначения](#ModifyLegend).

##  <a name="ModifyLegend"></a> Изменить условные обозначения
 Можно изменить, удалить или временно отключить стили в **условных обозначений** поле:

1.  Откройте контекстное меню стиля в **условных обозначений** поле.

2.  Выполните одну из следующих задач:

    |**Задача**|**Choose**|
    |------------|----------------|
    |Отключение элемента кода|**Отключено**|
    |Удаление элемента кода|**Удалить**|
    |Перемещение стиля вверх|**Переместить вверх**|
    |Перемещение элемента кода вниз|**Переместить вниз**|

##  <a name="CopyLegend"></a> Скопируйте сопоставления стили

1.  Убедитесь, что **условных обозначений** появится на схеме источника. Если не отображается, на панели инструментов карты выберите **условных обозначений**.

2.  Откройте контекстное меню для **условных обозначений** поле. Выберите **Копировать легенду**.

3.  Вставьте легенду на целевую карту.

##  <a name="MergeMaps"></a> Объединение карт кода
 Чтобы объединить карты, скопируйте и вставьте элементы кода из одной карты в другую. Если идентификаторы элементов кода совпадают, при вставке элементы кода объединяются. Чтобы упростить эту задачу, поместите все сборки или двоичные файлы, которые нужно визуализировать, в одну папку, чтобы полный путь к каждой сборке или двоичному файлу был одинаков для каждой карты, которую необходимо объединить.

 Кроме того, можно перетащить сборки или двоичные файлы из этой папки на одну и ту же карту.

## <a name="see-also"></a>См. также

- [Сопоставление зависимостей во всех решениях](../modeling/map-dependencies-across-your-solutions.md)
- [Использование карт кода для отладки приложений](../modeling/use-code-maps-to-debug-your-applications.md)
- [Поиск потенциальных проблем с помощью анализаторов карт кода](../modeling/find-potential-problems-using-code-map-analyzers.md)
- [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md)
- [Справочник по языку DGML](../modeling/directed-graph-markup-language-dgml-reference.md)

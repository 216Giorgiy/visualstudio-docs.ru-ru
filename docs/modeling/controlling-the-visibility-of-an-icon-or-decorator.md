---
title: "Управление видимостью значка или Decorator | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.topic: article
author: gewarren
ms.author: gewarren
manager: ghogen
ms.workload:
- multiple
ms.technology: vs-ide-modeling
ms.openlocfilehash: 835d9d356a06c831bb3decf6d0a5a6a4b5620302
ms.sourcegitcommit: 205d15f4558315e585c67f33d5335d5b41d0fcea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/09/2018
---
# <a name="controlling-the-visibility-of-an-icon-or-decorator"></a>Управление видимостью значка или декоратора
Объект *decorator* значок или строки текста, который отображается на фигуре в доменный язык (DSL). Можно внести декоратора отображаются и исчезают в зависимости от состояния свойства в модели. Например в форму, представляющую человека, может иметь различные значки, которые отображаются в зависимости от пола лица, число дочерних объектов и т. д.  
  
## <a name="controlling-the-visibility-of-an-icon-or-decorator"></a>Управление видимостью значка или decorator  
 В следующей процедуре предполагается, что вы уже определили фигуры и его сопоставление для класса домена. Дополнительные сведения см. в разделе [способ определения доменного языка](../modeling/how-to-define-a-domain-specific-language.md).  
  
#### <a name="to-control-the-visibility-of-an-icon-or-text-decorator"></a>Для управления видимостью декоратора значок или текст  
  
1.  В схема определения DSL добавьте в класс формы значков или декораторов текста, которые должны отображаться.  
  
    1.  Щелкните правой кнопкой мыши фигуру класса, выберите пункт **добавить**и выберите требуемый тип декоратора.  
  
    2.  Задать decorator **позиции** свойство. Более одного Декоратор может иметь ту же позицию. Например можно иметь мужчины и женщины, общий доступ к той же позиции в виде значков.  
  
    3.  Задать **значок по умолчанию** свойство декоратора значок.  
  
2.  Выберите схему элемент карты, которая представляет собой серую линию между фигуру класса и класса домена на схема определения DSL.  
  
3.  В окне сведений DSL в **Decorator Maps** выберите декоратор. Например MaleDecorator.  
  
4.  Проверьте **фильтра видимость** поле.  
  
5.  Если свойства домена, который должен управлять видимостью класс немедленно домена, оставьте **путь к свойству фильтра** пустым.  
  
     В противном случае щелкните раскрывающееся меню и перейдите к связи или класса, в котором находится свойство.  
  
    -   Во избежание отчет об ошибке, следует не перемещаться по связи, отмеченные «*» в средстве навигации.  
  
6.  Задать **свойство фильтра** свойству домена. Например пол.  
  
7.  В **видимость записи** добавьте значения этого свойства домена, для которого должны быть видимыми декоратор. Например, Мужской.  
  
8.  Повторите шаги для каждого значка.  
  
9. **Преобразовать все шаблоны**, построения и запуска и откройте схему теста.  
  
10. При изменении управляющий значение свойства, декораторы следует появляются и исчезают.  
  
 Как правило требуется видимость управляются более сложная формула, чем простой набор значений. Например отображается значок зависят от числа ссылок определенного типа или сделать его зависят от наличия число, в заданном интервале. В этом случае используйте следующую процедуру.  
  
#### <a name="to-control-the-visibility-of-a-decorator-based-on-a-formula"></a>Для управления видимостью декоратора на основе формулы  
  
1.  Добавьте в класс домена вычисляемое свойство. В **свойства** задайте следующие значения:  
  
     **IsBrowsable =**`False`**-это скрывает свойство от пользователя**   
  
     **Тип =**`Calculated`**-это означает, что обеспечит код для вычисления его значения**   
  
     **Имя** например **DecoratorControl**  
  
     **Тип** = `Boolean`  
  
     Дополнительные сведения см. в разделе [вычисляемые и пользовательские свойства хранилища](../modeling/calculated-and-custom-storage-properties.md).  
  
2.  Сделайте новый свойство управления декоратора видимостью.  
  
    1.  Выберите элемент карты схемы, которая является серой линии от класса домена к фигуре. В **сведений DSL** откройте **DecoratorMap** вкладки.  
  
    2.  Проверьте **фильтра видимость** поле.  
  
    3.  В **свойство фильтра**, выберите свойство элемента управления **DecoratorControl**.  
  
    4.  В разделе **записи видимость**, введите `True`.  
  
3.  Нажмите кнопку **преобразовать все шаблоны** в панели инструментов обозревателя решений.  
  
4.  Нажмите кнопку **построить решение** на **построения** меню.  
  
5.  Дважды щелкните отчет об ошибке, которое появилось: «*YourClass* не содержит определения для GetDecoratorControlValue...».  
  
     На Dsl\GeneratedCode\DomainClasses.cs открывается текстовый редактор. Над выделенной ошибке является комментарием, запрашивающий можно добавить метод.  
  
6.  Обратите внимание, пространство имен, класс и метод, отсутствуют.  Например, Company.FamilyTree.Person.GetDecoratorControlValue().  
  
7.  В отдельном файле кода напишите частичное определение класса, содержащего метод отсутствует. Пример:  
  
    ```  
    namespace Company.FamilyTree  
    { partial class Person  
      { bool GetDecoratorControlValue()  
        {  
          return this.Children.Count > 0;  
    } } }  
    ```  
  
     Дополнительные сведения о настройке модели с помощью программного кода. в разделе [перехода и обновления модели в программном коде](../modeling/navigating-and-updating-a-model-in-program-code.md).  
  
8.  Повторное построение и запуск решения.  
  
## <a name="see-also"></a>См. также  
 [Определение фигуры и соединители](../modeling/defining-shapes-and-connectors.md)   
 [Задание фонового изображения для диаграммы](../modeling/setting-a-background-image-on-a-diagram.md)   
 [Навигация по модели и обновление модели в программном коде](../modeling/navigating-and-updating-a-model-in-program-code.md)   
 [Написание кода для настройки доменного языка](../modeling/writing-code-to-customise-a-domain-specific-language.md)
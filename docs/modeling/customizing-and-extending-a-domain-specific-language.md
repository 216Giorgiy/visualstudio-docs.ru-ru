---
title: "Настройка и расширение доменного языка | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Domain-Specific Language Tools, creating solutions
ms.assetid: b155eb79-4e0a-4a99-a6f2-ca4f811fb5ca
caps.latest.revision: 48
author: alancameronwills
ms.author: awills
manager: douge
translation.priority.mt:
- cs-cz
- pl-pl
- pt-br
- tr-tr
translationtype: Machine Translation
ms.sourcegitcommit: 3d07f82ea737449fee6dfa04a61e195654ba35fa
ms.openlocfilehash: 00a120fc470393f8ab843636ca5d3400b004232b
ms.lasthandoff: 02/22/2017

---
# <a name="customizing-and-extending-a-domain-specific-language"></a>Настройка и расширение доменного языка
Visual Studio моделирования и визуализации SDK (VMSDK) предоставляет несколько уровней, в которых можно определить средств моделирования:  
  
1.  Определение доменного языка (DSL), с помощью схемы определения DSL. Можно быстро создать DSL со схематическим представлением, читаемой формой XML и основные инструменты, необходимые для создания кода и других артефактов.  
  
     Дополнительные сведения см. в разделе [способ определения доменного языка](../modeling/how-to-define-a-domain-specific-language.md).  
  
2.  Точная настройка DSL с помощью дополнительных функций определения DSL. Например можно сделать дополнительные ссылки, которые отображаются, когда пользователь создает элемент. Этих техник в определении DSL, а некоторые требуют несколько строк программного кода.  
  
3.  Расширение инструментов моделирования с помощью программного кода. VMSDK разработан специально для того, чтобы облегчить интеграцию расширений с кодом, который генерируется из определения DSL.  Дополнительные сведения см. в разделе [написание кода для настройки доменного языка](../modeling/writing-code-to-customise-a-domain-specific-language.md).  
  
> [!NOTE]
>  После обновления файла определения DSL, не забудьте нажать **преобразовать все шаблоны** на панели инструментов обозревателя решений перед повторным построением решения.  
  
##  <a name="a-namecustomshapesa-in-this-section"></a><a name="customShapes"></a>В этом разделе  
  
|Для достижения этого эффекта|См. в этом разделе|  
|----------------------------|-------------------------|  
|Разрешить пользователю задать цвет и стиль свойств фигуры.|Щелкните правой кнопкой мыши фигуру или соединитель класса, выберите пункт **добавить предоставленный**и щелкните элемент.<br /><br /> В разделе [Настройка представления схемы](../modeling/customizing-presentation-on-the-diagram.md).|  
|На схеме общих свойств, таких как исходную высоту и ширину, цвет, подсказки похожи различные классы элемента модели.|Используйте наследование между фигур и соединителей. Сопоставление сопоставлений производных фигур и производных классов доменов наследовать родительских элементов.<br /><br /> Или сопоставления классов другой домен в тот же класс фигуры.|  
|Класс элемента модели отображается контекстами различные фигуры.|Сопоставьте более одного класса shape в тот же класс домена. При построении решения следуйте отчет об ошибке и укажите запрошенный код, чтобы решить, какую форму использовать.|  
|Цвет фигуры или другие функции, такие как шрифт указывает текущее состояние.|В разделе [обновление фигур и соединителей в соответствии с моделью](../modeling/updating-shapes-and-connectors-to-reflect-the-model.md).<br /><br /> Создаете правило, которое обновляет этим свойствам. В разделе [правила распространяют изменения в пределах модели](../modeling/rules-propagate-changes-within-the-model.md).<br /><br /> Также можно использовать OnAssociatedPropertyChanged() для обновления не представлены функции, такие как стрелки ссылку или шрифта.|  
|Значок изменения фигуры для указания состояния.|Видимость сопоставление декоратора в окно сведений DSL. Найдите несколько декораторов образа на том же месте. В разделе [обновление фигур и соединителей в соответствии с моделью](../modeling/updating-shapes-and-connectors-to-reflect-the-model.md).<br /><br /> Или переопределить `ImageField.GetDisplayImage()`. Пример см. в <xref:Microsoft.VisualStudio.Modeling.Diagrams.ImageField>.</xref:Microsoft.VisualStudio.Modeling.Diagrams.ImageField>|  
|Установка фонового изображения на любой фигуры|Переопределите InitializeInstanceResources() Добавление привязанного ImageField. В разделе [Настройка представления схемы](../modeling/customizing-presentation-on-the-diagram.md).|  
|Вложенные фигуры на любую глубину|Настройка рекурсивного внедрение дерева. Определение BoundsRules содержать фигуры. В разделе [Настройка представления схемы](../modeling/customizing-presentation-on-the-diagram.md).|  
|Подключите разъемы на основных этапах на границе элемента.|Определение встроенных терминалов элементов, представленных небольшой портов на диаграмме. Используйте BoundsRules Устранение порты на месте. См. в образце Принципиальная схема в [визуализации и моделирования SDK](http://go.microsoft.com/fwlink/?LinkID=186128).|  
|Текстовое поле отображает значение, полученное из других значений.|Сопоставьте текстовый декоратор вычисляемое или хранения пользовательского свойства домена. Дополнительные сведения см. в разделе [вычисляемые и пользовательские свойства хранилища](../modeling/calculated-and-custom-storage-properties.md).|  
|Распространение изменений между элементами модели, и фигуры|В разделе [проверки в доменном языке](../modeling/validation-in-a-domain-specific-language.md).|  
|Распространение изменений на ресурсы, такие как [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] расширения за пределами хранилища.|В разделе [обработчики событий распространяют изменения за пределы модели](../modeling/event-handlers-propagate-changes-outside-the-model.md).|  
|Окно свойств отображаются свойства связанного элемента.|Настройка перенаправления свойство. В разделе [Настройка окна свойств](../modeling/customizing-the-properties-window.md).|  
|Категории свойств|Окно свойств содержит разделы называются категориями. Задайте **категории** свойств домена. Свойства с тем же именем категории будут отображаться в том же разделе. Можно также задать **категории** роли связи.|  
|Управление доступом пользователей к свойств домена|Задайте **возможность просмотра** false, чтобы свойство отображалось в окне «Свойства» во время выполнения. Вы по-прежнему можно сопоставить с декораторы текста.<br /><br /> **— Только для чтения** запрещает пользователям изменять свойства домена.<br /><br /> Программа доступа к свойству домена не влияет.|  
|Измените имя, значок и видимость узлов в обозревателе моделей доменного языка.|В разделе [Настройка обозревателя моделей](../modeling/customizing-the-model-explorer.md).|  
|Включение копирования, вырезания и вставки|Задать **включить копирование и вставку** свойство **редактор** узел в обозревателе DSL.|  
|Скопируйте их цели и ссылок всякий раз, когда элемент копируется. Например скопируйте комментарии, присоединенные к элементу.|Задать **распространение копирования** свойства роли источника (в виде линии с одной стороны отношения между доменом в схеме определения DSL).<br /><br /> Напишите код для переопределения ProcessOnCopy для достижения более сложных эффектов.<br /><br /> В разделе [Настройка функции копирования](../modeling/customizing-copy-behavior.md).|  
|Удаление, Переподчинение или связать связанных элементов, когда элемент удаляется.|Задайте **распространение удаления** значение роли отношений. Для более сложных эффектов переопределить `ShouldVisitRelationship` и `ShouldVisitRolePlayer` методы в `MyDslDeleteClosure` класс, определенный в **файле DomainModel.cs**<br /><br /> В разделе [Настройка функции удаления](../modeling/customizing-deletion-behavior.md)|  
|Сохранить макет фигуры и внешний вид на копирование и перетаскивания.|Добавление фигур и соединителей скопированный `ElementGroupPrototype`. Наиболее удобный метод для переопределения`ElementOperations.CreateElementGroupPrototype()`<br /><br /> В разделе [Настройка функции копирования](../modeling/customizing-copy-behavior.md).|  
|Вставьте фигуры в выбранное место, например в текущее положение указателя.|Переопределение `ClipboardCommandSet.ProcessOnCopy()` используется версия специфическая `ElementOperations.Merge().` разделе [Настройка поведения копирования](../modeling/customizing-copy-behavior.md).|  
|Создайте дополнительные связи, при вставке|Переопределение ClipboardCommandSet.ProcessOnPasteCommand()|  
|Включить перетаскивание из схемы, другие DSL и Windows элементы|В разделе [Практическое руководство: Добавление обработчика и перетащите](../modeling/how-to-add-a-drag-and-drop-handler.md)|  
|Разрешить фигуры или средству перетаскивать дочерние фигуры, например, порт, как если бы оно было перетаскивать на родительский.|Определите директива слияния элементов для целевого объекта класса для пересылки перетаскиваемый объект к родительскому элементу. В разделе [Настройка создания и перемещения элементов](../modeling/customizing-element-creation-and-movement.md).|  
|Разрешить фигуры или средство, чтобы перетащить фигуры и имеют дополнительные ссылки или создания объектов. Например, чтобы разрешить перетаскивать на элемент, к которому можно связать комментарий.|Определить директива слияния элементов на целевой класс домена и ссылки должны быть созданы. В сложных случаях можно добавить пользовательский код. В разделе [Настройка создания и перемещения элементов](../modeling/customizing-element-creation-and-movement.md).|  
|Создание группы элементов с одним из средств. Например компонент фиксированный набор портов.|Переопределите метод инициализации элементов из файла ToolboxHelper.cs. Создание элемента группы прототипа (EGP) содержащее элементы и их связей. В разделе [Настройка элементов и панели элементов](../modeling/customizing-tools-and-the-toolbox.md).<br /><br /> Включите основной и порт фигуры в EGP, или определить BoundsRules, чтобы изменить расположение фигур портов при создании экземпляра EGP. В разделе [BoundsRules ограничивает расположение и размеры](../modeling/boundsrules-constrain-shape-location-and-size.md).|  
|Используйте одно средство подключения для создания нескольких типов связи.|Добавьте директивы подключения связи (LCD) построитель подключения, которая вызывается с помощью средства. LCDs определить тип связи от двух элементов типов. Чтобы сделать это зависит от состояния элементов, можно добавить пользовательский код. В разделе [Настройка элементов и панели элементов](../modeling/customizing-tools-and-the-toolbox.md).|  
|Прикрепленные средства — пользователь может дважды щелкнуть любой инструмент для создания многих фигур и соединителей подряд.|В обозревателе DSL выберите `Editor` узла. В окне «Свойства» задайте **использует закрепленные элементы**.|  
|Определение команды меню|В разделе [Практическое руководство: изменение стандартной команды меню](../modeling/how-to-modify-a-standard-menu-command-in-a-domain-specific-language.md)|  
|Ограничения модели с помощью правил проверки|В разделе [проверка в доменных языках](../modeling/validation-in-a-domain-specific-language.md)|  
|Создание кода, файлы конфигурации или документы из доменного языка.|[Создание кода из доменного языка](../modeling/generating-code-from-a-domain-specific-language.md)|  
|Настройка сохранения модели в файл.|В разделе [Настройка хранилища файлов и XML-сериализация](../modeling/customizing-file-storage-and-xml-serialization.md)|  
|Сохраните моделей баз данных или другой носитель.|Переопределение *ваш язык*DocData<br /><br /> В разделе [Настройка хранилища файлов и XML-сериализация](../modeling/customizing-file-storage-and-xml-serialization.md)|  
|Интегрируйте несколько доменных языков, чтобы они работали в рамках одного приложения.|В разделе [интеграция моделей с помощью Visual Studio Modelbus](../modeling/integrating-models-by-using-visual-studio-modelbus.md).|  
|Разрешить DSL расширять третьими сторонами и контролировать расширения.|[Расширение доменного языка с помощью MEF](../modeling/extend-your-dsl-by-using-mef.md)<br /><br /> [Совместное использование классов в различных доменных языках с помощью библиотеки доменных языков](../modeling/sharing-classes-between-dsls-by-using-a-dsl-library.md)<br /><br /> [Определение политики блокировки для создания сегментов, доступных только для чтения](../modeling/defining-a-locking-policy-to-create-read-only-segments.md)|  
|||  
  
## <a name="see-also"></a>См. также  
 [Способ определения доменного языка](../modeling/how-to-define-a-domain-specific-language.md)   
 [Написание кода для настройки доменного языка](../modeling/writing-code-to-customise-a-domain-specific-language.md)   
 [SDK моделирования для Visual Studio — доменные языки](../modeling/modeling-sdk-for-visual-studio-domain-specific-languages.md)

[!INCLUDE[modeling_sdk_info](includes/modeling_sdk_info.md)]



---
title: Настройка и расширение доменного языка
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- Domain-Specific Language Tools, creating solutions
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.technology: vs-ide-modeling
ms.openlocfilehash: 1742f6cbc4503306766a771db3ed0ab7c264d685
ms.sourcegitcommit: 4c0bc21d2ce2d8e6c9d3b149a7d95f0b4d5b3f85
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/20/2018
---
# <a name="customizing-and-extending-a-domain-specific-language"></a>Настройка и расширение доменного языка
Visual Studio моделирования и визуализации SDK (VMSDK) предоставляет несколько уровней, в которых можно определить средств моделирования:

1.  Определения доменного языка (DSL), с помощью схема определения DSL. Можно быстро создать доменный язык DSL с Схематическое представление, удобочитаемой форме XML и основные средства, которые необходимы для создания кода и других артефактов.

     Дополнительные сведения см. в разделе [способ определения доменного языка](../modeling/how-to-define-a-domain-specific-language.md).

2.  С помощью дополнительных функций, определения DSL тонкую настройку DSL. Например можно создать дополнительные ссылки, которые отображаются, когда пользователь создает элемент. Эти методы главным образом увеличивается во время определения DSL и некоторым требуется всего несколько строк кода программы.

3.  Средства моделирования расширить с помощью программного кода. VMSDK разработан специально для того, чтобы облегчить интеграцию расширений с кодом, который генерируется из определения DSL.  Дополнительные сведения см. в разделе [написание кода для настройки доменного языка](../modeling/writing-code-to-customise-a-domain-specific-language.md).

> [!NOTE]
>  При обновлении файла определения DSL не забудьте щелкните **преобразовать все шаблоны** на панели инструментов обозревателя решений перед повторным построением решения.

##  <a name="customShapes"></a> В этом разделе

|Чтобы этого добиться|См. в этом разделе|
|----------------------------|-------------------------|
|Разрешить пользователю устанавливать цвет и стиль свойств фигуры.|Щелкните правой кнопкой мыши класс фигуры или соединитель, выберите пункт **добавьте предоставляется**и щелкните элемент.<br /><br /> В разделе [Настройка представления схемы](../modeling/customizing-presentation-on-the-diagram.md).|
|Различные классы элемента модели похожи на диаграмме, свойства, такие как Начальная высота и ширина, цвета, всплывающие подсказки для управления доступом.|Использование наследования между фигурами или классы соединителя. Сопоставления между производном фигур и производные классы наследуют сведения о сопоставлении родительских элементов.<br /><br /> Или другой домен классы схем в один и тот же класс фигуры.|
|Класс элемента модели отображается контекстами различные формы.|Сопоставьте более одного класса фигуры в тот же класс домена. При построении решения следуйте отчет об ошибке и запрошенный кода решаете, какие формы.|
|Цвет фигуры или другие функции, такие как шрифт показывают текущее состояние.|В разделе [обновление фигур и соединителей в соответствии с моделью](../modeling/updating-shapes-and-connectors-to-reflect-the-model.md).<br /><br /> Создайте правило, которое обновляет этим свойствам. В разделе [правила распространяют изменения в пределах модели](../modeling/rules-propagate-changes-within-the-model.md).<br /><br /> Также можно использовать для обновления не предоставляются возможности, такие как стрелки ссылку или шрифта OnAssociatedPropertyChanged().|
|Значок изменения фигуры для обозначения состояния.|Видимость декоратора сопоставления в окно сведений DSL. Найдите несколько декораторов образа на том же месте. В разделе [обновление фигур и соединителей в соответствии с моделью](../modeling/updating-shapes-and-connectors-to-reflect-the-model.md).<br /><br /> Или переопределить `ImageField.GetDisplayImage()`. См. пример в <xref:Microsoft.VisualStudio.Modeling.Diagrams.ImageField>.|
|Задать фоновое изображение на любой фигуры|Переопределите InitializeInstanceResources() Добавление привязанного ImageField. В разделе [Настройка представления схемы](../modeling/customizing-presentation-on-the-diagram.md).|
|К любой глубины вложенности фигуры|Настройка рекурсивного внедрение дерева. Определите BoundsRules содержит фигуры. В разделе [Настройка представления схемы](../modeling/customizing-presentation-on-the-diagram.md).|
|Подключите разъемы у предопределенной точек на границе элемента.|Определите терминалов встроенных элементов, представленной небольшой порты на диаграмме. Используйте BoundsRules Устранение порты на месте. См. пример схемы канала в [визуализации и моделирования SDK](http://go.microsoft.com/fwlink/?LinkID=186128).|
|Текстовое поле отображает значение, полученное из других значений.|Сопоставьте decorator текста свойству домена Calculated и пользовательские хранилища. Дополнительные сведения см. в разделе [вычисляемые и пользовательские свойства хранилища](../modeling/calculated-and-custom-storage-properties.md).|
|Распространение изменений между элементами модели, и фигуры|В разделе [проверка доменного языка](../modeling/validation-in-a-domain-specific-language.md).|
|Распространение изменений на ресурсы, такие как [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] расширения за пределами хранилища.|В разделе [обработчики событий распространяют изменения за пределы модели](../modeling/event-handlers-propagate-changes-outside-the-model.md).|
|Окно свойств отображаются свойства связанный элемент.|Настройка перенаправления свойство. В разделе [Настройка окна свойств](../modeling/customizing-the-properties-window.md).|
|Категории свойств|Окно свойств содержит разделы, которые называются категориями. Задать **категории** свойств домена. Свойства с тем же именем категории будут отображаться в одном разделе. Можно также задать **категории** роли связи.|
|Доступ пользователя к свойств домена|Задать **является отображаемым** false, чтобы свойство отображалось в окне «Свойства» во время выполнения. Вы по-прежнему можно сопоставить для декораторов текста.<br /><br /> **Пользовательский Интерфейс только для чтения** запрещает пользователям изменять свойства домена.<br /><br /> Программа доступ к свойству домена не влияет.|
|Измените имя, значок и видимость узлов в обозревателе моделей доменного языка.|В разделе [Настройка обозревателя моделей](../modeling/customizing-the-model-explorer.md).|
|Включить копирование, вырезание и вставка|Задать **включить копирования вставки** свойство **редактор** узел в обозревателе DSL.|
|Копирование ссылки для справки и их цели всякий раз, когда элемент копируется. Например скопируйте комментарии, присоединенные к элементу.|Задать **распространяет копирования** свойства роли источника (в виде линии на одной стороне связи домена на схема определения DSL).<br /><br /> Напишите код, чтобы переопределить ProcessOnCopy для достижения более сложные последствия.<br /><br /> В разделе [Настройка функции копирования](../modeling/customizing-copy-behavior.md).|
|Удалять, Переподчинение и повторное связывание связанных элементов, при удалении элемента.|Задать **распространяет удалить** значение роли отношений. Более сложные последствия переопределить `ShouldVisitRelationship` и `ShouldVisitRolePlayer` методы в `MyDslDeleteClosure` класс, определенный в **DomainModel.cs**<br /><br /> В разделе [Настройка функции удаления](../modeling/customizing-deletion-behavior.md)|
|Сохранить макет формы и внешний вид на копирование и перетаскивания.|Добавление фигуры и соединители скопированный `ElementGroupPrototype`. Является наиболее удобным способом для переопределения `ElementOperations.CreateElementGroupPrototype()`<br /><br /> В разделе [Настройка функции копирования](../modeling/customizing-copy-behavior.md).|
|Вставьте фигуры в выбранное место, например в текущее положение указателя.|Переопределить `ClipboardCommandSet.ProcessOnCopy()` использовать версию специфическая `ElementOperations.Merge().` разделе [Настройка функции копирования](../modeling/customizing-copy-behavior.md).|
|Создать дополнительные связи, при вставке|Переопределить ClipboardCommandSet.ProcessOnPasteCommand()|
|Включить перетаскивания из этой диаграммы других доменного языка и Windows элементов|В разделе [как: добавить обработчик перетаскивания и вставки](../modeling/how-to-add-a-drag-and-drop-handler.md)|
|Разрешить фигуры или, которая позволяет перетаскивать дочерние фигуры, например к порту, как если бы были перетащить родительского.|Определите директива слияния элементов для целевого объекта класса переслать удаляемый объект к родительскому элементу. В разделе [Настройка создания и перемещения элементов](../modeling/customizing-element-creation-and-movement.md).|
|Разрешить фигуры или средства, чтобы перетащить фигуру дополнительные ссылки или объекты, созданные. Например, чтобы разрешить комментарий перетаскиваемого на элемент, к которому это должна быть установлена связь.|Определить директива слияния элементов для целевого класса домена и ссылки должен быть создан. В сложных случаях можно добавить пользовательский код. В разделе [Настройка создания и перемещения элементов](../modeling/customizing-element-creation-and-movement.md).|
|Создайте группу элементов с одним из средств. Например компонент фиксированный набор портов.|Переопределите метод инициализации элементов в ToolboxHelper.cs. Создайте элемент группы прототип (EGP) содержащий элементы и их связей. В разделе [Настройка элементов и панели элементов](../modeling/customizing-tools-and-the-toolbox.md).<br /><br /> Включите основной и порт фигуры в EGP, или определить BoundsRules, чтобы изменить расположение фигур портов при создании экземпляра EGP. В разделе [BoundsRules ограничивает расположение и размеры](../modeling/boundsrules-constrain-shape-location-and-size.md).|
|Использовать одно соединение инструмент для создания экземпляра несколько видов отношений.|Добавьте построитель подключения, вызываемый с помощью средства подключения директивы ссылок (LCD). ЖК-мониторы определяют тип отношения от типов двух элементов. Чтобы сделать это зависит от состояния элементов, можно добавить пользовательский код. В разделе [Настройка элементов и панели элементов](../modeling/customizing-tools-and-the-toolbox.md).|
|Закрепленные Сервис - пользователя можно дважды щелкнуть любой инструмент для создания многих фигуры и соединители подряд.|Выберите в обозревателе DSL `Editor` узла. В окне свойств задайте **использует закрепленные элементы панели элементов**.|
|Определение команды меню|В разделе [как: изменить стандартную команду](../modeling/how-to-modify-a-standard-menu-command-in-a-domain-specific-language.md)|
|Исключают из модели с помощью правил проверки|В разделе [проверка доменного языка](../modeling/validation-in-a-domain-specific-language.md)|
|Создание кода, файлов конфигурации или документы из DSL.|[Создание кода из доменного языка](../modeling/generating-code-from-a-domain-specific-language.md)|
|Настройка сохранения моделей в файл.|В разделе [Настройка хранилища файлов и XML-сериализация](../modeling/customizing-file-storage-and-xml-serialization.md)|
|Сохраните моделей баз данных или другой носитель.|Переопределить *YourLanguage*DocData<br /><br /> В разделе [Настройка хранилища файлов и XML-сериализация](../modeling/customizing-file-storage-and-xml-serialization.md)|
|Объединить несколько доменного языка, чтобы они работали в рамках одного приложения.|В разделе [интеграция моделей с помощью Visual Studio Modelbus](../modeling/integrating-models-by-using-visual-studio-modelbus.md).|
|Разрешить DSL расширять сторонними производителями и контролировать расширения.|[Расширение доменного языка с помощью MEF](../modeling/extend-your-dsl-by-using-mef.md)<br /><br /> [Совместное использование классов в различных доменных языках с помощью библиотеки доменных языков](../modeling/sharing-classes-between-dsls-by-using-a-dsl-library.md)<br /><br /> [Определение политики блокировки для создания сегментов, доступных только для чтения](../modeling/defining-a-locking-policy-to-create-read-only-segments.md)|

## <a name="see-also"></a>См. также

- [Определение доменного языка](../modeling/how-to-define-a-domain-specific-language.md)
- [Написание кода для настройки доменного языка](../modeling/writing-code-to-customise-a-domain-specific-language.md)
- [SDK моделирования для Visual Studio — доменные языки](../modeling/modeling-sdk-for-visual-studio-domain-specific-languages.md)

[!INCLUDE[modeling_sdk_info](includes/modeling_sdk_info.md)]
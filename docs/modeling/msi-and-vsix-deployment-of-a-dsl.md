---
title: "MSI-ФАЙЛ и развертывания VSIX DSL | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 6ce16f06-1978-4e19-8cdc-441ee65a3fb2
caps.latest.revision: "2"
author: alancameronwills
ms.author: awills
manager: douge
ms.workload: multiple
ms.openlocfilehash: 0106c63a967e8780c56245d461231f7df47f5b35
ms.sourcegitcommit: 32f1a690fc445f9586d53698fc82c7debd784eeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="msi-and-vsix-deployment-of-a-dsl"></a>Развертывание доменного языка с использование MSI и VSIX
Доменный язык можно установить на локальном компьютере или на других компьютерах. [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]должна быть установлена на конечном компьютере.  
  
##  <a name="which"></a>Выбор между VSIX и MSI развертывания  
 Существует два способа развертывания доменного языка:  
  
|Метод|Преимущества|  
|------------|--------------|  
|VSX ([!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] расширения)|Очень простое для развертывания: копирование и выполнения **.vsix** файл из проекта DslPackage.<br /><br /> Дополнительные сведения см. [Установка и удаление DSL с помощью VSX](#Installing).|  
|MSI (файл установщика)|-Позволяет пользователю открыть [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] , дважды щелкнув файл DSL.<br />— Связывает значка с типом файла DSL на целевом компьютере.<br />— Связывает XSD (XML schema) с типом файла DSL. Это позволяет избежать предупреждения, когда файл загружается в [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)].<br /><br /> Проект установки необходимо добавить в решение, чтобы создать MSI-ФАЙЛ.<br /><br /> Дополнительные сведения см. в разделе [развертывание DSL с помощью MSI-файл](#msi).|  
  
##  <a name="Installing"></a>Установка и удаление с помощью VSX DSL  
 При установке с помощью данного метода Доменного пользователя можно открыть файл DSL изнутри [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)], но не удается открыть файл из проводника Windows.  
  
#### <a name="to-install-a-dsl-by-using-the-vsx"></a>Установка с помощью VSX DSL  
  
1.  На компьютере, найдите **.vsix** файл, который был создан проектом DSL пакета.  
  
    1.  В **обозревателе решений**, щелкните правой кнопкой мыши **DslPackage** проекта, а затем нажмите кнопку **открыть папку в проводнике Windows**.  
  
    2.  Найдите файл **bin\\\*\\***Ваш_проект***. DslPackage.vsix**  
  
2.  Копировать **.vsix** файл на конечный компьютер, на котором требуется установить DSL. Это может быть как ваш собственный компьютер, так и любой другой.  
  
    -   Целевой компьютер должен иметь один из выпусков [!INCLUDE[vs_current_short](../code-quality/includes/vs_current_short_md.md)] во время выполнения, который поддерживает доменного языка. Дополнительные сведения см. в разделе [поддерживается для пакета SDK для моделирования и визуализации выпуски на Visual Studio](../modeling/supported-visual-studio-editions-for-visualization-amp-modeling-sdk.md).  
  
    -   Целевой компьютер должен иметь один из выпусков [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] указано в **DslPackage\source.extensions.manifest**.  
  
3.  На целевом компьютере, дважды щелкните **.vsix** файла.  
  
     Откроется**установщик расширений Visual Studio** , который устанавливает расширение.  
  
4.  Запустите или перезапустите [!INCLUDE[vs_current_short](../code-quality/includes/vs_current_short_md.md)].  
  
5.  Чтобы протестировать DSL, используйте [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] для создания файла с расширением, которое было определено для доменного языка.  
  
#### <a name="to-uninstall-a-dsl-that-was-installed-by-using-vsx"></a>Чтобы удалить доменный язык DSL, установленный с помощью VSX  
  
1.  На **средства** меню, нажмите кнопку **Диспетчер расширений**.  
  
2.  Разверните узел **Установленные расширения**.  
  
3.  Выберите расширение, в котором определен DSL, а затем щелкните **удаления**.  
  
 Иногда неисправное расширение не удается загрузить, в результате чего в окне ошибок создается отчет, который не отображается в диспетчере расширений. В этом случае расширение можно удалить, удалив файл из следующей папки:  
  
 *LocalAppData* **\Microsoft\VisualStudio\10.0\Extensions**  
  
##  <a name="msi"></a>Развертывание DSL в MSI-ФАЙЛ  
 Определив файл MSI (установщик Windows) для доменного языка, можно разрешить пользователям открывать DSL файлы из проводника Windows. Значок и краткое описание можно также связать с расширением имени файла. Кроме того MSI-ФАЙЛ можно установить XSD, который может использоваться для проверки файлов DSL. Если нужно, вы можете добавить другие компоненты в MSI-ФАЙЛ, который будет установлен в то же время.  
  
 Дополнительные сведения о MSI-файлов и других возможностях развертывания см. в разделе [развертывание приложений, служб и компонентов](../deployment/deploying-applications-services-and-components.md).  
  
 Чтобы создать MSI-ФАЙЛ, добавьте проект установки для вашей [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] решения. Самый простой способ создания проекта установки является использование шаблона CreateMsiSetupProject.tt, который можно загрузить из [VMSDK сайта](http://go.microsoft.com/fwlink/?LinkID=186128).  
  
#### <a name="to-deploy-a-dsl-in-an-msi"></a>Развертывание DSL в MSI-ФАЙЛ  
  
1.  Задать `InstalledByMsi` в манифесте расширения. Это предотвращает VSX устанавливается и удаляется за исключением по MSI-ФАЙЛ. Это важно, если другие компоненты, которые будут включены в MSI-ФАЙЛ.  
  
    1.  Откройте DslPackage\source.extension.tt  
  
    2.  Вставьте следующую строку перед `<SupportedProducts>`:  
  
        ```  
        <InstalledByMsi>true</InstalledByMsi>  
        ```  
  
2.  Создание или изменение значка, представляющий доменного языка в проводнике Windows. Например, изменить **DslPackage\Resources\File.ico**  
  
3.  Убедитесь, что верны следующие атрибуты доменного языка:  
  
    -   В обозреватель DSL выберите корневой узел и в окне свойств просмотрите:  
  
        -   Описание:  
  
        -   Версия  
  
    -   Нажмите кнопку **редактор** узел и в окне свойств щелкните **значок**. Задайте значение в ссылку на файл значка в **DslPackage\Resources**, такие как **File.ico**  
  
    -   На **построения** выберите пункт **Configuration Manager**и выберите конфигурацию, которую требуется выполнить сборку, таких как **выпуска** или **Отладка** .  
  
4.  Последовательно выберите пункты [визуализации и моделирования SDK домашнюю страницу](http://go.microsoft.com/fwlink/?LinkID=186128)и из **загружает** вкладки, загрузите **CreateMsiSetupProject.tt**.  
  
5.  Добавить **CreateMsiSetupProject.tt** проект Dsl.  
  
     [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]будет создан файл с именем **CreateMsiSetupProject.vdproj**.  
  
6.  В проводнике Windows, скопируйте Dsl\\*.vdproj в новую папку с именем установки.  
  
     (Если нужно, вы может теперь исключить CreateMsiSetupProject.tt из проекта Dsl.)  
  
7.  В **обозревателе решений**, добавьте **установки\\\*.vdproj** существующего проекта.  
  
8.  На **проекта** меню, нажмите кнопку **зависимости проекта**.  
  
     В **зависимости проекта** диалогового окна выберите проект установки.  
  
     Установите флажок рядом с **DslPackage**.  
  
9. Выполните повторную сборку решения.  
  
10. В проводнике Windows найдите построенный MSI-файл в проект установки.  
  
     Скопируйте файл MSI на компьютер, на котором требуется установить доменного языка. Дважды щелкните MSI-файл. Запуск установщика.  
  
11. На целевом компьютере создайте новый файл с расширением доменного языка. Убедитесь, что:  
  
    -   В представлении списка в проводнике Windows файл появляется значок и описание, которое было определено.  
  
    -   Если дважды щелкнуть файл, [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] начинается и открывает файл DSL в редакторе DSL.  
  
 При желании можно создать проект установки вручную, вместо текстового шаблона. Пошаговое руководство, которое включает в себя эту процедуру в разделе главы 5 [визуализации и моделирования лаборатории SDK](http://go.microsoft.com/fwlink/?LinkId=208878).  
  
#### <a name="to-uninstall-a-dsl-that-was-installed-from-an-msi"></a>Чтобы удалить доменный язык DSL, установленного из MSI-ФАЙЛ  
  
1.  В Windows откройте **программы и компоненты** панели управления.  
  
2.  Удалите DSL.  
  
3.  Перезапустите Visual Studio.
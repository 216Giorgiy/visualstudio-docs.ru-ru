---
title: "Задача GenerateResource | Microsoft Docs"
ms.custom: ""
ms.date: "12/14/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "http://schemas.microsoft.com/developer/msbuild/2003#GenerateResource"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "GenerateResource - задача [MSBuild]"
  - "MSBuild, GenerateResource - задача"
ms.assetid: c0aff32f-f2cc-46f6-9c3e-a5c9f8f912b1
caps.latest.revision: 15
caps.handback.revision: 15
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
---
# Задача GenerateResource
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Преобразование TXT\- и RESX\-файлов \(файлы ресурсов на основе XML\) и двоичные файлы с расширением .resources общеязыковой среды выполнения, которые могут быть внедрены в двоичный исполняемый файл среды выполнения или скомпилированы в сопутствующие сборки.  Эта задача обычно используется для преобразования TXT\- и RESX\-файлов в файлы .resources.  Задача `GenerateResource` функционально аналогична задаче [resgen.exe](../Topic/Resgen.exe%20\(Resource%20File%20Generator\).md).  
  
## Параметры  
 В следующей таблице описаны параметры задачи `GenerateResource`.  
  
|Параметр|Описание|  
|--------------|--------------|  
|`AdditionalInputs`|Необязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]`<br /><br /> Содержит дополнительные входные файлы для выполненной задачей проверки зависимостей.  Например, для обеспечения повторного создания всех ресурсов в случае обновления файла проекта и целевых файлов эти файлы обычно должны быть входными.|  
|`EnvironmentVariables`|Необязательный параметр типа `String[]`.<br /><br /> Задает массив пар "имя\-значение" переменных среды, которые должны быть переданы в созданный файл resgen.exe в дополнение к обычному блоку среды \(или частично переопределяя его\).|  
|`ExcludedInputPaths`|Необязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]`<br /><br /> Задает массив элементов, задающих пути, из которых отслеживаемые входные данные во время проверки обновлений игнорируются.|  
|`ExecuteAsTool`|Необязательный параметр типа `Boolean`.<br /><br /> Если `true`, выполняет tlbimp.exe и aximp.exe из соответствующей требуемой версии .NET Framework из внешнего процесса для создания необходимых сборок\-оболочек.  Этот параметр позволяет настройку для различных версий `ResolveComReferences`.|  
|`FilesWritten`|Необязательный выходной параметр типа <xref:Microsoft.Build.Framework.ITaskItem>`[]`.<br /><br /> Имена всех файлов, записываемых на диск.  В этот набор включен файл кэша, если он имеется.  Этот параметр применяется для реализации метода Clean.|  
|`MinimalRebuildFromTracking`|Необязательный параметр типа `Boolean`.<br /><br /> Получает или задает параметр, задающий, будет ли использоваться отслеживаемое инкрементное построение.  Если значение `true`, инкрементное построение включено; в противном случае будет принудительно выполнено перестроение.|  
|`NeverLockTypeAssemblies`|Необязательный параметр типа `Boolean`.<br /><br /> Имена созданных файлов, например файлов .resources.  Если имя не указано, то используется имя соответствующего входного файла, а создаваемый файл .resources помещается в каталог, содержащий входной файл.|  
|`OutputResources`|Необязательный выходной параметр типа <xref:Microsoft.Build.Framework.ITaskItem>`[]`.<br /><br /> Имена созданных файлов, например файлов .resources.  Если имя не указано, то используется имя соответствующего входного файла, а создаваемый файл .resources помещается в каталог, содержащий входной файл.|  
|`PublicClass`|Необязательный параметр типа `Boolean`.<br /><br /> При значении `true` создается строго типизированный класс ресурсов — открытый класс.|  
|`References`|Необязательный параметр типа `String[]`.<br /><br /> Ссылки на типы загрузки из файлов .resx.  Элементы данных в файле .resx могут иметь тип .NET.  При считывании файла .resx это противоречие должно быть разрешено.  Обычно это разрешается с помощью стандартных правил загрузки типов.  Сборки, указанные в параметре `References`, имеют приоритет.<br /><br /> Этот параметр не требуется для строго типизированных ресурсов.|  
|`SdkToolsPath`|Необязательный параметр типа `String`.<br /><br /> Задает путь к средствам SDK, таким как resgen.exe.|  
|`Sources`|Обязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]`.<br /><br /> Элементы для преобразования.  Элементы, передаваемые этому параметру, должны иметь одно из следующих файловых расширений:<br /><br /> -   `.txt`: расширение текстового файла, который должен быть преобразован.  Текстовые файлы могут содержать только строковые ресурсы.<br />-   `.resx`: расширение файла ресурсов на основе XML, который должен быть преобразован.<br />-   `.restext`: тот же формат, что и .txt.  Полезно использовать это альтернативное расширение, если требуется отделить исходные файлы, содержащие ресурсы, от других исходных файлов в процессе построения.<br />-   `.resources`: расширение файла ресурсов, который должен быть преобразован.|  
|`StateFile`|Необязательный параметр типа <xref:Microsoft.Build.Framework.ITaskItem>.<br /><br /> Путь к необязательному файлу кэша, используемому для ускорения проверки зависимости для ссылок во входных файлах .resx.|  
|`StronglyTypedClassName`|Необязательный параметр типа `String`.<br /><br /> Имя класса для строго типизированного класса ресурсов.  Если этот параметр не задан, то используется базовое имя файла ресурсов.|  
|`StronglyTypedFilename`|Необязательный параметр типа <xref:Microsoft.Build.Framework.ITaskItem>.<br /><br /> Имя для исходного файла.  Если этот параметр не задан, то в качестве базового имени файла используется имя класса, расширение которого зависит от языка.  Например, `MyClass.cs`.|  
|`StronglyTypedLanguage`|Необязательный параметр типа `String`.<br /><br /> Язык, применяемый во время создания источника класса для строго типизированного ресурса.  Этот параметр должен точно совпадать с одним из языков, применяемых поставщиком CodeDomProvider.  Например, `VB` или `C#`.<br /><br /> Передавая значение этому параметру, вы задаете этой задаче условие создавать строго типизированные ресурсы.|  
|`StronglyTypedManifestPrefix`|Необязательный параметр типа `String`.<br /><br /> Задает Пространство имен ресурсов или префикс манифеста, используемые в источнике создаваемого класса для строго типизированного ресурса.|  
|`StronglyTypedNamespace`|Необязательный параметр типа `String`.<br /><br /> Пространство имен, используемое в создаваемом источнике класса для строго типизированного ресурса.  Если этот параметр не задан, то все строго типизированные ресурсы находятся в глобальном пространстве имен.|  
|`TLogReadFiles`|Необязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]`, предназначенный только для чтения.<br /><br /> Получает массив элементов, представляющих журналы отслеживания чтения.|  
|`TLogWriteFiles`|Необязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]`, предназначенный только для чтения.<br /><br /> Получает массив элементов, представляющих журналы отслеживания записи.|  
|`ToolArchitecture`|Необязательный параметр типа [String](assetId:///String?qualifyHint=False&autoUpgrade=True).<br /><br /> Используется для определения, необходимо ли использовать Tracker.exe для запуска ResGen.exe.<br /><br /> Должно быть распознаваемо в член перечисления<xref:Microsoft.Build.Utilities.ExecutableType>.  Если `String.Empty`, использует эвристический алгоритм для определения архитектуры по умолчанию.  Должно быть распознаваемо в член перечисления Microsoft.Build.Utilities.ExecutableType.|  
|`TrackerFrameworkPath`|Необязательный параметр типа assetId:///String?qualifyHint=False&autoUpgrade=True.<br /><br /> Указывает путь к соответствующему местоположению .NET Framework, где содержится FileTracker.dll.<br /><br /> Если задано, пользователь отвечает за обеспечение того, что разрядность FileTracker.dll, который передается, совпадала с рязрядностью ResGen.exe, который предполагалось использовать.  Если не установлен, задача выбирает соответствующее место на основании текущей версии .NET Framework.|  
|`TrackerLogDirectory`|Необязательный параметр типа assetId:///String?qualifyHint=False&autoUpgrade=True.<br /><br /> Задает промежуточный каталог, в котором будут размещены журналы отслеживания выполнения этой задачи.|  
|`TrackerSdkPath`|Необязательный параметр типа assetId:///String?qualifyHint=False&autoUpgrade=True.<br /><br /> Указывает путь к соответствующему местоположению Windows SDK, где содержится Tracker.exe.<br /><br /> Если задано, пользователь отвечает за обеспечение того, что разрядность Tracker.exe, который передается, совпадала с рязрядностью ResGen.exe, который предполагалось использовать.  Если не установлен, задача выбирает соответствующее место на основании текущей версии Windows SDK.|  
|`TrackFileAccess`|Необязательный параметр типа [Boolean](assetId:///Boolean?qualifyHint=False&autoUpgrade=True).<br /><br /> Если true, для разрешения конфликтов относительных путей к файлу нужно использовать каталог входного файла.|  
|`UseSourcePath`|Необязательный параметр типа `Boolean`.<br /><br /> При значении `true` задается условие, по которому каталог входного файла будет использоваться для разрешения конфликтов относительных путей к файлу.|  
  
## Заметки  
 Поскольку в файлах .resx могут содержаться ссылки на другие файлы ресурсов, недостаточно просто сравнить временные штампы файла .resx и .resource, чтобы проверить актуальность выходных данных.  Вместо этого задача `GenerateResource` обращается по ссылкам в файлах .resx и проверяет временные штампы связанных файлов.  Это значит, что обычно не следует использовать атрибуты `Inputs` и `Outputs` в целевом объекте, содержащем задачу `GenerateResource`, так как это может вызвать пропуск задачи в момент ее фактического запуска.  
  
 Помимо параметров, которые перечислены выше, эта задача наследует параметры от класса <xref:Microsoft.Build.Tasks.TaskExtension>, который наследует от класса <xref:Microsoft.Build.Utilities.Task>.  Чтобы получить список этих доп параметров и их описаний, см. [Базовый класс TaskExtension](../msbuild/taskextension-base-class.md).  
  
 При использовании MSBuild 4.0 для проектов .NET 3.5 сборка может дать сбой на ресурсах x86.  Для временного решения этой проблемы вы можете построить цель как сборку AnyCPU.  
  
## Пример  
 В следующем примере задача `GenerateResource` используется для создания файлов .resources из файлов, заданных коллекцией элементов `Resx`.  
  
```  
<GenerateResource  
    Sources="@(Resx)"  
    OutputResources="@(Resx->'$(IntermediateOutputPath)%(Identity).resources')">  
    <Output  
        TaskParameter="OutputResources"  
        ItemName="Resources"/>  
</GenerateResource>  
```  
  
 Задача `GenerateResource` использует метаданные \<LogicalName\> элемента \<EmbeddedResource\> для именования ресурса, внедренного в сборку.  
  
 Предположим, что сборка имеет имя myAssembly; в следующем коде создается внедренный ресурс с именем someQualifier.someResource.resources:  
  
```  
<ItemGroup>   <EmbeddedResource Include="myResource.resx">       <LogicalName>someQualifier.someResource.resources</LogicalName>   </EmbeddedResource></ItemGroup>  
```  
  
 Без метаданных \<LogicalName\> ресурс будет называться myAssembly.myResource.resources.  Этот пример применяется только к процессу построения в Visual Basic и Visual C\#.  
  
## См. также  
 [Задачи](../msbuild/msbuild-tasks.md)   
 [Справочные сведения о задачах](../msbuild/msbuild-task-reference.md)
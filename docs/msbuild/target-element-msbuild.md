---
title: "Элемент Target (MSBuild) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-sdk"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "http://schemas.microsoft.com/developer/msbuild/2003#Target"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "Элемент Target [MSBuild]"
  - "Элемент <Target> [MSBuild]"
ms.assetid: 350f6fc2-86b3-45f2-a31e-ece0e6bd4dca
caps.latest.revision: 34
caps.handback.revision: 34
author: "kempb"
ms.author: "kempb"
manager: "ghogen"
---
# Элемент Target (MSBuild)
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Содержит набор целевых объектов для [!INCLUDE[vstecmsbuild](../extensibility/internals/includes/vstecmsbuild_md.md)], подлежащих последовательному выполнению.  
  
## Синтаксис  
  
```  
<Target Name="Target Name"  
        Inputs="Inputs"  
        Outputs="Outputs"  
        Returns="Returns"  
        KeepDuplicateOutputs="true/false"  
        BeforeTargets="Targets"  
        AfterTargets="Targets"  
        DependsOnTargets="DependentTarget"  
        Condition="'String A' == 'String B'">  
        Label="Label">  
    <Task>... </Task>  
    <PropertyGroup>… </PropertyGroup>  
    <ItemGroup>… </ItemGroup>  
    <OnError... />  
</Target>  
```  
  
## Атрибуты и элементы  
 В следующих разделах описаны атрибуты, дочерние элементы и родительские элементы.  
  
### Атрибуты  
  
|Атрибут|Описание|  
|-------------|--------------|  
|`Name`|Обязательный атрибут.<br /><br /> Имя целевого объекта.|  
|`Condition`|Необязательный атрибут.<br /><br /> Проверяемое условие.  Если проверяемое условие имеет значение `false`, целевой объект не выполняет тело целевого объекта или другие целевые объекты, заданные атрибутом `DependsOnTargets`.  Дополнительные сведения об условиях см. в разделе [Conditions](../msbuild/msbuild-conditions.md).|  
|`Inputs`|Необязательный атрибут.<br /><br /> Входные файлы этой формы в этот целевой объект.  Несколько файлов разделяются точками с запятой.  Отметки времени файлов будут идти отметки времени файлов в `Outputs`, чтобы определить, является ли `Target` обновлено.  Дополнительные сведения см. в разделах [Инкрементные построения](../msbuild/incremental-builds.md), [Практическое руководство. Инкрементное построение](../msbuild/how-to-build-incrementally.md) и [Transform](../msbuild/msbuild-transforms.md).|  
|`Outputs`|Необязательный атрибут.<br /><br /> Файлы, форма выводит в этот целевой объект.  Несколько файлов разделяются точками с запятой.  Отметки времени файлов будут идти отметки времени файлов в `Inputs`, чтобы определить, является ли `Target` обновлено.  Дополнительные сведения см. в разделах [Инкрементные построения](../msbuild/incremental-builds.md), [Практическое руководство. Инкрементное построение](../msbuild/how-to-build-incrementally.md) и [Transform](../msbuild/msbuild-transforms.md).|  
|`Returns`|Необязательный атрибут.<br /><br /> Набор элементов, которые будут доступны для задач, которые используют это целевое значение, например, задач MSBuild.  Несколько целевых объектов отделяются друг от друга точкой с запятой.  Если целевые объекты в файле не имеют атрибуты `Returns`, атрибуты выходов используются вместо для этой цели.|  
|`KeepDuplicateOutputs`|Необязательный атрибут логического типа.<br /><br /> Если `true` записывается, несколько ссылок на один и тот же элемент в целевом объекте возвращает.  Значением атрибута по умолчанию является `false`.|  
|`BeforeTargets`|Необязательный атрибут.<br /><br /> Список имен целевых объектов, разделенных точкой с запятой. Если он указан, указывает, что этот целевой объект должен выполняться перед указанным целевым объектом или целевыми объектами.  Это позволяет автору проекта расширить существующий набор целевых объектов без изменений непосредственно.  Дополнительные сведения см. в разделе [Порядок построения целевого объекта](../msbuild/target-build-order.md).|  
|`AfterTargets`|Необязательный атрибут.<br /><br /> Список имен целевых объектов, разделенных точкой с запятой.  Если он указан, означает, что этот целевой объект должен выполняться после указанных целевого объекта и целевых объектов.  Это позволяет автору проекта расширить существующий набор целевых объектов без изменений непосредственно.  Дополнительные сведения см. в разделе [Порядок построения целевого объекта](../msbuild/target-build-order.md).|  
|`DependsOnTargets`|Необязательный атрибут.<br /><br /> Целевые объекты, которые должны быть выполнены перед тем, как можно будет выполнить этот целевой объект или произвести анализ зависимостей высшего уровня.  Несколько целевых объектов отделяются друг от друга точкой с запятой.|  
|`Label`|Необязательный атрибут.<br /><br /> Идентификатор, который может определить или упорядочить элементы системы и пользователя.|  
  
### Дочерние элементы  
  
|Элемент|Описание|  
|-------------|--------------|  
|[Задача](../msbuild/task-element-msbuild.md)|Создает и запускает экземпляр задачи [!INCLUDE[vstecmsbuild](../extensibility/internals/includes/vstecmsbuild_md.md)].  Задача может содержать в цели любое число задач, включая ноль.|  
|[PropertyGroup](../msbuild/propertygroup-element-msbuild.md)|Содержит набор определяемых пользователем элементов `Property`.  Начиная с .NET Framework 3.5, элемент `Target` может содержать элементы `PropertyGroup`.|  
|[ItemGroup](../msbuild/itemgroup-element-msbuild.md)|Содержит набор определяемых пользователем элементов `Item`.  Начиная с .NET Framework 3.5, элемент `Target` может содержать элементы `ItemGroup`.  Дополнительные сведения см. в разделе [Элементы](../msbuild/msbuild-items.md).|  
|[OnError](../msbuild/onerror-element-msbuild.md)|Указывает один или несколько целевых объектов выполняться, если атрибут `ContinueOnError` ErrorAndStop \(или `false`\) для сбой задачи.  В целевом объекте может содержаться любое число элементов `OnError`, включая ноль.  Если используются элементы `OnError`, то они должны быть последними в элементе `Target`.<br /><br /> Дополнительные сведения об атрибуте `ContinueOnError` см. в разделе [Элемент Task \(MSBuild\)](../msbuild/task-element-msbuild.md).|  
  
### Родительские элементы  
  
|Элемент|Описание|  
|-------------|--------------|  
|[Проект](../msbuild/project-element-msbuild.md)|Обязательный корневой элемент файла проекта [!INCLUDE[vstecmsbuild](../extensibility/internals/includes/vstecmsbuild_md.md)].|  
  
## Заметки  
 Первый целевой объект, подлежащий выполнению, задается во время выполнения.  Целевые объекты могут иметь зависимости от других целевых объектов.  Например, целевой объект для развертывания зависит от целевых объектов компиляции.  Программа [!INCLUDE[vstecmsbuild](../extensibility/internals/includes/vstecmsbuild_md.md)] обрабатывает зависимости в порядке их расположения в атрибуте `DependsOnTargets` слева направо.  Дополнительные сведения см. в разделе [Целевые объекты](../msbuild/msbuild-targets.md).  
  
 Целевой объект выполняется только один раз в ходе построения, даже если более одного целевого объекта имеют зависимости от этого целевого объекта.  
  
 Если целевой объект пропускается с связи с тем, что атрибут `Condition` имеет значение `false`, его можно выполнить, если его вызов осуществляется позже в построении, и при этом его атрибут `Condition` будет иметь значение `true`.  
  
 До 4 MSBuild `Target` возвращал все элементы, которые были указаны в атрибуте `Outputs` .  Чтобы сделать это, MSBuild пришлось записывать эти элементы в задачи тестовых случаев позднее при их запросе построением.  Поскольку не существовало способа указать, какие целевые объекты имеют необходимый вызывающим объектам вывод, MSBuild собрал все элементы из всех `Outputs` на всех вызываемых `Target`.  Это приведет к проблемам с масштабом для построений с большим количеством выходных элементов.  
  
 Если пользователь указывает `Returns` для любого элемента `Target` в проекте, только те `Target`, которые имеют атрибут`Returns` , записывают эти элементы.  
  
 `Target` может одновременно содержать атрибуты `Outputs` и `Returns`.  `Outputs` используется с `Inputs` для определения, является ли цель актуальной.  `Returns`, если он присутствует, переопределяет значение `Outputs`, чтобы определить, какие объекты возвращаются вызывающим объектам.  Если не существует `Returns`, то `Outputs` будут доступны вызывающим функциям за исключением в случае, описанных ранее.  
  
 До MSBuild 4 каждый раз, когда в `Target` включены несколько ссылок на тот же элемент в его `Outputs`, эти повторяющиеся элементы будет регистрироваться.  В очень больших построениях с большое количество выводов и многие взаимными зависимостями внутри проекта, это приведет к использованию большого объема памяти впустую из\-за повторяющихся элементов и их неэффективного использования.  Если атрибут `KeepDuplicateOutputs` имеет значение `true`, то эти дубликаты записываются.  
  
## Пример  
 В следующем примере кода показан элемент `Target`, выполняющий задачу `Csc`.  
  
```  
<Target Name="Compile" DependsOnTargets="Resources" Returns="$(TargetPath)">  
    <Csc Sources="@(CSFile)"  
          TargetType="library"  
          Resources="@(CompiledResources)"  
          EmitDebugInformation="$(includeDebugInformation)"  
          References="@(Reference)"  
          DebugType="$(debuggingType)" >  
        <Output TaskParameter="OutputAssembly"  
                  ItemName="FinalAssemblyName" />  
    </Csc>  
</Target>  
```  
  
## См. также  
 [Целевые объекты](../msbuild/msbuild-targets.md)   
 [Справочные сведения о схеме файлов проектов](../msbuild/msbuild-project-file-schema-reference.md)
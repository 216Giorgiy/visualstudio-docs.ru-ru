---
title: "Практическое руководство. Создание простейшего шейдера освещения с использованием модели Ламберта | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-general"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: ec5c10fb-9600-4240-8280-d59451ea1d68
caps.latest.revision: 20
author: "BrianPeek"
ms.author: "brpeek"
manager: "ghogen"
caps.handback.revision: 20
---
# Практическое руководство. Создание простейшего шейдера освещения с использованием модели Ламберта
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

В этом документе показывается, как использовать конструктор шейдера и Язык шейдера направленного графа \(DGSL\) для создания шейдера освещения, реализующего классическую модель освещения Ламберта.  
  
 Этот документ демонстрирует эти действия:  
  
-   Добавление узлов в граф шейдеров  
  
-   Отсоединение узлов  
  
-   Соединение узлов  
  
## Модель освещения Ламбера  
 Модель освещения Ламбера включает внешнее и направленное освещение для затенения объектов в трехмерной сцене.  Внешние компоненты предоставляют базовый уровень освещенности в трехмерной сцене.  Направленные компоненты предоставляет дополнительное освещение из направленных \(удаленных\) источников света.  Внешнее освещение влияет на все области в сцене одинаково, независимо от их ориентации.  Для данной поверхности, это будет произведением окружающего цвета поверхности и цвета и интенсивности окружающего освещения в сцене.  Направленное освещение влияет на каждую поверхность сцены по\-разному, в зависимости от направленности поверхности относительно направленности источника света.  Это продукт диффузного цвета и ориентации поверхности, а также цвета, интенсивности и направления источников света.  Поверхности, обращенные непосредственно к источнику света, получают максимальный вклад, а поверхности, обращенные непосредственно от него, не получают никакого вклада.  В модели освещения Ламберта, окружающий компонент и один или несколько направленных компонентов объединяются, чтобы определить общий вклад диффузного цвета для каждой точки объекта.  
  
 Перед началом убедитесь, что отображаются окно **Свойства** и **Панель элементов**.  
  
#### Создать шейдера Ламберта  
  
1.  Создайте построитель текстуры DGSL, с которым будете работать.  Дополнительные сведения о добавлении построителя текстуры DGSL в проект см. в подразделе "Начало работы" раздела [Конструктор шейдеров](../designers/shader-designer.md).  
  
2.  Отключите узел **Point Color** от узла **Final Color**.  Выберите терминал **RGB** узла **Point Color**, а затем выберите **Break Links**.  Оставьте **Alpha** терминал подключенным.  
  
3.  Добавление узла **Ламберт** к диаграмме.  В разделе **Панель элементов** в области **Служебная программа** выберите **Ламберт** и переместите ее на поверхность разработки.  Узел Ламбера вычисляет полный вклад диффузного цвета пикселя, основываясь на внешних и диффузных параметрах освещения.  
  
4.  Присоедините узел **Point Color** к узлу **Lambert**.  В режиме **Select** переместите терминал **RGB** узла **Point Color** к терминалу **Diffuse Color** узла **Lambert**.  Это подключение предоставляет узел Ламбера с интерполированным диффузным цвета пикселя.  
  
5.  Присоедините вычисленное значение цвета к окончательному цвету.  Переместите терминал **Output** узла **Lambert** к терминалу **RGB** узла **Final Color**.  
  
 На следующей иллюстрации показан готовый граф шейдеров и предварительный просмотр шейдера, применяемого к модели чайника.  
  
> [!NOTE]
>  Для лучшей демонстрации эффекта шейдера на этом рисунке оранжевый цвет определен с помощью параметра шейдера **MaterialDiffuse**.  Игра или приложения могут использовать этот параметр, чтобы указать уникальное значение цвета для каждого объекта.  Дополнительные сведения о параметрах материалов см. в разделе Предварительный просмотр шейдеров в [Конструктор шейдеров](../designers/shader-designer.md).  
  
 ![Граф шейдера и предварительный просмотр его эффекта.](../designers/media/digit-lambert-effect-graph.png "Digit\-Lambert\-Effect\-Graph")  
  
 Некоторые фигуры могут предоставить лучший предварительный просмотр для некоторых шейдеров.  Дополнительные сведения о предварительном просмотре шейдеров в конструкторе шейдеров см. в разделе Предварительный просмотр шейдеров [Конструктор шейдеров](../designers/shader-designer.md)  
  
 На следующей иллюстрации показан описанный в этом документе шейдер, примененный к трехмерной модели.  
  
 ![Применение к модели освещения по методу Ламберта.](../designers/media/digit-lambert-effect-result.png "Digit\-Lambert\-Effect\-Result")  
  
 Дополнительные сведения о применении построителя текстуры к трехмерной модели см. в разделе [Практическое руководство. Применение шейдера к трехмерной модели](../designers/how-to-apply-a-shader-to-a-3-d-model.md).  
  
## См. также  
 [Практическое руководство. Применение шейдера к трехмерной модели](../designers/how-to-apply-a-shader-to-a-3-d-model.md)   
 [Практическое руководство. Экспорт шейдера](../designers/how-to-export-a-shader.md)   
 [Практическое руководство. Создание простейшего шейдера освещения по методу Фонга](../designers/how-to-create-a-basic-phong-shader.md)   
 [Конструктор шейдеров](../designers/shader-designer.md)   
 [Узлы конструктора шейдеров](../designers/shader-designer-nodes.md)
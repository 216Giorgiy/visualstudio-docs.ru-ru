---
title: "Практическое руководство. Создание простейшего шейдера освещения по методу Фонга | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-general"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: c7c69da8-142b-4d3b-9be9-4be0d5970b25
caps.latest.revision: 13
author: "BrianPeek"
ms.author: "brpeek"
manager: "ghogen"
caps.handback.revision: 13
---
# Практическое руководство. Создание простейшего шейдера освещения по методу Фонга
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

В этом документе показывается, как использовать конструктор шейдера и Язык шейдера направленного графа \(DGSL\) для создания шейдера освещения, реализующего классическую модель освещения Фонга.  
  
 Этот документ демонстрирует эти действия:  
  
-   Добавление узлов в граф шейдеров  
  
-   Отсоединение узлов  
  
-   Соединение узлов  
  
## Модель освещения Фонга  
 Модель освещения Phong расширяет модель освещения Ламбера, включая зеркальные отражения, которые имитируют отражательные свойства поверхности.  Отражающий компонент предоставляет дополнительное освещение из одних и тех же направленных источников света, который используется в модели освещения Ламберта, но его вклад в окончательный цвет обрабатываются иначе.  Зеркальное отражение влияет на каждую поверхность сцены по\-разному, в зависимости от отношения между направлением взгляда, направлением источников света и ориентацией поверхности.  Это продукт отражающего цвета, отражающей способности и ориентации поверхности, а также цвета, интенсивности и направления источников света.  Поверхности, отражающие источник света непосредственно на зрителя, получают максимальный отражающий вклад, а поверхности, отражающие источник света в сторону от зрителя, не получают никакого вклада.  В модели освещения Фонга, один или несколько отражающих компонентов объединяются, чтобы определить цвет и интенсивность отраженной подсветки для каждой точки на объекте, а затем добавляются к результату модели освещения Ламберта для создания окончательного цвета пикселя.  
  
 Дополнительные сведения о модели освещения Ламберта см. в разделе [Практическое руководство. Создание простейшего шейдера освещения с использованием модели Ламберта](../designers/how-to-create-a-basic-lambert-shader.md).  
  
 Перед началом убедитесь, что отображаются окно **Свойства** и **Панель элементов**.  
  
#### как Создать шейдер Фонга  
  
1.  Создайте шейдеры Ламбера, как описано в разделе [Практическое руководство. Создание простейшего шейдера освещения с использованием модели Ламберта](../designers/how-to-create-a-basic-lambert-shader.md).  
  
2.  Отсоедините узел **Lambert** от узла **Final Color**.  Выберите терминал **RGB** узла **Lambert**, а затем выберите **Break Links**.  Таким образом освобождается место для узла, который добавляется на следующем шаге.  
  
3.  Добавьте узел **Add** к графу.  В разделе **Toolbox** в области **Math** выберите **Add** и переместите его на поверхность разработки.  
  
4.  Добавление узла **Отражающий** к диаграмме.  В разделе **Панель элементов** в области **Служебная программа** выберите **Отражающий** и переместите ее на поверхность разработки.  
  
5.  Добавьте отражающий вклад.  Переместите терминал **Output** узла **Specular** к терминалу **X** узла **Add**, а затем переместите терминал **Output** узла **Lambert** к терминалу **Y** узла **Add**.  Эти подключения объединяют итоговые диффузные и отражающие вклады для цвета пикселя.  
  
6.  Присоедините вычисленное значение цвета к окончательному цвету.  Переместите терминал **Output** узла **Add** к терминалу **RGB** узла **Final Color**.  
  
 На следующей иллюстрации показан готовый граф шейдеров и предварительный просмотр шейдера, применяемого к модели чайника.  
  
> [!NOTE]
>  Для лучшей демонстрации эффекта шейдера на этом рисунке, оранжевый цвет был определен с помощью параметра **MaterialDiffuse** шейдера, а имеющая металлический вид поверхность была указано с помощью параметров **MaterialSpecular** и **MaterialSpecularPower**.  Дополнительные сведения о параметрах материалов см. в разделе Предварительный просмотр шейдеров в [Конструктор шейдеров](../designers/shader-designer.md).  
  
 ![Граф шейдера и предварительный просмотр его эффекта](../designers/media/digit-lighting-graph.png "Digit\-Lighting\-Graph")  
  
 Некоторые фигуры могут предоставить лучший предварительный просмотр для некоторых шейдеров.  Дополнительные сведения о предварительном просмотре шейдеров в конструкторе шейдеров см. в разделе предварительный просмотр шейдеров [Конструктор шейдеров](../designers/shader-designer.md)  
  
 На следующей иллюстрации показан описанный в этом документе шейдер, примененный к трехмерной модели.  Свойство **MaterialSpecular** установлено равным \(1,00, 0,50, 0,20, 0,00\), а его свойство **MaterialSpecularPower** равно 16.  
  
> [!NOTE]
>  Свойство **MaterialSpecular** определяет явное качество поверхности поверхностного материала.  Область с высоким блеском, такая как стекло или пластик имеет тенденцию к отражающему цвету, представляющему собой яркий оттенок белого.  Металлическая поверхность склонна иметь отражающий цвет, близкий к ее диффузному цвету.  Глянцевая область склонна иметь отражающий цвет, представляющий собой темный оттенок серого.  
>   
>  Свойство **MaterialSpecularPower** определяет, насколько интенсивными являются зеркальные отражения.  Высокая отражающая способность имитирует тускловатые, более локализованные блики.  Очень низкая отражающая способность имитирует интенсивную, широкую подсветку, которая может перенасытить и скрыть цвет всей поверхности.  
  
 ![Применение к модели освещения по методу Фонга](../designers/media/digit-lighting-model.png "Digit\-Lighting\-Model")  
  
 Дополнительные сведения о применении построителя текстуры к трехмерной модели см. в разделе [Практическое руководство. Применение шейдера к трехмерной модели](../designers/how-to-apply-a-shader-to-a-3-d-model.md).  
  
## См. также  
 [Практическое руководство. Применение шейдера к трехмерной модели](../designers/how-to-apply-a-shader-to-a-3-d-model.md)   
 [Практическое руководство. Экспорт шейдера](../designers/how-to-export-a-shader.md)   
 [Практическое руководство. Создание простейшего шейдера освещения с использованием модели Ламберта](../designers/how-to-create-a-basic-lambert-shader.md)   
 [Конструктор шейдеров](../designers/shader-designer.md)   
 [Узлы конструктора шейдеров](../designers/shader-designer-nodes.md)
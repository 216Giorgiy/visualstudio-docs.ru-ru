---
title: "Практическое руководство. Создание шейдера текстуры с использованием оттенков серого | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-general"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 79181d81-44af-445e-9a18-03483dd70260
caps.latest.revision: 18
author: "BrianPeek"
ms.author: "brpeek"
manager: "ghogen"
caps.handback.revision: 18
---
# Практическое руководство. Создание шейдера текстуры с использованием оттенков серого
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

В этом документе показывается, как использовать конструктор шейдера и Язык шейдера направленного графа \(DGSL\) для создания Шейдера серой текстуры.  Этот шейдер изменяет значение цветов RGB образца текстуры, а затем использует его вместе с неизмененным альфа\-значением, чтобы задать конечный цвет.  
  
## Создание шейдера текстуры с оттенками серого цвета  
 Можно реализовать текстурный шейдер оттенков серого цвета, изменив значение цвета образца текстуры, прежде чем приступать к окончательного выводу цвета.  
  
 Перед началом убедитесь, что отображаются окно **Свойства** и **Панель элементов**.  
  
#### Создание шейдера текстуры с оттенками серого цвета  
  
1.  Создайте простой шейдер текстуры, как описано в разделе [Практическое руководство. Создание простейшего шейдера текстуры](../designers/how-to-create-a-basic-texture-shader.md).  
  
2.  Отключите терминал **RGB** узла **Образец текстуры** от терминала **RGB** узла **Окончательный цвет**.  В режиме **Select**, выберите терминал **RGB** узла **Texture Sample**, затем выберите **Break Links**.  Таким образом освобождается место для узла, который добавляется на следующем шаге.  
  
3.  Добавление узла **Desaturate** к диаграмме.  В разделе **Toolbox** в области **Filters** выберите **Desaturate** и переместите ее на поверхность разработки.  
  
4.  Рассчитайте значения оттенков серого, используя узел **Desaturate**.  В режиме **Select**, переместите терминал **RGB** узла **Texture Sample** на терминал **RGB** узла **Desaturate**.  
  
    > [!NOTE]
    >  По умолчанию узел **Desaturate** полностью обесцвечивает входной цвет и использует стандартные значения веса яркости для преобразования к оттенкам серого.  Можно изменить поведение узла **Desaturate** путем изменения значения свойства **Luminance** или только частично обесцвечивая цвет.  Чтобы частично обесцветить входной цвет, предоставьте скалярное значение в диапазоне \[0,1\) терминалу **Percent** узла **Desaturate**.  
  
5.  Присоедините значение оттенков серого цвета к окончательному цвету.  Переместите терминал **Output** узла **Desaturate** к терминалу **RGB** узла **Final Color**.  
  
 На следующей иллюстрации показан готовый граф шейдеров и предварительный просмотр шейдера, применяемого к кубу.  
  
> [!NOTE]
>  На этом рисунке в качестве объекта предпросмотра используется плоскость, и указана текстура, чтобы лучше продемонстрировать эффект шейдера.  
  
 ![Граф шейдера и предварительный просмотр его эффекта](../designers/media/digit-grayscale-effect.png "Digit\-Grayscale\-Effect")  
  
 Некоторые фигуры могут предоставить лучший предварительный просмотр для некоторых шейдеров.  Дополнительные сведения о предварительном просмотре шейдеров в конструкторе шейдеров см. в разделе [Конструктор шейдеров](../designers/shader-designer.md)  
  
## См. также  
 [Практическое руководство. Применение шейдера к трехмерной модели](../designers/how-to-apply-a-shader-to-a-3-d-model.md)   
 [Практическое руководство. Экспорт шейдера](../designers/how-to-export-a-shader.md)   
 [редактор изображений](../designers/image-editor.md)   
 [Конструктор шейдеров](../designers/shader-designer.md)   
 [Узлы конструктора шейдеров](../designers/shader-designer-nodes.md)
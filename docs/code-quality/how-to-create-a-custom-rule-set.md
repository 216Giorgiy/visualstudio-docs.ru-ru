---
title: "Практическое руководство. Создание настраиваемого набора правил | Microsoft Docs"
ms.custom: ""
ms.date: "12/16/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.codeanalysis.addremoverulesets"
helpviewer_keywords: 
  - "выпуск Development Edition, наборы правил"
ms.assetid: bcc42508-9592-4802-9f66-a50111641d73
caps.latest.revision: 24
caps.handback.revision: 24
author: "stevehoag"
ms.author: "shoag"
manager: "wpickett"
---
# Практическое руководство. Создание настраиваемого набора правил
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

[!INCLUDE[vsUltShort](../code-quality/includes/vsultshort_md.md)], [!INCLUDE[vsPreShort](../code-quality/includes/vspreshort_md.md)] и [!INCLUDE[vsPro](../code-quality/includes/vspro_md.md)] позволяют создавать и изменять пользовательский *набор правил*, чтобы удовлетворять определенные нужды проекта, связанные с анализом кода.  Для создания пользовательского набора правил вы открываете один или несколько стандартных наборов правил в редакторе набора правил.  Затем вы можете добавлять или удалять определенные правила и можете изменять действия, которые выполняются, если при анализе кода устанавливается нарушение правила.  
  
 Для создания нового пользовательского набора правил нужно сохранить с новым именем файла.  Пользовательский набор правил автоматически присваивается проекту.  
  
## Открытие редактора набора правил  
  
#### Открытие пустого файла набора правил в редакторе набора правил  
  
1.  В меню **Файл** [!INCLUDE[vs_current_short](../code-quality/includes/vs_current_short_md.md)] выберите **Создать** и щелкните **Файл**.  
  
2.  В диалоговом окне **Создать файл** щелкните **Общие** в списке **Установленные шаблоны** и выберите **Набор правил анализа кода**.  
  
3.  Откроется редактор набора правил.  В списке редактора не будет выбранных правил.  
  
#### Создание настраиваемого правила из одного существующего набора правил  
  
1.  В обозревателе решений щелкните правой кнопкой мыши проект и выберите пункт **Свойства**.  
  
2.  На вкладке **Свойства** щелкните **Анализ кода**.  
  
3.  В раскрывающемся списке **Набор правил** выполните следующие действия.  
  
    -   Выберите набор правил, который нужно настроить.  
  
     \- либо \-  
  
    -   Выберите пункт **\<Обзор...\>**, чтобы указать существующий настраиваемый набор правил, если его нет в списке.  
  
4.  Нажмите кнопку **Открыть**, чтобы отобразить правила в редакторе набора правил.  
  
#### Создание пользовательского набора правил из нескольких существующих наборов правил  
  
1.  В обозревателе решений щелкните правой кнопкой мыши проект и выберите пункт **Свойства**.  
  
2.  На вкладке **Свойства** щелкните **Анализ кода**.  
  
3.  Выберите **\<Выбрать несколько наборов правил...\>**  в поле **Выполнить этот набор правил**.  
  
4.  В диалоговом окне **Добавить или удалить наборы правил** выберите наборы правил, из которых нужно создать новый набор правил, и нажмите кнопку **ОК**.  
  
5.  Сохраните новый набор правил.  
  
     Имя нового набора правил выбрано в списке **Выполнить этот набор правил**.  На следующем шаге у вас будет возможность изменить отображаемое имя набора правил.  
  
6.  \(Необязательно\) Чтобы изменить отображаемое имя набора правил, щелкните **Окно свойств** в меню **Вид**.  Введите новое отображаемое имя в поле **Имя**.  
  
7.  Для добавления, удаления или изменения определенных правил анализа кода в новом наборе правил нажмите кнопку **Открыть**.  
  
## Изменение набора правил  
  
#### Изменение набора правил в редакторе набора правил  
  
-   Чтобы изменить отображаемое имя набора правил, щелкните **Окно свойств** в меню **Вид**.  Введите новое отображаемое имя в поле **Имя**.  Следует обратить внимание на то, что отображаемое имя может отличаться от имени файла.  
  
-   Чтобы добавить все правила в группе в пользовательский набор правил, установите флажок для группы.  Для удаления всех правил группы снимите этот флажок.  
  
-   Чтобы добавить определенное правило в пользовательский набор правил, установите флажок для правила.  Для удаления правила из набора правил снимите этот флажок.  
  
-   Чтобы изменить действие, которое предпринимается при нарушении правила в ходе анализа кода, щелкните поле **Действие** для правила и выберите одно из следующих значений.  
  
     **Warn** — создание предупреждения.  
  
     **Error** — создание ошибки.  
  
     **None** — отключение правила.  Это действие аналогично удалению правила из набора правил.  
  
## Изменение отображения редактора набора правил  
  
#### Группировка, фильтрация или изменение полей в редакторе набора правил с помощью панели инструментов редактора  
  
-   Чтобы развернуть правила во всех группах, щелкните **Развернуть все**.  
  
-   Чтобы свернуть правила во всех группах, щелкните **Свернуть все**.  
  
-   Чтобы изменить поле, по которому группируются правила, выберите поле в списке **Группировать по**.  Чтобы отобразить несгрупированные правила, выберите значение **\<Нет\>**.  
  
-   Чтобы добавить или удалить поле в столбцах правил, щелкните **Параметры столбцов**.  
  
-   Чтобы скрыть правила, которые не применяются к текущему решению, выберите **Скрыть правила, которые неприменимы к текущему решению**.  
  
-   Для переключения между правилами отображения и скрытия, присвоенными действию "Ошибка", щелкните **Показать правила, которые могут приводить к возникновению ошибок при анализе кода**.  
  
-   Для переключения между правилами отображения и скрытия, присвоенными действию "Предупреждение", щелкните **Показать правила, которые могут приводить к возникновению предупреждений при анализе кода**.  
  
-   Для переключения между правилами отображения и скрытия, присвоенными действию **Нет**, щелкните **Показать правила, которые не включены**.  
  
-   Чтобы добавить или удалить наборы правил Майкрософт по умолчанию для текущего набора правил, щелкните **Добавить или удалить дочерние наборы правил**.  
  
## См. также  
 [Практическое руководство. Настройка анализа кода для проекта управляемого кода](../code-quality/how-to-configure-code-analysis-for-a-managed-code-project.md)   
 [Справочник по набору правил анализа кода](../code-quality/code-analysis-rule-set-reference.md)
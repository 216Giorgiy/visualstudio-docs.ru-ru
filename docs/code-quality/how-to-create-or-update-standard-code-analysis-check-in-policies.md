---
title: Практическое руководство. Создание или обновление стандартных политик возврата с анализом кода
ms.date: 11/04/2016
ms.prod: visual-studio-dev15
ms.technology: vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.policyeditor
helpviewer_keywords:
- code analysis, migrating check-in policy
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 4897ec080bf5d268db6ac229785ac0b642753bc0
ms.sourcegitcommit: 928885ace538bef5b25961358d4f166d648f196a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/27/2018
---
# <a name="how-to-create-or-update-standard-code-analysis-check-in-policies"></a>Практическое руководство. Создание или обновление стандартных политик возврата с анализом кода

Может потребоваться выполнение анализа кода для всех проектов кода в командном проекте с помощью политики возврата анализа кода. Обязательность анализа кода может повысить качество кода, который возвращается в базу кода.

> [!NOTE]
> Эта функция доступна только в том случае, если вы используете Team Foundation Server.

Политик возврата с анализом кода задаются в параметрах командного проекта и применяются к каждому проекту в командном проекте. Выполнение анализа кода, настроенных для проектов кода в файле проекта (формата .xxproj) для проекта кода. Выполнение анализа кода выполняются на локальном компьютере. При включении политику возврата с анализом кода, файлов в проекте кода, которые необходимо вернуть в должны быть скомпилированы после последнего редактирования, а также для анализа кода, запуск, содержит как минимум, правила в параметры командного проекта необходимо выполнить на компьютере, где c зменения были внесены.

- Установите политики возврата для управляемого кода, путем задания *набор правил* , содержащий подмножество правил анализа кода.

- Для кода C/C++ в Visual Studio 2017 г. версия 15.6 и более ранних версий политика возврата требуется проведение всех правил анализа кода. Можно добавить директивы препроцессора для отключения определенных правил для отдельных проектов кода в командном проекте. В 15,7 и более поздних версиях можно использовать **/ analyze: ruleset** для указания правил для выполнения. Дополнительные сведения см. в разделе [использование наборов правил для задания выполняемых правил C++](using-rule-sets-to-specify-the-cpp-rules-to-run.md).

Задав политики возврата для управляемого кода, члены команды могут синхронизировать свои параметры анализа кода для проектов кода, параметры политики для командного проекта.

### <a name="to-open-the-check-in-policy-editor"></a>Чтобы открыть редактор политики возврата

1. В Team Explorer, щелкните правой кнопкой мыши имя командного проекта, выберите пункт **параметры командного проекта**, а затем нажмите кнопку **системы управления версиями**.

1. В **системы управления версиями** выберите **политики возврата** вкладки.

1. Выполните одно из следующих действий.

    - Нажмите кнопку **добавить** для создания новой политики возврата.

    - Дважды щелкните существующий **анализа кода** элемент **тип политики** списка, чтобы изменить политику.

### <a name="to-set-policy-options"></a>Чтобы задать параметры политики

Установите или снимите следующие параметры:

    |Параметр|Описание|
    |------------|-----------------|
    |**Включить возврат файлов, которые являются частью текущего решения.**|Анализ кода можно выполнять только с файлами, указанными в файлах конфигурации решения и проекта. Эта политика гарантирует, что весь код, который является частью решения анализируется.|
    |**Применять анализа кода C/C++ (/ analyze)**|Требует, что все проекты C или C++ построены с / analyze-параметр компилятора для выполнения анализа кода, прежде чем они могут быть возвращены.|
    |**Принудительное применение анализа кода для управляемого кода**|Необходимо выполнить анализ кода и построения, прежде чем они могут быть возвращены всех управляемых проектов.|

### <a name="to-specify-a-managed-rule-set"></a>Чтобы указать набор правил для управляемого кода

- Из **выполнить этот набор правил** список, используйте один из следующих методов:

    - Выберите набор стандартных правил Майкрософт.

    - Чтобы выбрать настраиваемый набор правил, щелкните  **\<выбрать набор правил в системе управления версиями... >**, а затем введите путь в контроля версий к набору правил в браузере системы управления версиями. Используется синтаксис пути системы управления версиями.

    - **$/** `TeamProjectName` **/** `VersionControlPath`

    - Дополнительные сведения о том, как создать и применить правило настраиваемой политики см. в разделе [реализация пользовательских политик возврата для управляемого кода](../code-quality/implementing-custom-code-analysis-check-in-policies-for-managed-code.md).

## <a name="see-also"></a>См. также

[Создание и использование политик возврата с анализом кода](../code-quality/creating-and-using-code-analysis-check-in-policies.md)
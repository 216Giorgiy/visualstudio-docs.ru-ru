---
title: "C28197 | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-code-analysis
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: C28197
helpviewer_keywords: C28197
ms.assetid: b685f4c1-9bd1-4ca3-a2b6-6eb87877b5db
caps.latest.revision: "3"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.openlocfilehash: 976dfa8539d386f8392fcd8113eccd98b8895c59
ms.sourcegitcommit: fb751e41929f031d1a9247bc7c8727312539ad35
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2017
---
# <a name="c28197"></a>C28197
C28197 предупреждение: Возможна утечка памяти  
  
 Это предупреждение отображается утечек памяти и ресурсов, когда ресурс потенциально является псевдонимом в другое место.  
  
 *Указатель* точки выделенной памяти или другим выделенных ресурсов, который не был явно освобожден. Это предупреждение обычно является из-за недостатка заметки в вызываемой функции, несмотря на то, что недостаточно примечаний вызывающей функции можно также сделать это скорее всего.  
  
 Это предупреждение можно получить на выходе из функции, если входной аргумент `__drv_freesMem` или `__drv_aliasesMem` заметки. Это предупреждение обычно указывает допустимый утечки или для функции вызывается текущей функции дополнительные заметки.  
  
 В частности, отсутствие базовый `_In_` и `_Out_` заметок сделать это предупреждение довольно вероятно, несмотря на то что `__drv_aliasesMem` и `__drv_freesMem` также могут быть необходимы заметок. Ложный положительный результат связано с вероятностью отсутствующего `_In_` заметки.  
  
 Функции, которые принимают указатель и псевдонима его (что позволяет избежать утечки) должен сопровождаться атрибутом `__drv_aliasesMem`. При создании функцию, которая вставляет объект в глобальные структуры или передается системная функция, которая делает это, следует добавить `__drv_aliasesMem` заметки.  
  
 Функции, которые свободной памяти должен сопровождаться атрибутом `__drv_freesMem`. Основные функции, которые уже свободной памяти имеют эту заметку.  
  
## <a name="example"></a>Пример  
 Следующий пример кода вызывает появление этого предупреждения.  
  
```  
char *p = (char *)malloc(10);  
test(p);   // does not save a copy of p  
```  
  
 Следующий пример кода позволяет избежать появления этого предупреждения.  
  
```  
char *p = (char *)malloc(10);  
test(p);   // does not save a copy of p  
free(p);  
```
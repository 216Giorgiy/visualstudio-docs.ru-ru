---
title: C28197 | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- C28197
helpviewer_keywords:
- C28197
ms.assetid: b685f4c1-9bd1-4ca3-a2b6-6eb87877b5db
author: mikeblome
ms.author: mblome
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 553be2b9f79bab57869bdc2bd8649574bfb155be
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="c28197"></a>C28197
C28197 предупреждение: Возможна утечка памяти  
  
 Это предупреждение отображается утечек памяти и ресурсов, когда ресурс потенциально является псевдонимом в другое место.  
  
 *Указатель* точки выделенной памяти или другим выделенных ресурсов, который не был явно освобожден. Это предупреждение обычно является из-за недостатка заметки в вызываемой функции, несмотря на то, что недостаточно примечаний вызывающей функции можно также сделать это скорее всего.  
  
 Это предупреждение можно получить на выходе из функции, если входной аргумент `__drv_freesMem` или `__drv_aliasesMem` заметки. Это предупреждение обычно указывает допустимый утечки или для функции вызывается текущей функции дополнительные заметки.  
  
 В частности, отсутствие базовый `_In_` и `_Out_` заметок сделать это предупреждение довольно вероятно, несмотря на то что `__drv_aliasesMem` и `__drv_freesMem` также могут быть необходимы заметок. Ложный положительный результат связано с вероятностью отсутствующего `_In_` заметки.  
  
 Функции, которые принимают указатель и псевдонима его (что позволяет избежать утечки) должен сопровождаться атрибутом `__drv_aliasesMem`. При создании функцию, которая вставляет объект в глобальные структуры или передается системная функция, которая делает это, следует добавить `__drv_aliasesMem` заметки.  
  
 Функции, которые свободной памяти должен сопровождаться атрибутом `__drv_freesMem`. Основные функции, которые уже свободной памяти имеют эту заметку.  
  
## <a name="example"></a>Пример  
 Следующий пример кода вызывает появление этого предупреждения.  
  
```  
char *p = (char *)malloc(10);  
test(p);   // does not save a copy of p  
```  
  
 Следующий пример кода позволяет избежать появления этого предупреждения.  
  
```  
char *p = (char *)malloc(10);  
test(p);   // does not save a copy of p  
free(p);  
```
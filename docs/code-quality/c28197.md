---
title: C28197
ms.date: 11/04/2016
ms.prod: visual-studio-dev15
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C28197
helpviewer_keywords:
- C28197
ms.assetid: b685f4c1-9bd1-4ca3-a2b6-6eb87877b5db
author: mikeblome
ms.author: mblome
manager: wpickett
ms.workload:
- multiple
ms.openlocfilehash: 140693575f87e3a2f74c2a5c89267a1f100a1f74
ms.sourcegitcommit: e13e61ddea6032a8282abe16131d9e136a927984
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2018
---
# <a name="c28197"></a>C28197
C28197 предупреждение: Возможна утечка памяти

 Это предупреждение отображается утечек памяти и ресурсов, когда ресурс потенциально является псевдонимом в другое место.

 *Указатель* точки выделенной памяти или другим выделенных ресурсов, который не был явно освобожден. Это предупреждение обычно является из-за недостатка заметки в вызываемой функции, несмотря на то, что недостаточно примечаний вызывающей функции можно также сделать это скорее всего.

 Это предупреждение можно получить на выходе из функции, если входной аргумент `__drv_freesMem` или `__drv_aliasesMem` заметки. Это предупреждение обычно указывает допустимый утечки или для функции вызывается текущей функции дополнительные заметки.

 В частности, отсутствие базовый `_In_` и `_Out_` заметок сделать это предупреждение довольно вероятно, несмотря на то что `__drv_aliasesMem` и `__drv_freesMem` также могут быть необходимы заметок. Ложный положительный результат связано с вероятностью отсутствующего `_In_` заметки.

 Функции, которые принимают указатель и псевдонима его (что позволяет избежать утечки) должен сопровождаться атрибутом `__drv_aliasesMem`. При создании функцию, которая вставляет объект в глобальные структуры или передается системная функция, которая делает это, следует добавить `__drv_aliasesMem` заметки.

 Функции, которые свободной памяти должен сопровождаться атрибутом `__drv_freesMem`. Основные функции, которые уже свободной памяти имеют эту заметку.

## <a name="example"></a>Пример
 Следующий пример кода вызывает появление этого предупреждения.

```
char *p = (char *)malloc(10);
test(p);   // does not save a copy of p
```

 Следующий пример кода позволяет избежать появления этого предупреждения.

```
char *p = (char *)malloc(10);
test(p);   // does not save a copy of p
free(p);
```
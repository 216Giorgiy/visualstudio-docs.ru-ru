---
title: "CA1900: поля типа значения должны быть переносимыми | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "CA1900"
  - "ValueTypeFieldsShouldBePortable"
helpviewer_keywords: 
  - "ValueTypeFieldsShouldBePortable"
  - "CA1900"
ms.assetid: 1787d371-389f-4d39-b305-12b53bc0dfb9
caps.latest.revision: 18
author: "stevehoag"
ms.author: "shoag"
manager: "wpickett"
caps.handback.revision: 18
---
# CA1900: поля типа значения должны быть переносимыми
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

|||  
|-|-|  
|TypeName|ValueTypeFieldsShouldBePortable|  
|CheckId|CA1900|  
|Категория|Microsoft.Portability|  
|Критическое изменение|Breaking — если поля могут быть видны за пределами сборки.<br /><br /> Не критическое — если поле недоступно для кода за пределами сборки.|  
  
## Причина  
 Это правило проверяет правильность выравнивания структур, объявленных с явной разметкой, при маршалировании в неуправляемый код на 64\-разрядных операционных системах.  Архитектура IA\-64 не разрешает неупорядоченный доступ к памяти. Если это нарушение не устранить, возникнет сбой процесса.  
  
## Описание правила  
 Структуры с явной разметкой, содержащий невыровненные поля вызывают сбои в 64\-разрядных операционных системах.  
  
## Устранение нарушений  
 Все поля меньше 8 байт должны иметь смещения, кратные их размеру, а поля размером 8 байт и больше должны иметь смещения, кратные 8.  Другим решением является использование `LayoutKind.Sequential` вместо `LayoutKind.Explicit`, если для этого есть причины.  
  
## Отключение предупреждений  
 Это предупреждение следует отключать только в том случае, если оно возникает в ошибке.
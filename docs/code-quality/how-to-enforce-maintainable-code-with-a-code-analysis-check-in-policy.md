---
title: "Как: обеспечение простоты поддержки кода с политикой возврата анализа кода | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-code-analysis
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- code analysis, check-in policies
ms.assetid: d1b3b04f-4dd9-40e6-b2d4-b414d33fb647
author: gewarren
ms.author: gewarren
manager: ghogen
ms.workload:
- multiple
ms.openlocfilehash: 7ac4f31d1e93ed648bf2065bbff9dac8800c1d4f
ms.sourcegitcommit: a07b789cc41ed72664f2c700c1f114476e7b0ddd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2018
---
# <a name="how-to-enforce-maintainable-code-with-a-code-analysis-check-in-policy"></a>Практическое руководство. Обеспечение простоты поддержки кода с помощью политики возврата с анализом кода

Разработчики могут использовать средство метрики кода для измерения сложности и удобства сопровождения свой код, но не могут вызывать метрики кода в рамках политики возврата. Тем не менее можно включить правила анализа кода, позволяющие проверить соответствие кода стандартам метрик кода и выполнение правил при помощи политик возврата. Дополнительные сведения о метриках кода см. в разделе [значения метрик кода](../code-quality/code-metrics-values.md).

Можно включить глубина наследования, Связанность классов, индекс удобства поддержки и правила сложности для обеспечения удобства поддержки кода с помощью политик возврата анализа кода. Все четыре правила находятся в категории «Правила удобства поддержки» в редактор политики анализа кода.

Администраторы системы управления версиями Team Foundation можно добавить правила анализа удобства поддержки кода с требованиями политики возврата. Этими возврата политиками разработчиков запустить анализ кода на основе этих правил изменений перед запуском возврат.

## <a name="to-open-the-code-analysis-policy-editor"></a>Чтобы открыть редактор политики анализа кода

1. в **Team Explorer**, щелкните правой кнопкой мыши командный проект, нажмите кнопку **параметры командного проекта**, а затем нажмите кнопку **системы управления версиями**.

     The **Source Control** dialog box appears.

2. на **политики возврата** и нажмите кнопку **добавить**.

     The **Add Check-in Policy** dialog box appears.

3. в **политики возврата** выберите **анализа кода** флажок и нажмите кнопку **ОК**.

     The **Code Analysis Policy Editor** dialog box appears.

## <a name="to-enable-code-analysis-maintainability-rules"></a>Чтобы включить правила анализа удобства поддержки кода

1. в **редактор политики анализа кода** диалогового **параметры правила**, разверните **правила удобства поддержки** узла.

2. Установите флажки для следующих правил:

    -   Глубина наследования: **CA1501 AvoidExcessiveInheritance** -пороговое значение: предупреждение при более чем 5 уровней

    -   Сложность: **CA1502 AvoidExcessiveComplexity** -пороговое значение: предупреждение при более 25

    -   Индекс удобства поддержки: **CA1505 под названием AvoidUnmaintainableCode** -пороговое значение: предупреждение при значении менее 20

    -   Соединения классов: **CA1506 AvoidExcessiveClassCoupling** -пороговое значение: предупреждение при более 80 для класса и свыше 30 для метода

    Кроме того, если требуется, чтобы предотвратить выполнение сборки при нарушении правила, выберите **обрабатывать предупреждения как ошибки** флажок рядом с описанием правила.

3. Откройте **ОК**. Теперь новая политика применяется для следующих возвратах.

## <a name="see-also"></a>См. также

[Значения метрик кода](../code-quality/code-metrics-values.md)
[Создание и использование политик возврата с анализом кода](../code-quality/creating-and-using-code-analysis-check-in-policies.md)
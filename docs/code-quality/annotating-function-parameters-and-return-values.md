---
title: "Аннотация параметров функции и возвращаемых значений | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-code-analysis
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- _Outptr_opt_result_bytebuffer_to_
- _Inout_updates_all_opt_
- _Post_equal_to_
- _Outptr_opt_result_maybenull_
- _Out_writes_bytes_all_
- _Out_writes_all_opt_
- _In_opt_
- _Outptr_
- _Outptr_result_maybenull_
- _Outref_result_bytebuffer_all_maybenull_
- _Inout_updates_opt_z_
- _Inout_updates_z_
- _Out_writes_
- _Out_writes_to_ptr_opt_z_
- _In_reads_to_ptr_opt_
- _Ret_writes_to_maybenull_
- _Outref_result_maybenull_
- _Ret_writes_bytes_
- _Outptr_result_bytebuffer_
- _Out_writes_opt_
- _Inout_updates_bytes_opt_
- _In_z_
- _Inout_updates_to_
- _Ret_maybenull_
- _Ret_writes_bytes_to_
- _Ret_z_
- _COM_Outptr_
- _Ret_maybenull_z_
- _Out_opt_
- _In_reads_opt_z_
- _Outptr_result_bytebuffer_to_
- _Ret_notnull_
- _COM_Outptr_opt_result_maybenull_
- _Inout_updates_to_opt_
- _Inout_updates_
- _Outptr_opt_result_buffer_
- _Outptr_result_buffer_to_
- _Out_writes_to_ptr_opt_
- _Out_writes_bytes_all_opt_
- _Inout_updates_all_
- _Deref_inout_range_
- _Ret_writes_
- _Out_writes_z_
- _Ret_writes_to_
- _Out_writes_to_ptr_z_
- _Out_writes_bytes_to_opt_
- _In_reads_or_z_
- _Inout_updates_bytes_to_
- _In_reads_z_
- _In_opt_z_
- _Outref_result_buffer_maybenull_
- _Ret_range_
- _COM_Outptr_opt_
- _Ouptr_opt_result_maybenull_z_
- _In_reads_opt_
- _Inout_
- _Field_range_
- _Ret_writes_z_
- _Out_writes_to_
- _Out_writes_to_ptr_
- _Inout_opt_z_
- _Outref_
- _Deref_out_range_
- _Outref_result_buffer_
- _Outref_result_buffer_to_
- _Outref_result_bytebuffer_to_maybenull_
- _In_reads_bytes_
- _Outptr_opt_result_buffer_to_
- _Outref_result_buffer_all_
- _Out_writes_bytes_to_
- _Result_zeroonfailure_
- _In_reads_bytes_opt_
- _Outref_result_buffer_to_maybenull_
- _Outref_result_bytebuffer_all_
- _Outref_result_buffer_all_maybenull_
- _Ret_writes_maybenull_z_
- _In_range_
- _Inout_updates_bytes_all_opt_
- _Outref_result_bytebuffer_to_
- _Inout_updates_bytes_to_opt_
- _Pre_equal_to_
- _Ret_writes_bytes_maybenull_
- _COM_Outptr_result_maybenull_
- _Ret_writes_maybenull_
- _Out_writes_bytes_
- _Outptr_opt_
- _Out_writes_opt_z_
- _Outref_result_nullonfailure_
- _Outptr_opt_result_z_
- _Inout_opt_
- _Deref_in_range_
- _Outptr_result_z_
- _In_reads_to_ptr_opt_z_
- _Struct_size_bytes_
- _Outptr_result_nullonfailure_
- _In_
- _Inout_updates_bytes_
- _In_reads_to_ptr_z_
- _Ret_writes_bytes_to_maybenull
- _Outptr_opt_result_nullonfailure_
- _In_reads_to_ptr_
- _Outptr_result_buffer_
- _Out_
- _Outref_result_bytebuffer_maybenull_
- _Outptr_result_maybenull_z_
- _In_reads_
- _Inout_updates_opt_
- _Out_writes_to_opt_
- _Outptr_opt_result_bytebuffer_
- _Out_writes_all_
- _Out_range_
- _Inout_updates_bytes_all_
- _Inout_z_
- _Outref_result_bytebuffer_
- _Result_nullonfailure_
- _Ret_null_
ms.assetid: 82826a3d-0c81-421c-8ffe-4072555dca3a
caps.latest.revision: "15"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.openlocfilehash: e256b519600a983886ac6d21317ef1757d7497f1
ms.sourcegitcommit: fb751e41929f031d1a9247bc7c8727312539ad35
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2017
---
# <a name="annotating-function-parameters-and-return-values"></a>Создание примечаний к параметрам и возвращаемым значениям функций
В этой статье описываются типичные способы применения заметки для параметров простая функция — скалярных величин и указатели на структуры и классы и в большинстве буферов.  В этой статье также показано распространенных шаблонов использования для заметок. Дополнительные заметки, связанные с функциями, в разделе [Аннотация поведения функций](../code-quality/annotating-function-behavior.md)  
  
## <a name="pointer-parameters"></a>Параметры-указатели  
 Пометок в следующей таблице Если параметр-указатель помечается, анализатор сообщает об ошибке если указатель имеет значение null.  Это относится к указатели, а также для любого элемента, который станет активным.  
  
 **Заметки и описания**  
  
-   `_In_`  
  
     Отмечает входные параметры, которые являются скалярные значения, структуры, указатели на структуры и т. д.  Явно может использоваться на простые скалярные значения.  Параметр должен быть допустимым в состоянии предварительной и не будет изменен.  
  
-   `_Out_`  
  
     Отмечает выходные параметры скаляры, структуры, указатели на структуры и т. д.  Не применять это объект, который не может возвращать значение — например, скаляр, передаваемый по значению.  Параметр не должен быть допустимым в состоянии предварительной, но должен быть допустимым в состоянии после.  
  
-   `_Inout_`  
  
     Отмечает параметра, которая будет изменена функцией.  Он должен быть допустимым в состояние до и после состояния, но предполагается, что различные значения, до и после вызова метода. Необходимо применить к изменяемое значение.  
  
-   `_In_z_`  
  
     Указатель символом null строку, которая используется в качестве входных данных.  Строка должна быть допустимым в состоянии предварительной.  Варианты `PSTR`, которой уже имеют правильный заметок, предпочтительным.  
  
-   `_Inout_z_`  
  
     Указатель на массив символом null, будут изменены.  Она должна быть допустимой до и после вызова метода, но значение предполагается, что были изменены.  Завершающий символ null, могут быть перемещены, но может осуществляться только элементы до исходного завершающий символ null.  
  
-   `_In_reads_(s)`  
  
     `_In_reads_bytes_(s)`  
  
     Указатель на массив, который считывается функцией.  Массив имеет размер `s` элементов, каждый из которых должен быть допустимым.  
  
     `_bytes_` Variant предоставляет размер в байтах вместо элементов. Используйте только в том случае, если размер не могут быть выражены как элементы.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функцию, которая использует `wchar_t` бы.  
  
-   `_In_reads_z_(s)`  
  
     Указатель на массив, завершающуюся значением null и имеет известный размер. Элементы до знак завершения null, или `s` при наличии нет завершающего символа null, должен быть допустимым в состоянии предварительной.  Если известны размер в байтах, масштабирование `s` по размеру элемента.  
  
-   `_In_reads_or_z_(s)`  
  
     Указатель на массив, завершающуюся значением null или имеет известный размер или оба. Элементы до знак завершения null, или `s` при наличии нет завершающего символа null, должен быть допустимым в состоянии предварительной.  Если известны размер в байтах, масштабирование `s` по размеру элемента.  (Для `strn` семейства.)  
  
-   `_Out_writes_(s)`  
  
     `_Out_writes_bytes_(s)`  
  
     Указатель на массив `s` элементов (ОТВ байт), которые будут записаны с помощью функции.  Элементы массива не нужно быть допустимым в состоянии предварительной и количество элементов, которые являются допустимыми в состоянии после не указан.  Если существует примечаний в параметре-типе, они применяются в состоянии после. Например, рассмотрим следующий код.  
  
     `typedef _Null_terminated_ wchar_t *PWSTR; void MyStringCopy(_Out_writes_ (size) PWSTR p1,    _In_ size_t size,    _In_ PWSTR p2);`  
  
     В этом примере код, вызывающий предоставляет буфер `size` элементы для `p1`.  `MyStringCopy`в результате некоторые элементы допустимым. Что более важно `_Null_terminated_` заметки на `PWSTR` означает, что `p1` находится в состоянии после символом null.  Таким образом по-прежнему четко определенных количество допустимых элементов, но число определенный элемент не является обязательным.  
  
     `_bytes_` Variant предоставляет размер в байтах вместо элементов. Используйте только в том случае, если размер не могут быть выражены как элементы.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функцию, которая использует `wchar_t` бы.  
  
-   `_Out_writes_z_(s)`  
  
     Указатель на массив `s` элементов.  Элементы не обязаны быть допустимым в состоянии предварительной.  В состоянии после элементов вверх до знак завершения null, который должен присутствовать — должен быть допустимым.  Если известны размер в байтах, масштабирование `s` по размеру элемента.  
  
-   `_Inout_updates_(s)`  
  
     `_Inout_updates_bytes_(s)`  
  
     Указатель на массив, который является чтения и записи в функции.  Он имеет размер `s` элементов и может использоваться в состояние до и после состояние.  
  
     `_bytes_` Variant предоставляет размер в байтах вместо элементов. Используйте только в том случае, если размер не могут быть выражены как элементы.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функцию, которая использует `wchar_t` бы.  
  
-   `_Inout_updates_z_(s)`  
  
     Указатель на массив, завершающуюся значением null и имеет известный размер. Элементы вверх до знак завершения null, который должен присутствовать, должен быть допустимым в состояние до и после состояния.  Значение в состоянии после предполагается находится отличается от значения в состоянии предварительной; Эти сведения включают расположение завершающий символ null. Если известны размер в байтах, масштабирование `s` по размеру элемента.  
  
-   `_Out_writes_to_(s,c)`  
  
     `_Out_writes_bytes_to_(s,c)`  
  
     `_Out_writes_all_(s)`  
  
     `_Out_writes_bytes_all_(s)`  
  
     Указатель на массив `s` элементов.  Элементы не обязаны быть допустимым в состоянии предварительной.  В состоянии после элементы вплоть до `c`- й элемент должен быть допустимым.  Если известны размер в байтах, масштабирование `s` и `c` по размеру элемента или используйте `_bytes_` типа variant, которая определяется как:  
  
     `_Out_writes_to_(_Old_(s), _Old_(s))    _Out_writes_bytes_to_(_Old_(s), _Old_(s))`  
  
     Другими словами, каждый элемент, который существует в буфере до `s` в состоянии предварительной допустим в состоянии после.  Пример:  
  
     `void *memcpy(_Out_writes_bytes_all_(s) char *p1,    _In_reads_bytes_(s) char *p2,    _In_ int s); void * wordcpy(_Out_writes_all_(s) DWORD *p1,     _In_reads_(s) DWORD *p2,    _In_ int s);`  
  
-   `_Inout_updates_to_(s,c)`  
  
     `_Inout_updates_bytes_to_(s,c)`  
  
     Указатель на массив, который является чтения и записи функцией.  Он имеет размер `s` элементов, которые должны быть допустимым в состоянии предварительной, и `c` в состоянии после элементов должен быть допустимым.  
  
     `_bytes_` Variant предоставляет размер в байтах вместо элементов. Используйте только в том случае, если размер не могут быть выражены как элементы.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функцию, которая использует `wchar_t` бы.  
  
-   `_Inout_updates_z_(s)`  
  
     Указатель на массив, завершающуюся значением null и имеет известный размер. Элементы вверх до знак завершения null, который должен присутствовать, должен быть допустимым в состояние до и после состояния.  Значение в состоянии после предполагается находится отличается от значения в состоянии предварительной; Эти сведения включают расположение завершающий символ null. Если известны размер в байтах, масштабирование `s` по размеру элемента.  
  
-   `_Out_writes_to_(s,c)`  
  
     `_Out_writes_bytes_to_(s,c)`  
  
     `_Out_writes_all_(s)`  
  
     `_Out_writes_bytes_all_(s)`  
  
     Указатель на массив `s` элементов.  Элементы не обязаны быть допустимым в состоянии предварительной.  В состоянии после элементы вплоть до `c`- й элемент должен быть допустимым.  Если известны размер в байтах, масштабирование `s` и `c` по размеру элемента или используйте `_bytes_` типа variant, которая определяется как:  
  
     `_Out_writes_to_(_Old_(s), _Old_(s))    _Out_writes_bytes_to_(_Old_(s), _Old_(s))`  
  
     Другими словами, каждый элемент, который существует в буфере до `s` в состоянии предварительной допустим в состоянии после.  Пример:  
  
     `void *memcpy(_Out_writes_bytes_all_(s) char *p1,    _In_reads_bytes_(s) char *p2,    _In_ int s); void * wordcpy(_Out_writes_all_(s) DWORD *p1,     _In_reads_(s) DWORD *p2,    _In_ int s);`  
  
-   `_Inout_updates_to_(s,c)`  
  
     `_Inout_updates_bytes_to_(s,c)`  
  
     Указатель на массив, который является чтения и записи функцией.  Он имеет размер `s` элементов, которые должны быть допустимым в состоянии предварительной, и `c` в состоянии после элементов должен быть допустимым.  
  
     `_bytes_` Variant предоставляет размер в байтах вместо элементов. Используйте только в том случае, если размер не могут быть выражены как элементы.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функцию, которая использует `wchar_t` бы.  
  
-   `_Inout_updates_all_(s)`  
  
     `_Inout_updates_bytes_all_(s)`  
  
     Указатель на массив, который является чтения и записи функцией размер `s` элементов. Определен как эквивалент:  
  
     `_Inout_updates_to_(_Old_(s), _Old_(s))    _Inout_updates_bytes_to_(_Old_(s), _Old_(s))`  
  
     Другими словами, каждый элемент, который существует в буфере до `s` в состоянии предварительной действителен в состояние до и после состояния.  
  
     `_bytes_` Variant предоставляет размер в байтах вместо элементов. Используйте только в том случае, если размер не могут быть выражены как элементы.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функцию, которая использует `wchar_t` бы.  
  
-   `_In_reads_to_ptr_(p)`  
  
     Указатель на массив, для которого выражение `p`  -  `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` должен быть допустимым в состоянии предварительной.  
  
-   `_In_reads_to_ptr_z_(p)`  
  
     Указатель на массив символом null, для которого выражение `p`  -  `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` должен быть допустимым в состоянии предварительной.  
  
-   `_Out_writes_to_ptr_(p)`  
  
     Указатель на массив, для которого выражение `p`  -  `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` нет необходимости быть допустимым в состоянии предварительной и должен быть допустимым в состоянии после.  
  
-   `_Out_writes_to_ptr_z_(p)`  
  
     Указатель на массив символом null, для которого выражение `p`  -  `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` нет необходимости быть допустимым в состоянии предварительной и должен быть допустимым в состоянии после.  
  
## <a name="optional-pointer-parameters"></a>Указатель необязательные параметры  
 Если содержит аннотацию параметра указатель `_opt_`, это означает, что этот параметр может принимать значение null. В противном случае — аналогично версии, который не включен выполняет заметка `_opt_`. Ниже приведен список `_opt_` варианты заметок параметр указателя:  
  
||||  
|-|-|-|  
|`_In_opt_`<br /><br /> `_Out_opt_`<br /><br /> `_Inout_opt_`<br /><br /> `_In_opt_z_`<br /><br /> `_Inout_opt_z_`<br /><br /> `_In_reads_opt_`<br /><br /> `_In_reads_bytes_opt_`<br /><br /> `_In_reads_opt_z_`|`_Out_writes_opt_`<br /><br /> `_Out_writes_opt_z_`<br /><br /> `_Inout_updates_opt_`<br /><br /> `_Inout_updates_bytes_opt_`<br /><br /> `_Inout_updates_opt_z_`<br /><br /> `_Out_writes_to_opt_`<br /><br /> `_Out_writes_bytes_to_opt_`<br /><br /> `_Out_writes_all_opt_`<br /><br /> `_Out_writes_bytes_all_opt_`|`_Inout_updates_to_opt_`<br /><br /> `_Inout_updates_bytes_to_opt_`<br /><br /> `_Inout_updates_all_opt_`<br /><br /> `_Inout_updates_bytes_all_opt_`<br /><br /> `_In_reads_to_ptr_opt_`<br /><br /> `_In_reads_to_ptr_opt_z_`<br /><br /> `_Out_writes_to_ptr_opt_`<br /><br /> `_Out_writes_to_ptr_opt_z_`|  
  
## <a name="output-pointer-parameters"></a>Выходные параметры-указатели  
 Выходные параметры указателя требуют специального обозначения для однозначного определения непустое значение параметра и указывает на расположение.  
  
 **Заметки и описания**  
  
-   `_Outptr_`  
  
     Параметр не может иметь значение null, и в состоянии после указывает расположение не может иметь значение null и должен быть допустимым.  
  
-   `_Outptr_opt_`  
  
     Параметр может иметь значение null, но в состоянии после указывает расположение не может иметь значение null и должен быть допустимым.  
  
-   `_Outptr_result_maybenull_`  
  
     Параметр не может иметь значение null, и в состоянии после указывает расположение может иметь значение null.  
  
-   `_Outptr_opt_result_maybenull_`  
  
     Параметр может иметь значение null, и в состоянии после указывает расположение может иметь значение null.  
  
 В следующей таблице дополнительные подстроки будут вставлены в имя заметки, чтобы уточнить смысл заметки.  Различных подстрок, `_z`, `_COM_`, `_buffer_`, `_bytebuffer_`, и `_to_`.  
  
> [!IMPORTANT]
>  Если интерфейс, заметку COM, используйте форму COM этих заметок. Не используйте заметки COM с любого другого типа интерфейса.  
  
 **Заметки и описания**  
  
-   `_Outptr_result_z_`  
  
     `_Outptr_opt_result_z_`  
  
     `_Outptr_result_maybenull_z_`  
  
     `_Ouptr_opt_result_maybenull_z_`  
  
     Возвращенный указатель имеет `_Null_terminated_` заметки.  
  
-   `_COM_Outptr_`  
  
     `_COM_Outptr_opt_`  
  
     `_COM_Outptr_result_maybenull_`  
  
     `_COM_Outptr_opt_result_maybenull_`  
  
     Возвращенный указатель имеет семантику COM и поэтому содержит `_On_failure_` после условия, возвращенный указатель имеет значение null.  
  
-   `_Outptr_result_buffer_(s)`  
  
     `_Outptr_result_bytebuffer_(s)`  
  
     `_Outptr_opt_result_buffer_(s)`  
  
     `_Outptr_opt_result_bytebuffer_(s)`  
  
     Возвращенный указатель указывает на допустимый буфер размером `s` элементов или байт.  
  
-   `_Outptr_result_buffer_to_(s, c)`  
  
     `_Outptr_result_bytebuffer_to_(s, c)`  
  
     `_Outptr_opt_result_buffer_to_(s,c)`  
  
     `_Outptr_opt_result_bytebuffer_to_(s,c)`  
  
     Возвращенный указатель указывает на буфер размером `s` элементов (байт), из которых первая `c` являются допустимыми.  
  
 Определенные соглашения интерфейс предположить, что выходные параметры nullified при сбое.  За исключением явно кода модели COM предпочтительнее форм в следующей таблице.  Для кода модели COM используйте соответствующий формы COM, перечисленных в предыдущем разделе.  
  
 **Заметки и описания**  
  
-   `_Result_nullonfailure_`  
  
     Изменение других заметок. Результат имеет значение null, если функция завершается с ошибкой.  
  
-   `_Result_zeroonfailure_`  
  
     Изменение других заметок. Результат будет равен нулю, если функция завершается с ошибкой.  
  
-   `_Outptr_result_nullonfailure_`  
  
     Возвращенный указатель указывает на допустимый буфер, если функция выполняется успешно, или значение null, если функция завершается с ошибкой. Эта заметка предназначен для обязательных параметров.  
  
-   `_Outptr_opt_result_nullonfailure_`  
  
     Возвращенный указатель указывает на допустимый буфер, если функция выполняется успешно, или значение null, если функция завершается с ошибкой. Эта заметка — для необязательного параметра.  
  
-   `_Outref_result_nullonfailure_`  
  
     Возвращенный указатель указывает на допустимый буфер, если функция выполняется успешно, или значение null, если функция завершается с ошибкой. Эта заметка — для ссылочного параметра.  
  
## <a name="output-reference-parameters"></a>Выходные параметры ссылок  
 Ссылочный параметр обычно используется для выходных параметров.  Для ссылочных параметров простые выходные данные — например, `int&`—`_Out_` обеспечивает правильное семантику.  Однако когда выходное значение имеет указатель — например `int *&`— аннотации эквивалент указателя, например `_Outptr_ int **` не предоставляет правильный семантики.  Чтобы кратко выразить семантика выходные параметры ссылок для типов указателей, используйте эти составные примечания:  
  
 **Заметки и описания**  
  
-   `_Outref_`  
  
     Результат должен быть допустимым в после состоянии и не может иметь значение null.  
  
-   `_Outref_result_maybenull_`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может иметь значение null.  
  
-   `_Outref_result_buffer_(s)`  
  
     Результат должен быть допустимым в после состоянии и не может иметь значение null. Указывает на допустимый буфер размером `s` элементов.  
  
-   `_Outref_result_bytebuffer_(s)`  
  
     Результат должен быть допустимым в после состоянии и не может иметь значение null. Указывает на допустимый буфер размером `s` байт.  
  
-   `_Outref_result_buffer_to_(s, c)`  
  
     Результат должен быть допустимым в после состоянии и не может иметь значение null. Указывает на буфер `s` элементы, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_bytebuffer_to_(s, c)`  
  
     Результат должен быть допустимым в после состоянии и не может иметь значение null. Указывает на буфер `s` байт, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_buffer_all_(s)`  
  
     Результат должен быть допустимым в после состоянии и не может иметь значение null. Указывает на допустимый буфер размером `s` допустимых элементов.  
  
-   `_Outref_result_bytebuffer_all_(s)`  
  
     Результат должен быть допустимым в после состоянии и не может иметь значение null. Указывает на допустимый буфер `s` байтов допустимых элементов.  
  
-   `_Outref_result_buffer_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может иметь значение null. Указывает на допустимый буфер размером `s` элементов.  
  
-   `_Outref_result_bytebuffer_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может иметь значение null. Указывает на допустимый буфер размером `s` байт.  
  
-   `_Outref_result_buffer_to_maybenull_(s, c)`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может иметь значение null. Указывает на буфер `s` элементы, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_bytebuffer_to_maybenull_(s,c)`  
  
     Результат должен быть допустимым в состоянии после, но может иметь значение null в состоянии отправки. Указывает на буфер `s` байт, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_buffer_all_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но может иметь значение null в состоянии отправки. Указывает на допустимый буфер размером `s` допустимых элементов.  
  
-   `_Outref_result_bytebuffer_all_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но может иметь значение null в состоянии отправки. Указывает на допустимый буфер `s` байтов допустимых элементов.  
  
## <a name="return-values"></a>Возвращаемые значения  
 Возвращаемое значение функции напоминает `_Out_` параметр, но находится на другом уровне de-reference и не нужно учитывать концепция указателя к результату.  Для следующих заметок, возвращаемое значение является объектом заметками — скаляр, указатель на структуру или указатель на буфер. Эти заметки иметь ту же семантику, что и для соответствующего `_Out_` заметки.  
  
|||  
|-|-|  
|`_Ret_z_`<br /><br /> `_Ret_writes_(s)`<br /><br /> `_Ret_writes_bytes_(s)`<br /><br /> `_Ret_writes_z_(s)`<br /><br /> `_Ret_writes_to_(s,c)`<br /><br /> `_Ret_writes_maybenull_(s)`<br /><br /> `_Ret_writes_to_maybenull_(s)`<br /><br /> `_Ret_writes_maybenull_z_(s)`|`_Ret_maybenull_`<br /><br /> `_Ret_maybenull_z_`<br /><br /> `_Ret_null_`<br /><br /> `_Ret_notnull_`<br /><br /> `_Ret_writes_bytes_to_`<br /><br /> `_Ret_writes_bytes_maybenull_`<br /><br /> `_Ret_writes_bytes_to_maybenull_`|  
  
## <a name="other-common-annotations"></a>Другие общие заметки  
 **Заметки и описания**  
  
-   `_In_range_(low, hi)`  
  
     `_Out_range_(low, hi)`  
  
     `_Ret_range_(low, hi)`  
  
     `_Deref_in_range_(low, hi)`  
  
     `_Deref_out_range_(low, hi)`  
  
     `_Deref_inout_range_(low, hi)`  
  
     `_Field_range_(low, hi)`  
  
     Параметр, поле или результат находится в диапазоне (включительно) из `low` для `hi`.  Эквивалентно `_Satisfies_(_Curr_ >= low && _Curr_ <= hi)` , применяется к аннотированному объекту вместе с соответствующих условий предварительно состояние или после состояния.  
  
    > [!IMPORTANT]
    >  Несмотря на то, что имена содержат «in» и «out», семантика `_In_` и `_Out_` сделать **не** применить эти заметки.  
  
-   `_Pre_equal_to_(expr)`  
  
     `_Post_equal_to_(expr)`  
  
     Значение заметками именно `expr`.  Эквивалентно `_Satisfies_(_Curr_ == expr)` , применяется к аннотированному объекту вместе с соответствующих условий предварительно состояние или после состояния.  
  
-   `_Struct_size_bytes_(size)`  
  
     Применяется к объявлению структуры или класса.  Указывает, что допустимый объект этого типа может быть больше объявленного типа, с количеством байтов, которые получают по `size`.  Например:  
  
     `typedef _Struct_size_bytes_(nSize) struct MyStruct {    size_t nSize;    ... };`  
  
     Размер буфера в байтах параметра `pM` типа `MyStruct *` затем воспринимается как:  
  
     `min(pM->nSize, sizeof(MyStruct))`  
  
## <a name="related-resources"></a>Связанные ресурсы  
 [Блог команды разработчиков анализа кода](http://go.microsoft.com/fwlink/?LinkId=251197)  
  
## <a name="see-also"></a>См. также  
 [Использовании аннотаций SAL для сокращения дефектов в коде C/C++](../code-quality/using-sal-annotations-to-reduce-c-cpp-code-defects.md)   
 [Основные сведения о SAL](../code-quality/understanding-sal.md)   
 [Аннотация поведения функций](../code-quality/annotating-function-behavior.md)   
 [Аннотация структур и классов](../code-quality/annotating-structs-and-classes.md)   
 [Аннотация поведения блокировки](../code-quality/annotating-locking-behavior.md)   
 [Указание времени и места применения примечания](../code-quality/specifying-when-and-where-an-annotation-applies.md)   
 [Встроенные функции](../code-quality/intrinsic-functions.md)   
 [Рекомендации и примеры](../code-quality/best-practices-and-examples-sal.md)
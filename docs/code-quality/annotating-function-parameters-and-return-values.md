---
title: "Создание примечаний к параметрам и возвращаемым значениям функций | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "_Outptr_opt_result_bytebuffer_to_"
  - "_Inout_updates_all_opt_"
  - "_Post_equal_to_"
  - "_Outptr_opt_result_maybenull_"
  - "_Out_writes_bytes_all_"
  - "_Out_writes_all_opt_"
  - "_In_opt_"
  - "_Outptr_"
  - "_Outptr_result_maybenull_"
  - "_Outref_result_bytebuffer_all_maybenull_"
  - "_Inout_updates_opt_z_"
  - "_Inout_updates_z_"
  - "_Out_writes_"
  - "_Out_writes_to_ptr_opt_z_"
  - "_In_reads_to_ptr_opt_"
  - "_Ret_writes_to_maybenull_"
  - "_Outref_result_maybenull_"
  - "_Ret_writes_bytes_"
  - "_Outptr_result_bytebuffer_"
  - "_Out_writes_opt_"
  - "_Inout_updates_bytes_opt_"
  - "_In_z_"
  - "_Inout_updates_to_"
  - "_Ret_maybenull_"
  - "_Ret_writes_bytes_to_"
  - "_Ret_z_"
  - "_COM_Outptr_"
  - "_Ret_maybenull_z_"
  - "_Out_opt_"
  - "_In_reads_opt_z_"
  - "_Outptr_result_bytebuffer_to_"
  - "_Ret_notnull_"
  - "_COM_Outptr_opt_result_maybenull_"
  - "_Inout_updates_to_opt_"
  - "_Inout_updates_"
  - "_Outptr_opt_result_buffer_"
  - "_Outptr_result_buffer_to_"
  - "_Out_writes_to_ptr_opt_"
  - "_Out_writes_bytes_all_opt_"
  - "_Inout_updates_all_"
  - "_Deref_inout_range_"
  - "_Ret_writes_"
  - "_Out_writes_z_"
  - "_Ret_writes_to_"
  - "_Out_writes_to_ptr_z_"
  - "_Out_writes_bytes_to_opt_"
  - "_In_reads_or_z_"
  - "_Inout_updates_bytes_to_"
  - "_In_reads_z_"
  - "_In_opt_z_"
  - "_Outref_result_buffer_maybenull_"
  - "_Ret_range_"
  - "_COM_Outptr_opt_"
  - "_Ouptr_opt_result_maybenull_z_"
  - "_In_reads_opt_"
  - "_Inout_"
  - "_Field_range_"
  - "_Ret_writes_z_"
  - "_Out_writes_to_"
  - "_Out_writes_to_ptr_"
  - "_Inout_opt_z_"
  - "_Outref_"
  - "_Deref_out_range_"
  - "_Outref_result_buffer_"
  - "_Outref_result_buffer_to_"
  - "_Outref_result_bytebuffer_to_maybenull_"
  - "_In_reads_bytes_"
  - "_Outptr_opt_result_buffer_to_"
  - "_Outref_result_buffer_all_"
  - "_Out_writes_bytes_to_"
  - "_Result_zeroonfailure_"
  - "_In_reads_bytes_opt_"
  - "_Outref_result_buffer_to_maybenull_"
  - "_Outref_result_bytebuffer_all_"
  - "_Outref_result_buffer_all_maybenull_"
  - "_Ret_writes_maybenull_z_"
  - "_In_range_"
  - "_Inout_updates_bytes_all_opt_"
  - "_Outref_result_bytebuffer_to_"
  - "_Inout_updates_bytes_to_opt_"
  - "_Pre_equal_to_"
  - "_Ret_writes_bytes_maybenull_"
  - "_COM_Outptr_result_maybenull_"
  - "_Ret_writes_maybenull_"
  - "_Out_writes_bytes_"
  - "_Outptr_opt_"
  - "_Out_writes_opt_z_"
  - "_Outref_result_nullonfailure_"
  - "_Outptr_opt_result_z_"
  - "_Inout_opt_"
  - "_Deref_in_range_"
  - "_Outptr_result_z_"
  - "_In_reads_to_ptr_opt_z_"
  - "_Struct_size_bytes_"
  - "_Outptr_result_nullonfailure_"
  - "_In_"
  - "_Inout_updates_bytes_"
  - "_In_reads_to_ptr_z_"
  - "_Ret_writes_bytes_to_maybenull"
  - "_Outptr_opt_result_nullonfailure_"
  - "_In_reads_to_ptr_"
  - "_Outptr_result_buffer_"
  - "_Out_"
  - "_Outref_result_bytebuffer_maybenull_"
  - "_Outptr_result_maybenull_z_"
  - "_In_reads_"
  - "_Inout_updates_opt_"
  - "_Out_writes_to_opt_"
  - "_Outptr_opt_result_bytebuffer_"
  - "_Out_writes_all_"
  - "_Out_range_"
  - "_Inout_updates_bytes_all_"
  - "_Inout_z_"
  - "_Outref_result_bytebuffer_"
  - "_Result_nullonfailure_"
  - "_Ret_null_"
ms.assetid: 82826a3d-0c81-421c-8ffe-4072555dca3a
caps.latest.revision: 15
caps.handback.revision: 15
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# Создание примечаний к параметрам и возвращаемым значениям функций
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

В этой статье описывается обычно заметок простая функция параметры используются — скалярных значений и указателей на структуры и классы и большинство видов буферов.  В этой статье также показывает общие варианты использования для заметок. Дополнительные заметки, относящиеся к функции, в разделе [Аннотация поведения функций](../code-quality/annotating-function-behavior.md)  
  
## <a name="pointer-parameters"></a>Параметры-указатели  
 Заметки в следующей таблице при помечается параметр-указатель, анализатор выдает ошибку, если указатель имеет значение null.  Это относится к указателям и для любых элементов данных, который указывает.  
  
 **Заметки и описания**  
  
-   `_In_`  
  
     Помечает входные параметры, которые являются скаляры, структур, указателей на структуры и т. п.  Явным образом можно использовать простые скалярные значения.  Параметр должен быть допустимым в состоянии предварительной и не будет изменен.  
  
-   `_Out_`  
  
     Добавляет выходные параметры, которые скаляры, структур, указателей на структуры и т. п.  Не использовать этот объект, который не возвращает значение, например, скалярное, передаваемый по значению.  Параметр не должен быть допустимым в состоянии предварительной, но должен быть допустимым в состоянии после.  
  
-   `_Inout_`  
  
     Добавляет параметр, который будет изменен с помощью функции.  Он должен быть допустимым в состояние до и после состояния, но предполагается, что различные значения до и после вызова метода. Необходимо применить к изменяемое значение.  
  
-   `_In_z_`  
  
     Указатель нулем строку, которая используется в качестве входных данных.  В состоянии предварительного строки должен быть допустимым.  Варианты `PSTR`, которого уже имеют правильный заметки, являются предпочтительными.  
  
-   `_Inout_z_`  
  
     Указатель на массив символом null, будут изменены.  Она должна быть допустимой до и после вызова метода, но значение предполагается, что были изменены.  Завершающий символ null, могут быть перемещены, но может осуществляться только элементы до исходного завершающий символ null.  
  
-   `_In_reads_(s)`  
  
     `_In_reads_bytes_(s)`  
  
     Указатель на массив, который считывается с помощью функции.  Массив имеет размер `s` элементов, каждый из которых должен быть допустимым.  
  
      `_bytes_` Вариант указывает размер в байтах, а не элементы. Используйте только в том случае, если размер нельзя выразить в виде элементов.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функции, которая использует `wchar_t` бы.  
  
-   `_In_reads_z_(s)`  
  
     Указатель на массив, завершающуюся значением null и имеет известный размер. Элементы до завершающий символ null, или `s` при наличии нет завершающего символа null, должен быть допустимым в состоянии предварительной.  Если известно, размер в байтах, масштабирование `s` на размер элемента.  
  
-   `_In_reads_or_z_(s)`  
  
     Указатель на массив, завершающуюся значением null или имеет известный размер или оба. Элементы до завершающий символ null, или `s` при наличии нет завершающего символа null, должен быть допустимым в состоянии предварительной.  Если известно, размер в байтах, масштабирование `s` на размер элемента.  (Для `strn` семейства.)  
  
-   `_Out_writes_(s)`  
  
     `_Out_writes_bytes_(s)`  
  
     Указатель на массив `s` элементы (ОТВ. байт), будут записаны с помощью функции.  Элементы массива не требуется быть допустимым в состоянии предварительной и количество элементов, которые являются допустимыми в состоянии после не указан.  Если заметки в параметре-типе, они применяются в состоянии после. Например, рассмотрим следующий код.  
  
     `typedef _Null_terminated_ wchar_t *PWSTR; void MyStringCopy(_Out_writes_ (size) PWSTR p1,    _In_ size_t size,    _In_ PWSTR p2);`  
  
     В этом примере вызывающий объект предоставляет буфер `size` элементы `p1`.  `MyStringCopy` делает некоторые из этих элементов допустимым. Что более важно `_Null_terminated_` заметки на `PWSTR` означает, что `p1` находится в состоянии после символом null.  Таким образом количество допустимых элементов по-прежнему четко определенных, но число конкретный элемент не является обязательным.  
  
      `_bytes_` Вариант указывает размер в байтах, а не элементы. Используйте только в том случае, если размер нельзя выразить в виде элементов.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функции, которая использует `wchar_t` бы.  
  
-   `_Out_writes_z_(s)`  
  
     Указатель на массив `s` элементы.  Элементы, не обязаны быть допустимым в состоянии предварительной.  В состоянии после элементы вверх по завершающий символ null, который должен присутствовать, должен быть допустимым.  Если известно, размер в байтах, масштабирование `s` на размер элемента.  
  
-   `_Inout_updates_(s)`  
  
     `_Inout_updates_bytes_(s)`  
  
     Указатель на массив, который является чтения и записи в функции.  Он имеет размер `s` элементов и допустимы в состояния до и после.  
  
      `_bytes_` Вариант указывает размер в байтах, а не элементы. Используйте только в том случае, если размер нельзя выразить в виде элементов.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функции, которая использует `wchar_t` бы.  
  
-   `_Inout_updates_z_(s)`  
  
     Указатель на массив, завершающуюся значением null и имеет известный размер. Элементы вверх по завершающий символ null, который должен присутствовать, должен быть допустимым в состояние до и после состояния.  Предполагается, что значение в состоянии после должно отличаться от значения в состоянии предварительной; Эти сведения включают расположение завершающий символ null. Если известно, размер в байтах, масштабирование `s` на размер элемента.  
  
-   `_Out_writes_to_(s,c)`  
  
     `_Out_writes_bytes_to_(s,c)`  
  
     `_Out_writes_all_(s)`  
  
     `_Out_writes_bytes_all_(s)`  
  
     Указатель на массив `s` элементы.  Элементы, не обязаны быть допустимым в состоянии предварительной.  В состоянии после элементов, расположенных до `c`-й элемент должен быть допустимым.  Если известно, размер в байтах, масштабирование `s` и `c` по размеру элемента или используйте `_bytes_` типа variant, который определен как:  
  
     `_Out_writes_to_(_Old_(s), _Old_(s))    _Out_writes_bytes_to_(_Old_(s), _Old_(s))`  
  
     Другими словами, каждый элемент, который существует в буфере до `s` в состоянии предварительного действителен в состоянии после.  Пример:  
  
     `void *memcpy(_Out_writes_bytes_all_(s) char *p1,    _In_reads_bytes_(s) char *p2,    _In_ int s); void * wordcpy(_Out_writes_all_(s) DWORD *p1,     _In_reads_(s) DWORD *p2,    _In_ int s);`  
  
-   `_Inout_updates_to_(s,c)`  
  
     `_Inout_updates_bytes_to_(s,c)`  
  
     Указатель на массив, который является чтения и записи функцией.  Он имеет размер `s` элементов, каждый из которых должен быть допустимым в до состояния, и `c` в состоянии после элементов должен быть допустимым.  
  
      `_bytes_` Вариант указывает размер в байтах, а не элементы. Используйте только в том случае, если размер нельзя выразить в виде элементов.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функции, которая использует `wchar_t` бы.  
  
-   `_Inout_updates_z_(s)`  
  
     Указатель на массив, завершающуюся значением null и имеет известный размер. Элементы вверх по завершающий символ null, который должен присутствовать, должен быть допустимым в состояние до и после состояния.  Предполагается, что значение в состоянии после должно отличаться от значения в состоянии предварительной; Эти сведения включают расположение завершающий символ null. Если известно, размер в байтах, масштабирование `s` на размер элемента.  
  
-   `_Out_writes_to_(s,c)`  
  
     `_Out_writes_bytes_to_(s,c)`  
  
     `_Out_writes_all_(s)`  
  
     `_Out_writes_bytes_all_(s)`  
  
     Указатель на массив `s` элементы.  Элементы, не обязаны быть допустимым в состоянии предварительной.  В состоянии после элементов, расположенных до `c`-й элемент должен быть допустимым.  Если известно, размер в байтах, масштабирование `s` и `c` по размеру элемента или используйте `_bytes_` типа variant, который определен как:  
  
     `_Out_writes_to_(_Old_(s), _Old_(s))    _Out_writes_bytes_to_(_Old_(s), _Old_(s))`  
  
     Другими словами, каждый элемент, который существует в буфере до `s` в состоянии предварительного действителен в состоянии после.  Пример:  
  
     `void *memcpy(_Out_writes_bytes_all_(s) char *p1,    _In_reads_bytes_(s) char *p2,    _In_ int s); void * wordcpy(_Out_writes_all_(s) DWORD *p1,     _In_reads_(s) DWORD *p2,    _In_ int s);`  
  
-   `_Inout_updates_to_(s,c)`  
  
     `_Inout_updates_bytes_to_(s,c)`  
  
     Указатель на массив, который является чтения и записи функцией.  Он имеет размер `s` элементов, каждый из которых должен быть допустимым в до состояния, и `c` в состоянии после элементов должен быть допустимым.  
  
      `_bytes_` Вариант указывает размер в байтах, а не элементы. Используйте только в том случае, если размер нельзя выразить в виде элементов.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функции, которая использует `wchar_t` бы.  
  
-   `_Inout_updates_all_(s)`  
  
     `_Inout_updates_bytes_all_(s)`  
  
     Указатель на массив, который является и чтение и запись с помощью функции размер `s` элементы. Определен как эквивалент:  
  
     `_Inout_updates_to_(_Old_(s), _Old_(s))    _Inout_updates_bytes_to_(_Old_(s), _Old_(s))`  
  
     Другими словами, каждый элемент, который существует в буфере до `s` до состояния является действительным состояния до и после.  
  
      `_bytes_` Вариант указывает размер в байтах, а не элементы. Используйте только в том случае, если размер нельзя выразить в виде элементов.  Например `char` строки будут использовать `_bytes_` вариант только в том случае, если аналогичное функции, которая использует `wchar_t` бы.  
  
-   `_In_reads_to_ptr_(p)`  
  
     Указатель на массив, для которого выражение `p` – `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` в состоянии предварительного должен быть допустимым.  
  
-   `_In_reads_to_ptr_z_(p)`  
  
     Указатель на массив нулем, для которого выражение `p` – `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` в состоянии предварительного должен быть допустимым.  
  
-   `_Out_writes_to_ptr_(p)`  
  
     Указатель на массив, для которого выражение `p` – `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` могут не действовать в состоянии предварительной и должен быть допустимым в состоянии после.  
  
-   `_Out_writes_to_ptr_z_(p)`  
  
     Указатель на массив нулем, для которого выражение `p` – `_Curr_` (то есть `p` минус `_Curr_`) определяется соответствующий языковой стандарт.  Элементы до `p` могут не действовать в состоянии предварительной и должен быть допустимым в состоянии после.  
  
## <a name="optional-pointer-parameters"></a>Указатель необязательные параметры  
 Если аннотация параметра указатель содержит `_opt_`, он указывает, что этот параметр может принимать значение null. В противном случае — заметка выполняет совпадает с версией, не включает в себя `_opt_`. Ниже приведен список `_opt_` варианты заметок параметр указателя:  
  
||||  
|-|-|-|  
|`_In_opt_`<br /><br /> `_Out_opt_`<br /><br /> `_Inout_opt_`<br /><br /> `_In_opt_z_`<br /><br /> `_Inout_opt_z_`<br /><br /> `_In_reads_opt_`<br /><br /> `_In_reads_bytes_opt_`<br /><br /> `_In_reads_opt_z_`|`_Out_writes_opt_`<br /><br /> `_Out_writes_opt_z_`<br /><br /> `_Inout_updates_opt_`<br /><br /> `_Inout_updates_bytes_opt_`<br /><br /> `_Inout_updates_opt_z_`<br /><br /> `_Out_writes_to_opt_`<br /><br /> `_Out_writes_bytes_to_opt_`<br /><br /> `_Out_writes_all_opt_`<br /><br /> `_Out_writes_bytes_all_opt_`|`_Inout_updates_to_opt_`<br /><br /> `_Inout_updates_bytes_to_opt_`<br /><br /> `_Inout_updates_all_opt_`<br /><br /> `_Inout_updates_bytes_all_opt_`<br /><br /> `_In_reads_to_ptr_opt_`<br /><br /> `_In_reads_to_ptr_opt_z_`<br /><br /> `_Out_writes_to_ptr_opt_`<br /><br /> `_Out_writes_to_ptr_opt_z_`|  
  
## <a name="output-pointer-parameters"></a>Выходные параметры-указатели  
 Выходные параметры указателя требуют специального обозначения для устранения неоднозначности непустое значение параметра и указывает на расположение.  
  
 **Заметки и описания**  
  
-   `_Outptr_`  
  
     Параметр не может иметь значение null, а в состоянии после указывает расположение не может быть пустым и должно быть допустимым.  
  
-   `_Outptr_opt_`  
  
     Параметр может иметь значение null, но в состоянии после указывает расположение не может быть пустым и должно быть допустимым.  
  
-   `_Outptr_result_maybenull_`  
  
     Параметр не может иметь значение null, а после состояния указывает на расположение может иметь значение null.  
  
-   `_Outptr_opt_result_maybenull_`  
  
     Параметр может иметь значение null, а после состояния указывает на расположение может иметь значение null.  
  
 В следующей таблице дополнительные подстроки вставляются в имя заметки, чтобы уточнить значение заметки.  Различные подстроки, `_z`, `_COM_`, `_buffer_`, `_bytebuffer_`, и `_to_`.  
  
> [!IMPORTANT]
>  Если интерфейс, который вы Аннотация COM, используйте форму COM этих заметок. Не используйте заметки COM с любого другого типа интерфейса.  
  
 **Заметки и описания**  
  
-   `_Outptr_result_z_`  
  
     `_Outptr_opt_result_z_`  
  
     `_Outptr_result_maybenull_z_`  
  
     `_Ouptr_opt_result_maybenull_z_`  
  
     Возвращенный указатель имеет `_Null_terminated_` заметки.  
  
-   `_COM_Outptr_`  
  
     `_COM_Outptr_opt_`  
  
     `_COM_Outptr_result_maybenull_`  
  
     `_COM_Outptr_opt_result_maybenull_`  
  
     Возвращенный указатель имеет семантики COM и поэтому несет `_On_failure_` после условие, возвращаемый указатель имеет значение null.  
  
-   `_Outptr_result_buffer_(s)`  
  
     `_Outptr_result_bytebuffer_(s)`  
  
     `_Outptr_opt_result_buffer_(s)`  
  
     `_Outptr_opt_result_bytebuffer_(s)`  
  
     Возвращаемый указатель указывает на допустимый буфер размером `s` элементов или байт.  
  
-   `_Outptr_result_buffer_to_(s, c)`  
  
     `_Outptr_result_bytebuffer_to_(s, c)`  
  
     `_Outptr_opt_result_buffer_to_(s,c)`  
  
     `_Outptr_opt_result_bytebuffer_to_(s,c)`  
  
     Возвращаемый указатель указывает на буфер размером `s` элементы или байт, из которых первая `c` являются допустимыми.  
  
 Определенные соглашения интерфейса предполагают, что выходные параметры nullified в случае сбоя.  За исключением явно кода модели COM предпочтительнее форм в следующей таблице.  Для кода COM используйте соответствующими формами COM, описанных в предыдущем разделе.  
  
 **Заметки и описания**  
  
-   `_Result_nullonfailure_`  
  
     Изменение других заметок. Результат имеет значение null, если функция завершается с ошибкой.  
  
-   `_Result_zeroonfailure_`  
  
     Изменение других заметок. Результат присваивается нулевое значение, если функция завершается с ошибкой.  
  
-   `_Outptr_result_nullonfailure_`  
  
     Возвращаемого указателя указывает на допустимый буфер, если функция выполняется успешно, или значение null, если функция завершается с ошибкой. Эта заметка — для обязательного параметра.  
  
-   `_Outptr_opt_result_nullonfailure_`  
  
     Возвращаемого указателя указывает на допустимый буфер, если функция выполняется успешно, или значение null, если функция завершается с ошибкой. Эта заметка предназначен для необязательного параметра.  
  
-   `_Outref_result_nullonfailure_`  
  
     Возвращаемого указателя указывает на допустимый буфер, если функция выполняется успешно, или значение null, если функция завершается с ошибкой. Эта заметка — для ссылочного параметра.  
  
## <a name="output-reference-parameters"></a>Выходные параметры ссылок  
 Ссылочный параметр обычно используется для выходных параметров.  Для ссылочных параметров, простые выходные данные — например, `int&`—`_Out_` обеспечивает правильное семантику.  Тем не менее, когда выходное значение является указателем — например `int *&`— как эквивалент указателя заметки `_Outptr_ int **` не предоставляет правильные семантики.  Кратко выразить семантику параметров вывода ссылок для типов указателей, используйте эти составные примечания:  
  
 **Заметки и описания**  
  
-   `_Outref_`  
  
     Результат должен быть допустимым в состоянии после и не может быть пустым.  
  
-   `_Outref_result_maybenull_`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может принимать значение null.  
  
-   `_Outref_result_buffer_(s)`  
  
     Результат должен быть допустимым в состоянии после и не может быть пустым. Указывает на допустимый буфер размером `s` элементы.  
  
-   `_Outref_result_bytebuffer_(s)`  
  
     Результат должен быть допустимым в состоянии после и не может быть пустым. Указывает на допустимый буфер размером `s` байт.  
  
-   `_Outref_result_buffer_to_(s, c)`  
  
     Результат должен быть допустимым в состоянии после и не может быть пустым. Указывает буфер `s` элементы, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_bytebuffer_to_(s, c)`  
  
     Результат должен быть допустимым в состоянии после и не может быть пустым. Указывает буфер `s` байт, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_buffer_all_(s)`  
  
     Результат должен быть допустимым в состоянии после и не может быть пустым. Указывает на допустимый буфер размером `s` допустимых элементов.  
  
-   `_Outref_result_bytebuffer_all_(s)`  
  
     Результат должен быть допустимым в состоянии после и не может быть пустым. Указывает допустимый буфер `s` байтов допустимых элементов.  
  
-   `_Outref_result_buffer_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может принимать значение null. Указывает на допустимый буфер размером `s` элементы.  
  
-   `_Outref_result_bytebuffer_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может принимать значение null. Указывает на допустимый буфер размером `s` байт.  
  
-   `_Outref_result_buffer_to_maybenull_(s, c)`  
  
     Результат должен быть допустимым в состоянии после, но в состоянии после может принимать значение null. Указывает буфер `s` элементы, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_bytebuffer_to_maybenull_(s,c)`  
  
     Результат должен быть допустимым в состоянии после, но может принимать значение null в состоянии отправки. Указывает буфер `s` байт, из которых первая `c` являются допустимыми.  
  
-   `_Outref_result_buffer_all_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но может принимать значение null в состоянии отправки. Указывает на допустимый буфер размером `s` допустимых элементов.  
  
-   `_Outref_result_bytebuffer_all_maybenull_(s)`  
  
     Результат должен быть допустимым в состоянии после, но может принимать значение null в состоянии отправки. Указывает допустимый буфер `s` байтов допустимых элементов.  
  
## <a name="return-values"></a>Возвращаемые значения  
 Возвращаемое значение функции напоминает `_Out_` параметр совсем другой уровень de-reference и не нужно учитывать концепцию указатель на результат.  Следующие заметки возвращаемое значение является объектом заметки — скаляр, указатель на структуру или указатель на буфер. Эти заметки имеют ту же семантику, что и для соответствующего `_Out_` заметки.  
  
|||  
|-|-|  
|`_Ret_z_`<br /><br /> `_Ret_writes_(s)`<br /><br /> `_Ret_writes_bytes_(s)`<br /><br /> `_Ret_writes_z_(s)`<br /><br /> `_Ret_writes_to_(s,c)`<br /><br /> `_Ret_writes_maybenull_(s)`<br /><br /> `_Ret_writes_to_maybenull_(s)`<br /><br /> `_Ret_writes_maybenull_z_(s)`|`_Ret_maybenull_`<br /><br /> `_Ret_maybenull_z_`<br /><br /> `_Ret_null_`<br /><br /> `_Ret_notnull_`<br /><br /> `_Ret_writes_bytes_to_`<br /><br /> `_Ret_writes_bytes_maybenull_`<br /><br /> `_Ret_writes_bytes_to_maybenull_`|  
  
## <a name="other-common-annotations"></a>Другие общие заметки  
 **Заметки и описания**  
  
-   `_In_range_(low, hi)`  
  
     `_Out_range_(low, hi)`  
  
     `_Ret_range_(low, hi)`  
  
     `_Deref_in_range_(low, hi)`  
  
     `_Deref_out_range_(low, hi)`  
  
     `_Deref_inout_range_(low, hi)`  
  
     `_Field_range_(low, hi)`  
  
     Параметр, поле или результат находится в диапазоне (включительно) из `low` к `hi`.  Эквивалентно `_Satisfies_(_Curr_ >= low && _Curr_ <= hi)` применяемый к объекте заметки вместе с соответствующих предварительно состояние или состояние после условия.  
  
    > [!IMPORTANT]
    >  Несмотря на то, что имена содержат «in» и «out», семантика `_In_` и `_Out_` сделать **не** Применить эти заметки.  
  
-   `_Pre_equal_to_(expr)`  
  
     `_Post_equal_to_(expr)`  
  
     Именно это значение заметками `expr`.  Эквивалентно `_Satisfies_(_Curr_ == expr)` применяемый к объекте заметки вместе с соответствующих предварительно состояние или состояние после условия.  
  
-   `_Struct_size_bytes_(size)`  
  
     Применяется к объявлению структуры или класса.  Указывает, что допустимый объект этого типа может быть больше объявленного типа с количеством байтов предоставленному `size`.  Например:  
  
     `typedef _Struct_size_bytes_(nSize) struct MyStruct {    size_t nSize;    ... };`  
  
     Размер буфера в байтах параметра `pM` типа `MyStruct *` затем принимается:  
  
     `min(pM->nSize, sizeof(MyStruct))`  
  
## <a name="related-resources"></a>Связанные ресурсы  
 [Блог команды анализа кода](http://go.microsoft.com/fwlink/?LinkId=251197)  
  
## <a name="see-also"></a>См. также  
 [Использование аннотаций SAL для сокращения количества дефектов в коде C/C++](../code-quality/using-sal-annotations-to-reduce-c-cpp-code-defects.md)   
 [Основные сведения о SAL](../code-quality/understanding-sal.md)   
 [Аннотация поведения функций](../code-quality/annotating-function-behavior.md)   
 [Аннотация структур и классов](../code-quality/annotating-structs-and-classes.md)   
 [Аннотация поведения блокировки](../code-quality/annotating-locking-behavior.md)   
 [Указание времени и места применения примечания](../code-quality/specifying-when-and-where-an-annotation-applies.md)   
 [Встроенные функции](../code-quality/intrinsic-functions.md)   
 [Рекомендации и примеры](../code-quality/best-practices-and-examples-sal.md)
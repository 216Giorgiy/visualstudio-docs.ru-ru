---
title: C6291 | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- C6291
helpviewer_keywords:
- C6291
ms.assetid: d0457386-e403-43fa-b959-5b6a495fab42
author: mikeblome
ms.author: mblome
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 1893a244de768e722656872da2a3c71269f30fcc
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="c6291"></a>C6291
Предупреждение C6291: Битовая операция с логическим результатом:! имеет более высокий приоритет, чем &#124;. Используйте &#124; &#124; или (! () x &#124; y)) вместо  
  
 `!` Оператор возвращает логическое значение и `|` (побитовое- или) принимает два арифметических аргумента. `!` Оператор также имеет более высокий приоритет, чем `|`.  
  
 Таким образом одна из следующих ошибок обнаружено:  
  
-   Выражение имеет неправильное использование скобок:  
  
     Так как результат `!` является логическое значение (ноль или один), попытка проверки, две переменные битов сводится тестирования, в правой стороне присутствует наименьший бит: `((!x) | y) != (!(x | y))` при `x == 0` и `y == 1`.  
  
-   `!` Оператор является неверной и должен быть `~` вместо:  
  
     `!` Оператор имеет логическое значение, но `~` оператор имеет арифметический результат. Эти операторы не являются взаимозаменяемыми даже в том случае, если применяются логическое значение (ноль или один): `((!x) | y) != ((~x) | y)` при `x == 1` и `y == 0`.  
  
-   Бинарный оператор `|` является неверной и должен быть `||`:  
  
     Несмотря на то что `|` иногда может быть произвольным с `||`, они не являются эквивалентными, так как выполняется принудительное вычисление правой части выражения. Могут возникать определенные побочные эффекты такого выражения: `(!p | (*p == '\0'))`, когда `p == NULL`, необходимо разыменовать его, чтобы оценить другую половину выражения.  
  
 Это предупреждение не отображается, если `!` оператор находится в правой части `|` оператор, так как этот случай обычно является относительно безобидный случай неверного оператора.  
  
 Сложно оценить серьезность проблемы без проверки кода. Необходимо проверить код, чтобы убедиться, что происходит проверки.  
  
 Данное предупреждение всегда указывает на возможную неоднозначность в использовании оператора или операторов.  
  
## <a name="example"></a>Пример  
 Это предупреждение возникает в следующем коде:  
  
```  
void f(int x, int y )  
{  
  if (!x | y)  
  {  
    //code   
  }  
}  
```  
  
 Чтобы устранить это предупреждение, используйте один из методов, показанных в следующем коде:  
  
```  
void fC(int x, int y )  
{  
  /* When checking whether any bits are set in either x or y. */  
  if (!(x | y))  
  {  
    // code  
  }  
  /* When checking whether bits are set in either */  
  /* the complement of x or in y. */  
  if ((~x) | y)  
  {  
    // code  
  }  
}  
  
#include <windows.h>  
void f(int x, BOOL y )  
{  
  /* When y is a Boolean or Boolean result. */  
  if ((!x) || y)  
  {  
    // code  
  }  
}  
```
---
title: Отладка потоков и процессов | Документация Майкрософт
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- multiprocess debugging
- threading [Visual Studio], debugging
- processes, debugging
- debugging threads
- debugging [Visual Studio], threads
ms.assetid: 9f0c8505-b6b2-452b-adfd-076db14d8115
caps.latest.revision: 18
author: MikeJo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: d0a42ed90275bb8988bb6bedc0b707aec21ab3b8
ms.sourcegitcommit: af428c7ccd007e668ec0dd8697c88fc5d8bca1e2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/16/2018
ms.locfileid: "51802620"
---
# <a name="debug-threads-and-processes"></a>Отладка потоков и процессов
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Потоки * и *процессы* — это связанные понятия в вычислительной технике. Оба представляют из себя последовательность инструкций, которые должны выполняться в определенном порядке. Инструкции в отдельных потоках или процессах, однако, могут выполняться параллельно.  
  
 Процессы существуют в операционной системе и соответствуют тому, что пользователи видят как программы или приложения. Поток, с другой стороны, существует внутри процесса. По этой причине потоки иногда называются *облегченные процессы*. Каждый процесс состоит из одного или более потоков.  
  
 Существование нескольких процессов позволяет компьютеру "одновременно" выполнять несколько задач. Существование нескольких потоков позволяет процессу разделять работу для параллельного выполнения. На многопроцессорном компьютере процессы или потоки могут работать на разных процессорах. Это позволяет выполнять реально параллельную работу.  
  
 Абсолютно параллельная обработка не всегда возможна. Потоки иногда должны синхронизироваться. Один поток может ожидать результата другого потока, или одному потоку может понадобиться монопольный доступ к ресурсу, который используется другим потоком. Проблемы синхронизации являются распространенной причиной ошибок в многопоточных приложениях. Иногда поток может закончиться, ожидая ресурс, который никогда не будет доступен. Это кончается состоянием, которое называется *взаимоблокировки*.  
  
 Отладчик [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] предоставляет мощные, но простые в использовании средства отладки потоков и процессов.  
  
## <a name="tools-for-debugging-threads-and-processes-in-visual-studio"></a>Средства отладки потоков и процессов в Visual Studio  
 Основные средства для работы с процессами в [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] являются **присоединение к процессу** диалоговом окне **процессы** окно и **место отладки** панели инструментов. Основные средства для отладки потоков — **потоков** окна, маркеры потоков в окнах исходного кода и **место отладки** панели инструментов.  
  
 Основные средства для отладки многопоточных приложений — **Параллельные стеки** и **параллельных задач**, **контроль параллельных данных**, и **потоки GPU** windows.  
  
 В следующей таблице показаны доступные данные и действия, которые можно выполнять в каждом из этих мест:  
  
|Пользовательский интерфейс|Доступные сведения|Действия, которые можно выполнять|  
|--------------------|---------------------------|-----------------------------|  
|**Присоединение к процессу** диалоговое окно|Доступные процессы для присоединения:<br /><br /> -Имя процесса (.exe)<br />-Обработка Идентификационный номер<br />-Название строки меню<br />-Тип (управляемый версии 4.0; Управляемые версии 2.0, 1.1, версия 1.0; x86; x64; IA64)<br />-Имя пользователя (имя учетной записи)<br />-Номер сеанса|Выберите процесс для присоединения<br /><br /> Выберите удаленный компьютер<br /><br /> Измените тип транспортного протокола для подключения к удаленным компьютерам|  
|**Процессы** окно|Присоединенные процессы:<br /><br /> -Имя процесса<br />-Обработка Идентификационный номер<br />— Путь к процессу .exe<br />-Название строки меню<br />— Состояние (прерывание. Работа)<br />-Отладки (машинный код, управляемым и т. д.)<br />-Тип транспортного протокола (по умолчанию, машинный без проверки подлинности)<br />-Квалификатор транспортного протокола (удаленный компьютер)|Средства:<br /><br /> -Присоединением<br />-Отсоединения<br />— Завершить<br /><br /> Контекстное меню:<br /><br /> -Присоединением<br />-Отсоединения<br />-Отсоединиться при остановке отладки<br />— Завершить|  
|**Потоки** окно|Потоки текущего процесса:<br /><br /> -Идентификатор потока<br />-Управляемый ИД<br />— Категория (основной поток, поток интерфейса, обработчик вызова удаленной процедуры или рабочий поток)<br />-Имя потока<br />— Расположение, где создан поток<br />— Приоритет<br />-Affinity Mask<br />-Приостановленный счетчик<br />-Имя процесса<br />-Индикатор флага<br />-Приостановленный индикатор|Средства:<br /><br /> -Поиска<br />— Поиск в стеке вызовов<br />-Отметить только мой код<br />-Пометить выбранные пользовательские модули<br />-Группировать по<br />-Столбцы<br />-Развернуть/свернуть стеки вызовов<br />-Развернуть/свернуть группы<br />-Заморозить/Разморозить потоки<br /><br /> Контекстное меню:<br /><br /> -Показать потоки в исходном коде<br />-Переключение на поток<br />-Заморозить выполняющийся поток<br />-Разморозить замороженный поток<br />-Пометить поток для дополнительного изучения<br />-Снятие пометки потока<br />-Переименовать поток<br />-Отобразить и скрыть потоки<br /><br /> Другие действия:<br /><br /> -Просмотр стека вызовов для потока в совете|  
|Окна исходного кода.|Индикаторы потока в левом поле указывают один или несколько потоков (по умолчанию отключено, включается с помощью контекстного меню в **потоков** окно)|Контекстное меню:<br /><br /> -Переключение на поток<br />-Пометить поток для дополнительного изучения<br />-Снятие пометки потока|  
|**Место отладки** панели инструментов|-Текущий процесс<br />-Приостановить приложение<br />-Возобновить работу приложения<br />-Приостановить и завершить работу приложения<br />-Текущий поток<br />-Переключить состояние флага текущего потока<br />— Показывать только отмеченные потоки<br />-Показать только текущий процесс<br />-Текущий кадр стека|-Переключиться в другой процесс<br />-Приостановить, возобновить или завершить работу приложения<br />-Переключение на другой поток в текущем процессе<br />-Переключиться на другой кадр стека в текущем потоке<br />-Пометка и снятие пометки текущих потоков<br />— Показывать только отмеченные потоки<br />-Показать только текущий процесс|  
|**Параллельные стеки** окно|-Стеки вызовов для нескольких потоков в одном окне.<br />-Активный кадр стека для каждого потока.<br />-Вызывающие и вызываемые объекты для любого метода.|-Отфильтровать указанные потоки<br />-Переключитесь в представление "Параллельные задачи"<br />-Пометка и снятие пометки потока<br />-Масштаба|  
|**Параллельные задачи** окно|— Просмотр сведений о <xref:System.Threading.Tasks.Task> объектов, включая идентификатор задачи, состояние задачи (запланирована, выполнения, ожидания, количеством взаимных блокировок), и потоке, назначенном задаче.<br />-Текущее расположение в стеке вызовов.<br />-Делегат, переданный задаче во время создания|-Переключиться на текущую задачу<br />-Флаг или снять пометку с задачи<br />-Заморозить или разморозить задачу|  
|**Контроль параллельных данных** окно|— Столбец флагов, в котором можно пометить поток, которому требуется уделить особое внимание.<br />-Столбец кадров, в котором стрелка указывает выбранного кадра.<br />-Настраиваемый столбец, который может отображать компьютер, процесс, плитки, задачи и потока.|-Пометка и снятие пометки потока<br />-Отобразить только отмеченные потоки<br />-Переключить кадры<br />— Сортировка столбцов<br />-Группы потоков<br />-Заморозить или Разморозить потоки<br />-экспортировать данные в окне «контроль параллельных данных»|  
|**Потоки GPU** окно|— Столбец флагов, в котором можно пометить поток, которому требуется уделить особое внимание.<br />-Активный поток столбец, в котором желтая стрелка указывает активный поток. Стрелка указывает поток, где выполнение было передано в отладчик.<br />- **Число потоков** столбец, который отображает количество потоков в одном месте.<br />- **Строки** столбец, который отображает строку кода, где расположена каждая группа потоков.<br />- **Адрес** столбец, в котором отображается адрес инструкции, где расположена каждая группа потоков.<br />- **Расположение** столбец, в которой находится в коде адреса.<br />- **Состояние** столбец, который показывает, является ли поток активным или блокированным.<br />- **Плитку** столбец, который показывает индекс плитки для потоков в строке.|— Изменения другого активного потока<br />-Отобразить определенную плитку и потока<br />— Отображение или скрытие столбца<br />— Сортировка по столбцу<br />-Группы потоков<br />-Заморозить или Разморозить потоки<br />-Пометка и снятие пометки потока<br />-Отобразить только отмеченные потоки|  
  
## <a name="see-also"></a>См. также  
 [Присоединение к выполняемым процессам](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [Отладка многопоточных приложений](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [Отладка кода GPU](../debugger/debugging-gpu-code.md)




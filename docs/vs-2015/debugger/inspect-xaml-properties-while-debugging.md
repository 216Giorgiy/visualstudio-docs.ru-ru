---
title: Просмотр свойств XAML во время отладки | Документация Майкрософт
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- FSharp
- VB
- CSharp
- C++
ms.assetid: 390edde4-7b8d-4c89-8d69-55106b7e6b11
caps.latest.revision: 6
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 282b93ac9f04f5e547567e8380e65826f433ba2d
ms.sourcegitcommit: 9ceaf69568d61023868ced59108ae4dd46f720ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2018
ms.locfileid: "49282260"
---
# <a name="inspect-xaml-properties-while-debugging"></a>Просмотр свойств XAML во время отладки
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Можно получить в режиме реального времени запуска кода XAML с **динамическое визуальное дерево** и **динамический обозреватель свойств**. Эти средства обеспечивают представление элементов пользовательского интерфейса выполняющегося приложения XAML в виде дерева, а также отображение свойств среды выполнения любого выбранного элемента интерфейса.  
  
 Эти средства можно использовать в следующих конфигурациях.  
  
|Тип приложения|Операционная система и средства|  
|-----------------|--------------------------------|  
|Приложения Windows Presentation Foundation (4.0 и более поздних версий)|Windows 7 и более поздних версий|  
|Приложения для Магазина Windows и Windows Phone 8.1|Windows 10 и более поздних версий, с помощью [Windows 10 SDK](https://dev.windows.com/downloads/windows-10-sdk)|  
|Универсальные приложения Windows|Windows 10 и более поздних версий, с помощью [Windows 10 SDK](https://dev.windows.com/downloads/windows-10-sdk)|  
  
## <a name="looking-at-elements-in-the-live-visual-tree"></a>Просмотр элементов в динамическом визуальном дереве  
 Начнем с очень простого приложения WPF со списком и кнопкой. При каждом нажатии кнопки в список добавляется еще один элемент. Четные элементы показаны серым, а нечетные — желтым цветом.  
  
 Создайте новое приложение WPF C# ("Файл"/"Создать"/"Проект", затем выберите C# и найдите приложение WPF). Назовите его **TestXAML**.  
  
 Измените файл MainWindow.xaml следующим образом.  
  
```xaml  
<Window x:Class="WpfApplication1.MainWindow"  
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"  
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"  
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"  
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
    xmlns:local="clr-namespace:WpfApplication1"  
    mc:Ignorable="d"  
     Title="MainWindow" Height="350" Width="525">  
    <Grid>  
        <Button x:Name="button" Background="LightBlue" Content="Add Item" HorizontalAlignment="Left" Margin="216,206,0,0" VerticalAlignment="Top" Width="75" Click="button_Click"/>  
        <ListBox x:Name="listBox" HorizontalAlignment="Left" Height="100" VerticalAlignment="Top" Width="100" Margin="205,80,0,0"/>  
    </Grid>  
</Window>  
```  
  
 Добавьте следующий обработчик команд в файл MainWindow.xaml.cs:  
  
```csharp  
private void button_Click(object sender, RoutedEventArgs e)  
{  
    ListBoxItem item = new ListBoxItem();  
    item.Content = "Item" + ++count;  
    if (count % 2 == 0)  
    {  
        item.Background = Brushes.LightGray;  
    }  
    else  
    {  
        item.Background = Brushes.LightYellow;  
    }  
    listBox.Items.Add(item);  
}  
```  
  
 Выполните сборку решения и запустите отладку. (В качестве конфигурации сборки нужно выбрать отладку, а не выпуск. Дополнительные сведения о конфигурациях сборки см. в разделе [конфигурациях сборки](../ide/understanding-build-configurations.md).)  
  
 Когда появится окно, нажмите кнопку **Добавление элемента** кнопку несколько раз. Результат должен быть примерно таким:  
  
 ![Главное окно приложения](../debugger/media/livevisualtree-app.png "LiveVIsualTree-App")  
  
 Теперь откройте **динамическое визуальное дерево** окна (**отладка / Windows / динамическое визуальное дерево**, или найдите его вдоль левой стороны интегрированной среды разработки). Перетащите его из закрепленного положения, чтобы можно было просмотреть это окно и **динамические свойства** окна рядом друг с другом. В **динамическое визуальное дерево** окне разверните **ContentPresenter** узла. Он должен содержать узлы для кнопки и списка. Разверните поле со списком (а затем **ScrollContentPresenter** и **ItemsPresenter**) для поиска элементов списка. Окно должно выглядеть следующим образом:  
  
 ![Элементы ListBoxItems в динамическом визуальном дереве](../debugger/media/livevisualtree-listboxitems.png "LiveVisualTree ListBoxItems")  
  
 Вернитесь в окно приложения и добавьте еще несколько элементов. Вы должны увидеть больше элементов списка отображаются в **динамическое визуальное дерево**.  
  
 Теперь взглянем на свойства одного из элементов списка. Выберите первый элемент списка в **динамическое визуальное дерево** и нажмите кнопку **Показать свойства** значок на панели инструментов. **Динамический обозреватель свойств** должен отображаться. Обратите внимание, что **содержимого** поле является «Item1» и **фона** поле является **#FFFFFFE0** (Светло-желтый). Вернитесь к **динамическое визуальное дерево** и выберите второй элемент списка. **Динамический обозреватель свойств** показывает, что **содержимого** поле является «Item2» и **фона** поле является **#FFD3D3D3** (светло-серый ).  
  
 Фактическая структура XAML-кода содержит много элементов, которые, возможно, не будут интересовать вас напрямую, и в случае не слишком хорошего знания кода навигация по дереву может быть затруднительной. Поэтому **динамическое визуальное дерево** есть два способа, позволяющие использовать пользовательский Интерфейс приложения для поиска элемента, которое необходимо исследовать.  
  
 **Включение возможности выбора в работающем приложении**. Вы можете включить этот режим, при выборе крайняя левая кнопка на **динамическое визуальное дерево** панели инструментов. Этот режим включен, можно выбрать элемент пользовательского интерфейса в приложении и **динамическое визуальное дерево** (и **динамического обозревателя свойств**) автоматически обновляются на экран будет выведен узел в дереве, соответствующей этому элементу и его свойства.  
  
 **Показать графические элементы макета в работающем приложении**. Этот режим можно включить при нажатии кнопки, расположенной справа от кнопки включения выделения. Когда **отображение графических элементов макета** имеет значение on, то окно приложения, чтобы Показать горизонтальные и вертикальные линии вдоль границ выбранного объекта, чтобы можно было видеть, что в связи, а также прямоугольники, показывающие поля. Например, включите оба **Включение возможности выбора** и **формат вывода** и выберите **Добавление элемента** блок текста в приложении. Должен появиться узел блока текста в **динамическое визуальное дерево** и свойства блока текста **динамического обозревателя свойств**, а также горизонтальные и вертикальные линии для границы текстового блока.  
  
 ![LivePropertyViewer в DisplayLayout](../debugger/media/livevisualtreelivepropertyviewer-displaylayout.png "LiveVisualTreeLivePropertyViewer DisplayLayout")  
  
 **Предварительный просмотр выбора**. Этот режим можно включить, нажав третью кнопка слева на панели инструментов динамического визуального дерева. Этот режим показывает XAML-код, где был объявлен элемент, если имеется доступ к исходному коду приложения. Выберите **Включение возможности выбора** и **Предварительный просмотр выбора**, а затем нажмите кнопку в тестируемом приложении. Файл MainWindow.xaml откроется в Visual Studio и курсор будет находится в строке, где определена кнопка.  
  
## <a name="using-xaml-tools-with-running-applications"></a>Использование средств XAML с работающими приложениями  
 Эти средства XAML можно использовать даже при отсутствии исходного кода. При присоединении к выполняющемуся приложению XAML, можно использовать **динамическое визуальное дерево** на элементы пользовательского интерфейса приложения слишком. Ниже приведен пример, в котором используется то же тестовое приложение WPF, что и ранее.  
  
1.  Запуск **TestXaml** приложения в конфигурации выпуска. Не удается подключить к процессу, который выполняется в **Отладка** конфигурации.  
  
2.  Откройте второй экземпляр Visual Studio и нажмите кнопку **отладка / присоединение к процессу**. Найти **TestXaml.exe** в список доступных процессов и нажмите кнопку **Attach**.  
  
3.  Начнется выполнение приложения.  
  
4.  Второй экземпляр Visual Studio, откройте **динамическое визуальное дерево** (**отладка / Windows / динамическое визуальное дерево**). Вы должны увидеть **TestXaml** элементы пользовательского интерфейса и вы сможете изменять их, как во время отладки приложения напрямую.




---
title: 'Практическое: подключение к данным в базе данных | Документация Майкрософт'
ms.custom: ''
ms.date: 2018-06-30
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- VB
- CSharp
- C++
- aspx
helpviewer_keywords:
- databases, connecting to
- data sources, databases
- data [Visual Studio], connecting to databases
- data sources, creating
- database connections
ms.assetid: 6c56e54e-8834-4297-85aa-cc1a443ba556
caps.latest.revision: 55
author: gewarren
ms.author: gewarren
manager: ghogen
robots: noindex,nofollow
ms.openlocfilehash: 72b278305995e2edb86e612e0c5c3789c8ce756a
ms.sourcegitcommit: 55f7ce2d5d2e458e35c45787f1935b237ee5c9f8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/22/2018
ms.locfileid: "47560460"
---
# <a name="how-to-connect-to-data-in-a-database"></a>Практическое руководство. Подключение к данным в базе данных
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Visual Studio можно использовать для подключения приложения к базе данных. После создания подключения к данным Visual Studio создает модель данных, которые используется приложением для взаимодействия с данными в базе данных. Объекты в модели данных отображаются в [окна "Источники данных"](http://msdn.microsoft.com/library/0d20f699-cc95-45b3-8ecb-c7edf1f67992). Затем можно создать элементы управления с привязкой к данным путем перетаскивания элементов из **окна "Источники данных"** в рабочую область конструирования. Дополнительные сведения см. в разделе [привязка элементов управления к данным в Visual Studio](../data-tools/bind-controls-to-data-in-visual-studio.md).  
  
 В этом разделе представлены инструкции по подключению к базе данных и созданию следующих типов моделей данных:  
  
-   Набор данных  
  
-   Модель EDM  
  
> [!NOTE]
>  Visual Studio можно также использовать для создания классов LINQ to SQL из базы данных. Однако классы LINQ to SQL не отображаются в **источников данных** окно и поэтому невозможно перетащить напрямую в конструктор для создания элементов управления с привязкой данных. Дополнительные сведения о создании LINQ для классов SQL из базы данных, см. в разделе [как: создать классы LINQ to SQL сопоставленные с таблицами и представлениями (реляционный конструктор объектов)](../data-tools/how-to-create-linq-to-sql-classes-mapped-to-tables-and-views-o-r-designer.md).  
  
 [!INCLUDE[note_settings_general](../includes/note-settings-general-md.md)]  
  
##  <a name="dataset"></a> Подключение к базе данных и создание набора данных  
 При создании набора данных, основанного на базе данных, Visual Studio создает набор классов, которые являются программируемым представлением этих данных. Основной класс называется *типизированный набор данных*. Типизированный набор данных содержит объекты таблицы данных, которые представляют таблицы в базе данных. Дополнительные сведения о типизированных наборах данных см. в разделе [средства набора данных в Visual Studio](../data-tools/dataset-tools-in-visual-studio.md).  
  
 После создания набора данных можно создать элементы управления WPF или Windows Forms с привязкой к данным посредством перетаскивания объектов базы данных из окна источников данных в конструктор WPF или Windows Forms.  
  
#### <a name="to-connect-your-application-to-a-database-and-create-a-dataset"></a>Чтобы подключить приложение к базе данных и создать набор данных  
  
1.  Откройте существующий проект в Visual Studio или создайте новый проект.  
  
2.  В меню **Данные** выберите команду **Добавить новый источник данных**.  
  
     **Мастер настройки источника данных** открывает.  
  
3.  На **Выбор типа источника данных** выберите **базы данных**, а затем нажмите кнопку **Далее**.  
  
4.  На **Выбор модели базы данных** выберите **набора данных**, а затем нажмите кнопку **Далее**.  
  
5.  На **Выбор подключения к данным** странице, выберите подключение к данным в списке доступных подключений и нажмите кнопку **Далее**.  
  
     Если необходимое подключение данных недоступен, создайте новое подключение, выполнив действия, описанные в [Создание нового подключения к базе данных](#CreatingDataConnection).  
  
6.  На **сохранение подключения в файле конфигурации приложения** страницы, можно снять **Да, сохранить подключение как** флажок, если вы хотите сохранить строку подключения непосредственно в скомпилированных приложение. По умолчанию подключение сохраняется в файле конфигурации приложения. Дополнительные сведения см. в разделе [как: сохранение и изменение строк подключения](~/E:/Repos/visualstudio-docs-pr/docs/data-tools/how-to-save-and-edit-connection-strings.md).  
  
7.  На **Choose Your Database Objects** выберите объекты базы данных, которые будут использоваться в приложении. Также имеется возможность замены по умолчанию **имя набора данных**.  
  
8.  Нажмите кнопку **Готово**. Только что созданный набор данных теперь доступен в **источников данных** окна.  
  
    > [!NOTE]
    >  Если **источников данных** окна не открыто, нажмите кнопку **Показать источники данных** на **данных** меню, чтобы открыть окно.  
  
9. Теперь можно перетаскивать элементы из **источников данных** окно в конструктор WPF, конструктор Windows Forms, или [конструктор компонентов](http://msdn.microsoft.com/library/61a3a450-5b15-465e-bd9a-72a6c8c2b282) создание элементов управления с привязкой к данным. Дополнительные сведения см. в разделе [привязка элементов управления к данным в Visual Studio](../data-tools/bind-controls-to-data-in-visual-studio.md).  
  
##  <a name="edm"></a> Подключение к базе данных и создание модели EDM  
 При создании модели EDM, основанной на базе данных, Visual Studio создает набор классов, которые являются программируемым представлением этих данных. Дополнительные сведения о модели EDM и ADO.NET Entity Framework, см. в разделе [Обзор Entity Framework](http://msdn.microsoft.com/library/a2166b3d-d8ba-4a0a-8552-6ba1e3eaaee0).  
  
 После создания модели EDM элементы управления WPF с привязкой к данным можно создавать путем перетаскивания объектов сущностей из окна "Источники данных" в конструктор WPF.  
  
#### <a name="to-connect-your-application-to-a-database-and-create-an-entity-data-model"></a>Чтобы подключить приложение к базе данных и создать модель EDM  
  
1.  Откройте существующий проект в Visual Studio или создайте новый проект.  
  
2.  Выполните действия, описанные в **мастер моделей EDM** для соединения с базой данных и указания содержимого модели. Дополнительные сведения см. в разделе [как: создать новый EDMX-файл](http://msdn.microsoft.com/en-us/beb8189e-e51c-4051-839c-9902c224abf2).  
  
3.  После завершения **мастер моделей EDM**, вы создали модель EDM открывается в конструкторе моделей EDM и объекты данных теперь доступны в **источников данных** окна.  
  
    > [!NOTE]
    >  Если **источников данных** окна не открыто, нажмите кнопку **Показать источники данных** на **данных** меню, чтобы открыть окно.  
  
4.  Если открыт конструктор WPF, можно перетаскивать элементы из **источников данных** окно в конструктор для создания элементов управления, привязанных к модели EDM. Дополнительные сведения см. в разделе [элементы управления WPF, привязка к данным в Visual Studio](../data-tools/bind-wpf-controls-to-data-in-visual-studio2.md).  
  
     Если открыт конструктор Windows Forms, невозможно будет перетаскивать элементы из **источников данных** в конструктор. Чтобы создать элементы управления, привязанные к модели EDM, необходимо построить проект, добавить новый источник данных объектов, основанный на этой модели EDM, и перетащить новые объекты в конструктор.  
  
##  <a name="CreatingDataConnection"></a> Создание нового подключения к базе данных  
 При использовании **мастер настройки источника данных**или **мастер моделей EDM**, необходимо указать подключения к базе данных вы хотите использовать. Если подключение к базе данных отсутствует, выполните следующие действия для создания такого подключения.  
  
 Эти инструкции предполагают, что вы уже начали **мастер настройки источника данных** или **мастер моделей EDM** как описано в разделе [подключение к базе данных и создание набора данных ](#dataset) и [подключение к базе данных и создание модели EDM](#edm).  
  
#### <a name="to-create-a-new-database-connection"></a>Чтобы создать новое подключение к базе данных  
  
1.  На **Выбор подключения к данным** странице **мастер настройки источника данных** или **мастер моделей EDM**, нажмите кнопку **новое подключение**.  
  
     Будет выполнено одно из перечисленных ниже действий.  
  
    -   Если вы уже создали подключение к данным в Visual Studio **добавить подключение** откроется диалоговое окно.  
  
    -   Если это первое подключение к данным вы создали в Visual Studio **Выбор источника данных** отображает диалоговое окно. Выберите тип базы данных, которые вы хотите подключиться и нажмите кнопку **ОК** для отображения **добавить подключение** диалоговое окно.  
  
2.  В **добавить подключение** диалогового окна введите требуемую информацию. **Добавить подключение** диалоговое окно отличается для каждого типа поставщика данных.  
  
    > [!NOTE]
    >  Если выбранный **источника данных** в **добавить подключение** диалоговое окно не является источником данных, вы хотите подключиться, щелкните **изменение** открыть **измененных данных Источник** диалогового окна поле, а затем выберите другой источник данных.  
  
3.  В **добавить подключение** диалоговом окне щелкните **ОК**.  
  
     Вернуться к **Выбор подключения к данным** странице **мастер настройки источника данных** или **мастер моделей EDM**.  
  
4.  На **Выбор подключения к данным** странице, убедитесь, что выбран новое подключение к данным, а затем выберите **Далее**.  
  
5.  Выполните оставшиеся действия **мастер настройки источника данных** или **мастер моделей EDM**.  
  
## <a name="net-framework-security"></a>Безопасность платформы .NET Framework  
 Хранение конфиденциальных сведений (например, пароля) может повлиять на безопасность приложений. Использование проверки подлинности Windows (также называемой встроенными средствами безопасности) — более безопасный способ управления доступом к базе данных. Дополнительные сведения см. в разделе [Защита сведений о подключении](http://msdn.microsoft.com/library/1471f580-bcd4-4046-bdaf-d2541ecda2f4).  
  
## <a name="see-also"></a>См. также  
 [Добавление новых источников данных](../data-tools/add-new-data-sources.md)   
 [Примеры работы с данными](http://msdn.microsoft.com/library/15a88fb8-3bee-4962-914d-7a1f8bd40ec4)   
 [Привязка элементов управления Windows Forms к данным в Visual Studio](../data-tools/bind-windows-forms-controls-to-data-in-visual-studio.md)   
 [Подключение к данным в Visual Studio](../data-tools/connecting-to-data-in-visual-studio.md)   
 [Подключение к источнику данных](http://msdn.microsoft.com/library/9abc3f92-1be3-4e1a-b360-762dc689650e)
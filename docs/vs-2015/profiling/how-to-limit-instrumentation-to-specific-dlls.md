---
title: Практическое руководство. Ограничение инструментирования указанными библиотеками DLL | Документы Майкрософт
ms.custom: ''
ms.date: 2018-06-30
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- performance tools, runtime profiling control window
ms.assetid: 17c5996f-e3d0-4e44-b175-52b401b0f2d5
caps.latest.revision: 24
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: b99a67921739f620c908f1551f0f8a29a5aac73a
ms.sourcegitcommit: 55f7ce2d5d2e458e35c45787f1935b237ee5c9f8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/22/2018
ms.locfileid: "47558133"
---
# <a name="how-to-limit-instrumentation-to-specific-dlls"></a>Практическое руководство. Ограничение инструментирования указанными библиотеками DLL
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Последнюю версию этого раздела можно найти в [как: Ограничение инструментирования указанными библиотеками DLL](https://docs.microsoft.com/visualstudio/profiling/how-to-limit-instrumentation-to-specific-dlls).  
  
С помощью метода профилирования "Инструментирование" можно ограничить сбор данных профилирования одной или несколькими библиотеками DLL приложения. Для профилирования одной или нескольких библиотек DLL в приложении создайте сеанс анализа производительности, включающий DLL-файлы в качестве целевых объектов. Вы можете указать библиотеки DLL, которые требуется профилировать, как проекты в решении [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] или как независимые двоичные файлы.  
  
### <a name="to-limit-instrumentation-to-specific-dlls-in-a-visual-studio-solution"></a>Ограничение инструментирования указанными библиотеками DLL в решении Visual Studio  
  
1.  Откройте решение, содержащее библиотеку DLL, в [!INCLUDE[vsPreLong](../includes/vsprelong-md.md)].  
  
2.  В меню **Анализ** выберите пункт **Запустить мастер производительности**.  
  
3.  В качестве метода профилирования выберите **Инструментирование** и нажмите кнопку **Далее**.  
  
4.  В поле **Какой из следующих доступных целевых объектов следует профилировать?** выберите имя проекта DLL и нажмите кнопку **Далее**.  
  
5.  Щелкните **Готово**, чтобы завершить работу мастера и вывести новый сеанс анализа производительности в окне **обозревателя производительности**.  
  
6.  Щелкните правой кнопкой мыши элемент **Цели**, а затем выберите **Добавить конечный проект**.  
  
7.  В списке **Добавить конечный проект** выберите проект исполняемого файла, который будет использоваться для запуска библиотеки DLL.  
  
     Необязательный. Можно добавить все проекты библиотек DLL, которые требуется профилировать.  
  
8.  Чтобы предотвратить сбор данных для добавленного проекта, щелкните имя проекта правой кнопкой мыши и снимите флажок **Инструмент**.  
  
### <a name="to-specify-specific-dlls-to-profile-as-independent-binaries"></a>Указание определенных библиотек DLL для профилирования как независимых двоичных файлов  
  
1.  Откройте [!INCLUDE[vsPreLong](../includes/vsprelong-md.md)].  
  
2.  В меню **Анализ** выберите пункт **Запустить мастер производительности**.  
  
3.  В поле **Какой из следующих доступных целевых объектов следует профилировать** выберите **Профилирование библиотеки динамической компоновки (DLL)** и нажмите кнопку **Далее**.  
  
4.  На второй странице мастера выполните следующие действия.  
  
    -   Введите путь и имя DLL-файла, который требуется профилировать, в поле **Путь к DLL**. Также можно нажать кнопку с многоточием (...), чтобы найти файл в диалоговом окне **Библиотека динамической компоновки для профилирования**. Обратите внимание, что необходимо указать копию DLL-файла, запускаемого с помощью исполняемого файла (EXE), который вы выберете в следующем шаге.  
  
    -   Введите путь и имя исполняемого файла (EXE), который будет запускать DLL-файл, в поле **Путь к исполняемому файлу**. Также можно нажать кнопку с многоточием (...), чтобы найти файл в диалоговом окне **Исполняемый файл для запуска**.  
  
    -   Необязательный. Введите аргументы командной строки, которые требуется передать в исполняемый файл, в поле **Аргументы командной строки**. При необходимости укажите рабочий каталог для приложения в поле **Рабочий каталог**.  
  
    -   Нажмите кнопку **Далее**.  
  
5.  В качестве метода профилирования выберите **Инструментирование** и нажмите кнопку **Далее**.  
  
6.  Щелкните **Готово**, чтобы завершить работу мастера и вывести новый сеанс анализа производительности в окне **обозревателя производительности**.  
  
7.  Необязательный. Чтобы добавить другие DLL-файлы, щелкните правой кнопкой мыши элемент **Цели**, а затем выберите **Добавить целевой двоичный файл**. Выберите файлы в диалоговом окне **Добавление целевого двоичного файла**.  
  
    > [!NOTE]
    >  Не указывайте исполняемый файл (EXE), который используется для запуска библиотеки DLL.  
  
## <a name="see-also"></a>См. также  
 [Управление сбором данных](../profiling/controlling-data-collection.md)   
 [Практическое руководство. Ограничение инструментирования указанными функциями](../profiling/how-to-limit-instrumentation-to-specific-functions.md)




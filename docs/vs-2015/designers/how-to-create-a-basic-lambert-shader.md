---
title: Практическое руководство. Создание простейшего шейдера освещения с использованием модели Ламберта | Документы Майкрософт
ms.custom: ''
ms.date: 2018-06-30
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-general
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ec5c10fb-9600-4240-8280-d59451ea1d68
caps.latest.revision: 22
author: gewarren
ms.author: gewarren
manager: ghogen
ms.openlocfilehash: 0aee168b1788ce41f807d6b656588e7094e257b8
ms.sourcegitcommit: 55f7ce2d5d2e458e35c45787f1935b237ee5c9f8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/22/2018
ms.locfileid: "47562338"
---
# <a name="how-to-create-a-basic-lambert-shader"></a>Практическое руководство. Создание простейшего шейдера освещения с использованием модели Ламберта
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Последнюю версию этого раздела можно найти в [как: создание простейшего шейдера Ламберт](https://docs.microsoft.com/visualstudio/designers/how-to-create-a-basic-lambert-shader).  
  
В этом документе показано, как использовать конструктор шейдеров и язык шейдеров ориентированных графов (Directed Graph Shader Language — DGSL) для создания шейдера, реализующего классическую модель освещения Ламберта.  
  
 В этом документе описаны следующие действия.  
  
-   Добавление узлов в граф шейдеров  
  
-   Отсоединение узлов  
  
-   Соединение узлов  
  
## <a name="the-lambert-lighting-model"></a>Модель освещения Ламберта  
 Модель освещения Ламберта включает окружающее и направленное освещение для затенения объектов в трехмерной сцене. Окружающие компоненты обеспечивают базовый уровень освещения в трехмерной сцене. Направленные компоненты обеспечивают дополнительное освещение из направленных (и удаленных) источников света. Окружающее освещение в равной степени затрагивает все поверхности в сцене, независимо от их ориентации. Для определенной поверхности это совокупность ее окружающего цвета, а также цвета и интенсивности окружающего освещения в сцене. Направленное освещение влияет на каждую из поверхностей в сцене по-разному, в зависимости от их ориентации по отношению к направлению источника света. Оно представляет собой совокупность диффузного цвета и ориентации поверхности, а также цвета, интенсивности и направления источников света. Поверхности, обращенные непосредственно к источнику света, получают максимальный отражающий вклад, а поверхности, обращенные непосредственно от источника света, не получают никакого вклада. В модели освещения Ламберта окружающий компонент и один или несколько направленных компонентов объединяются для определения общего вклада по диффузному цвету для каждой точки на объекте.  
  
 Перед началом убедитесь, что отображаются окно **Свойства** и **Панель элементов**.  
  
#### <a name="to-create-a-lambert-shader"></a>Создание шейдера освещения с использованием модели Ламберта  
  
1.  Создайте построитель текстуры DGSL, с которым будете работать. Дополнительные сведения о добавлении шейдера DGSL в проект см. в подразделе "Начало работы" раздела [Конструктор шейдеров](../designers/shader-designer.md).  
  
2.  Отсоедините узел **Цвет точки** от узла **Окончательный цвет**. Выберите терминал **RGB** узла **Цвет точки**, а затем выберите **Разорвать связи**. Оставьте терминал **Альфа** подсоединенным.  
  
3.  Добавьте в граф узел **Ламберт**. В окне **Панель элементов** в разделе **Служебная программа** выберите **Ламберт** и переместите элемент в область конструктора. Узел Ламберта вычисляет общий вклад диффузного цвета для пикселя на основе параметров окружающего и диффузного освещения.  
  
4.  Соедините узел **Цвет точки** с узлом **Ламберт**. В режиме **Выбрать** переместите терминал **RGB** узла **Цвет точки** к терминалу **Диффузный цвет** узла **Ламберт**. Это соединение предоставляет узлу Ламберта интерполированный диффузный цвет пикселя.  
  
5.  Соедините вычисленное значение цвета с окончательным цветом. Переместите терминал **Вывод** узла **Ламберт** к терминалу **RGB** узла **Окончательный цвет**.  
  
 Ниже показан готовый граф шейдера и предварительный просмотр шейдера, примененного к модели чайника.  
  
> [!NOTE]
>  Для лучшей демонстрации эффекта шейдера на этом рисунке оранжевый цвет был задан с использованием параметра **MaterialDiffuse** шейдера. Игра или приложение могут использовать этот параметр, чтобы предоставить уникальное значение цвета для каждого объекта. Дополнительные сведения о параметрах материалов см. в подразделе "Предварительный просмотр шейдеров" раздела [Конструктор шейдеров](../designers/shader-designer.md).  
  
 ![Граф шейдера и предварительный просмотр его эффекта.](../designers/media/digit-lambert-effect-graph.png "Digit-Lambert-Effect-Graph")  
  
 Некоторые фигуры могут лучше подходить для предварительного просмотра некоторых шейдеров. Дополнительные сведения о предварительном просмотре шейдеров в конструкторе шейдеров см. в подразделе "Предварительный просмотр шейдеров" раздела [Конструктор шейдеров](../designers/shader-designer.md).  
  
 На следующем рисунке шейдер, описанный в этом документе, применяется к трехмерной модели.  
  
 ![Применение к модели освещения по методу Ламберта.](../designers/media/digit-lambert-effect-result.png "Digit-Lambert-Effect-Result")  
  
 Дополнительные сведения о способах применения шейдера к трехмерной модели см. в разделе [Практическое руководство. Применение шейдера к трехмерной модели](../designers/how-to-apply-a-shader-to-a-3-d-model.md).  
  
## <a name="see-also"></a>См. также  
 [Практическое руководство. Применение шейдера к трехмерной модели](../designers/how-to-apply-a-shader-to-a-3-d-model.md)   
 [Практическое руководство. Экспорт шейдера](../designers/how-to-export-a-shader.md)   
 [Практическое руководство. Создание простейшего шейдера освещения по методу Фонга](../designers/how-to-create-a-basic-phong-shader.md)   
 [Конструктор шейдеров](../designers/shader-designer.md)   
 [Узлы конструктора шейдеров](../designers/shader-designer-nodes.md)



